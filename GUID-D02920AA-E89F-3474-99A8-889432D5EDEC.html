<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="COCSPDelegateAuthorisationScheme"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC"/>

<title>COCSPDelegateAuthorisationScheme</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC"><a name="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2460509 id2460514 id2460519 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">COCSPDelegateAuthorisationScheme Class Reference</h1>
	<table class="signature"><tr><td>class COCSPDelegateAuthorisationScheme : public CActive</td></tr></table><div class="section"><div>
			<p>Implement part of S2.2.2 of RFC 2560.</p>

			<p>"a CA Designated Responder (Authorized Responder) who holds a specially marked certificate issued directly by the CA, indicating that the responder may issue OCSP responses for that CA." </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">COCSPDelegateAuthorisationScheme<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a><ul class="derivation"><li class="derivation-depth-2 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-85133F65-B655-3F65-8983-0EA5E973971D">~COCSPDelegateAuthorisationScheme</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-85A0869A-F767-3E9D-AF86-165626CB0BA0">CancelValidate</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html">COCSPDelegateAuthorisationScheme</a> *</td><td><a href="#GUID-DB8357F2-9480-3EEB-B96E-BFBDEC300C13">NewLC</a>(<a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">const <a href="GUID-D1CE9D78-5A9D-3F0E-A785-71FF5A32D5D8.html">CX509Certificate</a> *</td><td><a href="#GUID-2180A836-7243-3E62-8421-C88809F2236A">ResponderCert</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-E1FC8D6E-6C78-3228-9E58-EEF0E2A6AA1B">ValidateL</a>(<a href="GUID-FE40A88E-19A4-3A05-91DE-A55BFA51B7CE.html">OCSP::TStatus</a> &amp;, <a href="GUID-EB8FF76A-0420-3D9E-876B-66681145D6A6.html">COCSPResponse</a> &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, const <a href="GUID-D1EDC12A-204C-3436-B6C0-443F4227D82C.html">COCSPRequest</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-0EE0195E-BA15-39CD-8900-B2EA41A41135">DoCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-3E077D22-07F5-3B12-9CF4-C09ED5E4DEF3">RunError</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-478A3784-436A-32A7-A235-56267832C653">RunL</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-EF9CAD7D-4907-30EC-8002-602E79D524D0">COCSPDelegateAuthorisationScheme</a>(<a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-750BDABF-2084-38F2-A630-4000B2A24202">ConstructL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-43CDD6A9-91B6-3168-9089-9A530D31C9D1">OnChainValidationL</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-83008B8E-365B-3ED2-873B-E14F714365CF">OnRetrieveNextL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-DDA9B5E9-73D4-37DB-9B7E-68A4605D375B">OnRetrievingEntryL</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-592FC13A-7CD7-32B4-8B18-29FCCA8902FD">ValidateDelegateCertL</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-B4FD0BCD-5A59-3477-998B-15C98EC7AC24">ValidateFromRootsL</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::CActive(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Cancel()</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Deque()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsActive()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsAdded()const</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Priority()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetActive()</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetPriority(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::~CActive()</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-1B3C707D-134F-3E78-93A2-7CC32E124C0C">TDelegateAuthState</a> { <a href="#GUID-4490CB9A-E346-33A5-9F2E-5DEB2AF3A052">EOnChainValidation</a>, <a href="#GUID-89FBB2E1-7438-3EAF-B503-5CE7BE459693">ERetrieveNext</a>, <a href="#GUID-E866178B-3CF3-31AD-B02C-B0673085F1BF">ERetrievingEntry</a> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive:TPriority</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-2D45430F-606F-3C32-BF28-E2A0E6359627">iCertCount</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-27BCE2F5-ACD5-38E9-A01B-89C415095CA5.html">CCertAttributeFilter</a> *</td><td><a href="#GUID-FDEA32A2-63DB-38AB-9E57-D7430359114C">iCertFilter</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp;</td><td><a href="#GUID-8929E9AC-3654-3C91-8421-95A194D7313C">iCertStore</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-56A582D3-D0E7-38B8-8ECE-A536DE98131E.html">RMPointerArray</a>&lt; <a href="GUID-305D21D7-928F-337F-A55A-0448D7DBF6DC.html">CCTCertInfo</a> &gt;</td><td><a href="#GUID-896C05D8-0B29-3CDD-92F6-D509033BB03D">iCertStoreEntries</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td><a href="#GUID-27B4B655-0591-3319-B88C-95D74ADCFF92">iClientStatus</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-5464477F-8A55-3545-8ABA-627D458EFB03">iEncodedCert</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FE40A88E-19A4-3A05-91DE-A55BFA51B7CE.html">OCSP::TStatus</a> *</td><td><a href="#GUID-6D15C1F6-7021-3812-98ED-E5D21F3BB67A">iOCSPStatus</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-64629A95-9B00-322B-9DE8-FBB61DE74DB0.html">CPKIXValidationResultBase</a> *</td><td><a href="#GUID-D3AAF4B5-6226-3EB2-BD41-729BFC7FA349">iPKIXResultBase</a></td></tr><tr><td align="right" valign="top">const <a href="GUID-D1EDC12A-204C-3436-B6C0-443F4227D82C.html">COCSPRequest</a> *</td><td><a href="#GUID-0B90594A-DC62-3192-AC87-5B4B5C05B60D">iRequest</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-A97E0D46-3689-3C0B-B913-63F62887CA50.html">CPKIXCertChainBase</a> *</td><td><a href="#GUID-48B57885-5C73-35BC-A71E-51AB3BD5D20A">iRespSignCertChainBase</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html">RPointerArray</a>&lt; <a href="GUID-D1CE9D78-5A9D-3F0E-A785-71FF5A32D5D8.html">CX509Certificate</a> &gt;</td><td><a href="#GUID-6CAAD58F-46F9-3E17-BAD7-B6B1F276F6F9">iRespSignIntCert</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-EB8FF76A-0420-3D9E-876B-66681145D6A6.html">COCSPResponse</a> *</td><td><a href="#GUID-0DE068E9-7D89-31F5-B5B7-2FD7D5E672B8">iResponse</a></td></tr><tr><td align="right" valign="top">const <a href="GUID-D1CE9D78-5A9D-3F0E-A785-71FF5A32D5D8.html">CX509Certificate</a> *</td><td><a href="#GUID-0A79680A-2DC9-3943-95F6-1FB3C90C10D5">iResponseCert</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html">TDelegateAuthState</a>
				</td><td><a href="#GUID-182E8BB9-90D2-34AA-A998-8037677BA1BA">iState</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-D2416523-52E2-36BF-A6E1-65D94F5A0ED5">iValidateFromResponse</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a>
				</td><td><a href="#GUID-3F97E09D-5AB4-3B1C-A702-093F6CC35649">iValidationTime</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::iStatus</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-EF9CAD7D-4907-30EC-8002-602E79D524D0"><a name="GUID-EF9CAD7D-4907-30EC-8002-602E79D524D0"><!-- --></a>
		<h2 class="topictitle2">COCSPDelegateAuthorisationScheme(MCertStore &amp;)</h2>
		<table class="signature"><tr><td>COCSPDelegateAuthorisationScheme</td><td>(</td><td><a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp;</td><td>aCertStore</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Initializes the <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F">CActive</a> base class object and adds this object to the active scheduler.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp; aCertStore</td><td>Cert store interface. This is only used to construct a certificate chain builder with CPKIXCertChainBase::NewL(). Certificates from the store are not used for validation if the response contains the responder certificate. If it does not contain the responder cert then validation would be done from store.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-85133F65-B655-3F65-8983-0EA5E973971D"><a name="GUID-85133F65-B655-3F65-8983-0EA5E973971D"><!-- --></a>
		<h2 class="topictitle2">~COCSPDelegateAuthorisationScheme()</h2>
		<table class="signature"><tr><td>~COCSPDelegateAuthorisationScheme</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Cancels any outstanding validation and frees all resources owned by this object. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-85A0869A-F767-3E9D-AF86-165626CB0BA0"><a name="GUID-85A0869A-F767-3E9D-AF86-165626CB0BA0"><!-- --></a>
		<h2 class="topictitle2">CancelValidate()</h2>
		<table class="signature"><tr><td>void</td><td>CancelValidate</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Implement <a href="GUID-1A8D0FB0-6C4F-37C6-8387-99D7B009B9F6.html#GUID-1A8D0FB0-6C4F-37C6-8387-99D7B009B9F6">MOCSPAuthorisationScheme</a>. This is an active object, and this function just calls <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A8C4BD4D-4D85-31E3-AA9F-4F8675D608C5">Cancel()</a>. See <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-0EE0195E-BA15-39CD-8900-B2EA41A41135">DoCancel()</a> for information about the cancellation process.</p>

				<p>
					<a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-0EE0195E-BA15-39CD-8900-B2EA41A41135">DoCancel</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-750BDABF-2084-38F2-A630-4000B2A24202"><a name="GUID-750BDABF-2084-38F2-A630-4000B2A24202"><!-- --></a>
		<h2 class="topictitle2">ConstructL()</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Strictly, none of the resources owned by this object are required for all of its lifetime need to be preserved between validations.</p>

				<p>Some of the resources, such as the <a href="GUID-EA32BF44-7D29-334F-A8F4-D1C8510A3C72.html#GUID-EA32BF44-7D29-334F-A8F4-D1C8510A3C72">CPKIXCertChain</a> instance have to be reallocated for every validation.</p>

				<p>The resources which can be allocated for the lifetime of this object are allocated here. This improves performance and simplifies the validation process, at a RAM cost. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0EE0195E-BA15-39CD-8900-B2EA41A41135"><a name="GUID-0EE0195E-BA15-39CD-8900-B2EA41A41135"><!-- --></a>
		<h2 class="topictitle2">DoCancel()</h2>
		<table class="signature"><tr><td>void</td><td>DoCancel</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>If a validation request is outstanding, then it is cancelled. This objects client, i.e. the owner of the <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> which was passed to Validate(), is completed with KErrCancel. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-DB8357F2-9480-3EEB-B96E-BFBDEC300C13"><a name="GUID-DB8357F2-9480-3EEB-B96E-BFBDEC300C13"><!-- --></a>
		<h2 class="topictitle2">NewLC(MCertStore &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html">COCSPDelegateAuthorisationScheme</a> *</td><td>NewLC</td><td>(</td><td><a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp;</td><td>aCertStore</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Factory function allocates new instance of <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-D02920AA-E89F-3474-99A8-889432D5EDEC">COCSPDelegateAuthorisationScheme</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp; aCertStore</td><td>Cert store interface. This is used to construct a certificate chain builder with CPKIXCertChainBase::NewL(). Certificates from the store are not used for validation if the response contains the responder certificate. If it does not contain the responder cert then validation would be done from store.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-43CDD6A9-91B6-3168-9089-9A530D31C9D1"><a name="GUID-43CDD6A9-91B6-3168-9089-9A530D31C9D1"><!-- --></a>
		<h2 class="topictitle2">OnChainValidationL()</h2>
		<table class="signature"><tr><td>void</td><td>OnChainValidationL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-83008B8E-365B-3ED2-873B-E14F714365CF"><a name="GUID-83008B8E-365B-3ED2-873B-E14F714365CF"><!-- --></a>
		<h2 class="topictitle2">OnRetrieveNextL()</h2>
		<table class="signature"><tr><td>void</td><td>OnRetrieveNextL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>For list of certificate entries in the store retrieve each certificate. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-DDA9B5E9-73D4-37DB-9B7E-68A4605D375B"><a name="GUID-DDA9B5E9-73D4-37DB-9B7E-68A4605D375B"><!-- --></a>
		<h2 class="topictitle2">OnRetrievingEntryL()</h2>
		<table class="signature"><tr><td>void</td><td>OnRetrievingEntryL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Once the certificate has been retrieved from the store, it should be sent for chain validation. This intermediate state is required so that we can retrieve the certificate from the store. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-2180A836-7243-3E62-8421-C88809F2236A"><a name="GUID-2180A836-7243-3E62-8421-C88809F2236A"><!-- --></a>
		<h2 class="topictitle2">ResponderCert()</h2>
		<table class="signature"><tr><td>const <a href="GUID-D1CE9D78-5A9D-3F0E-A785-71FF5A32D5D8.html">CX509Certificate</a> *</td><td>ResponderCert</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the responder certificate. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-3E077D22-07F5-3B12-9CF4-C09ED5E4DEF3"><a name="GUID-3E077D22-07F5-3B12-9CF4-C09ED5E4DEF3"><!-- --></a>
		<h2 class="topictitle2">RunError(TInt)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>RunError</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-478A3784-436A-32A7-A235-56267832C653"><a name="GUID-478A3784-436A-32A7-A235-56267832C653"><!-- --></a>
		<h2 class="topictitle2">RunL()</h2>
		<table class="signature"><tr><td>void</td><td>RunL</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Handles an active object's request completion event.</p>

				<p>A derived class must provide an implementation to handle the completed request. If appropriate, it may issue another request.</p>

				<p>The function is called by the active scheduler when a request completion event occurs, i.e. after the active scheduler's WaitForAnyRequest() function completes.</p>

				<p>Before calling this active object's <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-478A3784-436A-32A7-A235-56267832C653">RunL()</a> function, the active scheduler has:</p>

				<p>1. decided that this is the highest priority active object with a completed request</p>

				<p>2. marked this active object's request as complete (i.e. the request is no longer outstanding)</p>

				<p>
					<a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-478A3784-436A-32A7-A235-56267832C653">RunL()</a> runs under a trap harness in the active scheduler. If it leaves, then the active scheduler calls <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-3E077D22-07F5-3B12-9CF4-C09ED5E4DEF3">RunError()</a> to handle the leave.</p>

				<p>Note that once the active scheduler's Start() function has been called, all user code is run under one of the program's active object's <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-478A3784-436A-32A7-A235-56267832C653">RunL()</a> or <a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html#GUID-3E077D22-07F5-3B12-9CF4-C09ED5E4DEF3">RunError()</a> functions.</p>

				<p>
					<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-7272E1BD-2658-312D-809B-7A69DE2F4B7A">CActiveScheduler::Start</a> <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-434FB5F0-01BE-33C3-81B7-640BEBBFD3DA">CActiveScheduler::Error</a> <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-BEA48588-EF77-3371-94D3-61F8C31AFE38">CActiveScheduler::WaitForAnyRequest</a> TRAPD </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-592FC13A-7CD7-32B4-8B18-29FCCA8902FD"><a name="GUID-592FC13A-7CD7-32B4-8B18-29FCCA8902FD"><!-- --></a>
		<h2 class="topictitle2">ValidateDelegateCertL(const TDesC8 &amp;, const TTime)</h2>
		<table class="signature"><tr><td>void</td><td>ValidateDelegateCertL</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aResponseCertChain,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a></td><td>aValidationTime</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Initialize this object to validate the certificate which was sent with the response against the CA which was used to sign the certificate in question.</p>

				<div class="p">
					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>If successful, asynchronous validation will be set up. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aResponseCertChain</td><td>DER-encoded cert chain that was either sent with the response. or was retrieved from the store as a single certificate.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> aValidationTime</td><td>Time to be used for chain validation of the delegate certificate.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B4FD0BCD-5A59-3477-998B-15C98EC7AC24"><a name="GUID-B4FD0BCD-5A59-3477-998B-15C98EC7AC24"><!-- --></a>
		<h2 class="topictitle2">ValidateFromRootsL()</h2>
		<table class="signature"><tr><td>void</td><td>ValidateFromRootsL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Initiates request to retrieve the responder certificate from store. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-E1FC8D6E-6C78-3228-9E58-EEF0E2A6AA1B"><a name="GUID-E1FC8D6E-6C78-3228-9E58-EEF0E2A6AA1B"><!-- --></a>
		<h2 class="topictitle2">ValidateL(OCSP::TStatus &amp;, COCSPResponse &amp;, const TTime, TRequestStatus &amp;, const COCSPRequest &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>ValidateL</td><td>(</td><td><a href="GUID-FE40A88E-19A4-3A05-91DE-A55BFA51B7CE.html">OCSP::TStatus</a> &amp;</td><td>aOCSPStatus,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-EB8FF76A-0420-3D9E-876B-66681145D6A6.html">COCSPResponse</a> &amp;</td><td>aResponse,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a></td><td>aValidationTime,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-D1EDC12A-204C-3436-B6C0-443F4227D82C.html">COCSPRequest</a> &amp;</td><td>aRequest</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table><div class="section"><div>
				<p>Implement <a href="GUID-1A8D0FB0-6C4F-37C6-8387-99D7B009B9F6.html#GUID-1A8D0FB0-6C4F-37C6-8387-99D7B009B9F6">MOCSPAuthorisationScheme</a>.</p>

				<p>Validate the response if it is signed by an immediate delegate of the intermediate entity. I.e. if the request has the form (T-&gt;I) (I-&gt;E)</p>

				<p>where T is trusted (at least for the purposes of this validation) and I is an intermediate, the response can be signed by R if (I-&gt;R).</p>

				<p>I is the CA, and can be equal to T, i.e. the certificate which is being tested for revocation can be signed by a root certificate.</p>

				<p>R must be immediately signed by I, and must have id-kp-OCSPSigning in its extended key usage. (RFC 2560 S4.2.2.2) </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FE40A88E-19A4-3A05-91DE-A55BFA51B7CE.html">OCSP::TStatus</a> &amp; aOCSPStatus</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-EB8FF76A-0420-3D9E-876B-66681145D6A6.html">COCSPResponse</a> &amp; aResponse</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> aValidationTime</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-D1EDC12A-204C-3436-B6C0-443F4227D82C.html">COCSPRequest</a> &amp; aRequest</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-1B3C707D-134F-3E78-93A2-7CC32E124C0C"><a name="GUID-1B3C707D-134F-3E78-93A2-7CC32E124C0C"><!-- --></a>
		<h2 class="topictitle2">Enum TDelegateAuthState</h2>
		<div class="section"></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EOnChainValidation</td><td> </td></tr><tr class="bg"><td valign="top">ERetrieveNext</td><td> </td></tr><tr><td valign="top">ERetrievingEntry</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-2D45430F-606F-3C32-BF28-E2A0E6359627"><a name="GUID-2D45430F-606F-3C32-BF28-E2A0E6359627"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iCertCount</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iCertCount</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-FDEA32A2-63DB-38AB-9E57-D7430359114C"><a name="GUID-FDEA32A2-63DB-38AB-9E57-D7430359114C"><!-- --></a>
		<h2 class="topictitle2">
					CCertAttributeFilter * iCertFilter</h2>
		<table class="signature"><tr><td>
					<a href="GUID-27BCE2F5-ACD5-38E9-A01B-89C415095CA5.html">CCertAttributeFilter</a> *</td><td>iCertFilter</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-8929E9AC-3654-3C91-8421-95A194D7313C"><a name="GUID-8929E9AC-3654-3C91-8421-95A194D7313C"><!-- --></a>
		<h2 class="topictitle2">
					MCertStore &amp; iCertStore</h2>
		<table class="signature"><tr><td>
					<a href="GUID-05B04FE0-4B19-38E8-B20C-7F035D06483D.html">MCertStore</a> &amp;</td><td>iCertStore</td><td>[private]</td></tr></table><div class="section"><div>
				<p>This is a required argument for <a href="GUID-A97E0D46-3689-3C0B-B913-63F62887CA50.html#GUID-A97E0D46-3689-3C0B-B913-63F62887CA50">CPKIXCertChainBase</a>, even though no certificates are used from the store. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-896C05D8-0B29-3CDD-92F6-D509033BB03D"><a name="GUID-896C05D8-0B29-3CDD-92F6-D509033BB03D"><!-- --></a>
		<h2 class="topictitle2">
					RMPointerArray&lt; CCTCertInfo &gt; iCertStoreEntries</h2>
		<table class="signature"><tr><td>
					<a href="GUID-56A582D3-D0E7-38B8-8ECE-A536DE98131E.html">RMPointerArray</a>&lt; <a href="GUID-305D21D7-928F-337F-A55A-0448D7DBF6DC.html">CCTCertInfo</a> &gt;</td><td>iCertStoreEntries</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-27B4B655-0591-3319-B88C-95D74ADCFF92"><a name="GUID-27B4B655-0591-3319-B88C-95D74ADCFF92"><!-- --></a>
		<h2 class="topictitle2">
					TRequestStatus * iClientStatus</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td>iClientStatus</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Pointer to client's request status. This is recorded on the call to Validate() and used to notify the client of completion later. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-5464477F-8A55-3545-8ABA-627D458EFB03"><a name="GUID-5464477F-8A55-3545-8ABA-627D458EFB03"><!-- --></a>
		<h2 class="topictitle2">
					HBufC8 * iEncodedCert</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>iEncodedCert</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-6D15C1F6-7021-3812-98ED-E5D21F3BB67A"><a name="GUID-6D15C1F6-7021-3812-98ED-E5D21F3BB67A"><!-- --></a>
		<h2 class="topictitle2">
					OCSP::TStatus * iOCSPStatus</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FE40A88E-19A4-3A05-91DE-A55BFA51B7CE.html">OCSP::TStatus</a> *</td><td>iOCSPStatus</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Pointer to client's OSCP status. This object sets the status according to the result of the validation. If the validation cannot be carried out, the default value is OCSP::EResponseSignatureValidationFailure. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-D3AAF4B5-6226-3EB2-BD41-729BFC7FA349"><a name="GUID-D3AAF4B5-6226-3EB2-BD41-729BFC7FA349"><!-- --></a>
		<h2 class="topictitle2">
					CPKIXValidationResultBase * iPKIXResultBase</h2>
		<table class="signature"><tr><td>
					<a href="GUID-64629A95-9B00-322B-9DE8-FBB61DE74DB0.html">CPKIXValidationResultBase</a> *</td><td>iPKIXResultBase</td><td>[private]</td></tr></table><div class="section"><div>
				<p>The cert chain stores the validation result in this object.</p>

				<p>iRespSignCertChain; </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0B90594A-DC62-3192-AC87-5B4B5C05B60D"><a name="GUID-0B90594A-DC62-3192-AC87-5B4B5C05B60D"><!-- --></a>
		<h2 class="topictitle2">const COCSPRequest * iRequest</h2>
		<table class="signature"><tr><td>const <a href="GUID-D1EDC12A-204C-3436-B6C0-443F4227D82C.html">COCSPRequest</a> *</td><td>iRequest</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-48B57885-5C73-35BC-A71E-51AB3BD5D20A"><a name="GUID-48B57885-5C73-35BC-A71E-51AB3BD5D20A"><!-- --></a>
		<h2 class="topictitle2">
					CPKIXCertChainBase * iRespSignCertChainBase</h2>
		<table class="signature"><tr><td>
					<a href="GUID-A97E0D46-3689-3C0B-B913-63F62887CA50.html">CPKIXCertChainBase</a> *</td><td>iRespSignCertChainBase</td><td>[private]</td></tr></table><div class="section"><div>
				<p>This object is used to chain the response signer back to the CA. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-6CAAD58F-46F9-3E17-BAD7-B6B1F276F6F9"><a name="GUID-6CAAD58F-46F9-3E17-BAD7-B6B1F276F6F9"><!-- --></a>
		<h2 class="topictitle2">
					RPointerArray&lt; CX509Certificate &gt; iRespSignIntCert</h2>
		<table class="signature"><tr><td>
					<a href="GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html">RPointerArray</a>&lt; <a href="GUID-D1CE9D78-5A9D-3F0E-A785-71FF5A32D5D8.html">CX509Certificate</a> &gt;</td><td>iRespSignIntCert</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Array used to hold pointer to issuer cert. This contains the pointer to the CA. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0DE068E9-7D89-31F5-B5B7-2FD7D5E672B8"><a name="GUID-0DE068E9-7D89-31F5-B5B7-2FD7D5E672B8"><!-- --></a>
		<h2 class="topictitle2">
					COCSPResponse * iResponse</h2>
		<table class="signature"><tr><td>
					<a href="GUID-EB8FF76A-0420-3D9E-876B-66681145D6A6.html">COCSPResponse</a> *</td><td>iResponse</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Response from OCSP server. Once it has been established that the certificate sent with the response is an authorised responder for the CA, the response is checked to ensure that it really is signed by that certificate.</p>

				<p>This is not const because, if DSA is used, then SetParametersL() will be called on the response before the signature is verified. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0A79680A-2DC9-3943-95F6-1FB3C90C10D5"><a name="GUID-0A79680A-2DC9-3943-95F6-1FB3C90C10D5"><!-- --></a>
		<h2 class="topictitle2">const CX509Certificate * iResponseCert</h2>
		<table class="signature"><tr><td>const <a href="GUID-D1CE9D78-5A9D-3F0E-A785-71FF5A32D5D8.html">CX509Certificate</a> *</td><td>iResponseCert</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-182E8BB9-90D2-34AA-A998-8037677BA1BA"><a name="GUID-182E8BB9-90D2-34AA-A998-8037677BA1BA"><!-- --></a>
		<h2 class="topictitle2">
					TDelegateAuthState
				 iState</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D02920AA-E89F-3474-99A8-889432D5EDEC.html">TDelegateAuthState</a>
				</td><td>iState</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D2416523-52E2-36BF-A6E1-65D94F5A0ED5"><a name="GUID-D2416523-52E2-36BF-A6E1-65D94F5A0ED5"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iValidateFromResponse</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iValidateFromResponse</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-3F97E09D-5AB4-3B1C-A702-093F6CC35649"><a name="GUID-3F97E09D-5AB4-3B1C-A702-093F6CC35649"><!-- --></a>
		<h2 class="topictitle2">
					TTime
				 iValidationTime</h2>
		<table class="signature"><tr><td>
					<a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a>
				</td><td>iValidationTime</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>