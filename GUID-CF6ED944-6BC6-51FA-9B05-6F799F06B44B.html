<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Accepting a Newly-Available Bearer"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FEEC1631-F860-5FFD-91DD-DA37AB076058.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4384066E-158A-5F63-A823-7793DAE680BF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8832AED4-6B9F-5B35-8211-0C6661CD6DCA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FEEC1631-F860-5FFD-91DD-DA37AB076058.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-24860917-0FE2-5C8F-B436-96928350996E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-93221B70-EB36-5E8E-AE23-700988D5DACB.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Accepting a Newly-Available Bearer</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2403778 id2403944 id2404085 id2404294 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html">Messaging Application Guide</a> &gt; <a href="GUID-4384066E-158A-5F63-A823-7793DAE680BF.html">Email</a> &gt; <a href="GUID-8832AED4-6B9F-5B35-8211-0C6661CD6DCA.html">Email Tutorials</a> &gt; <a href="GUID-FEEC1631-F860-5FFD-91DD-DA37AB076058.html">Using the Bearer Mobility Policy Plug-in</a> &gt; </div>
<h1 class="topictitle1">Accepting
a Newly-Available Bearer</h1>
<div>
<p>This tutorial explains how to set the mobility policy handler component
to accept a newly-available bearer. </p>

<div class="section"><h2 class="sectiontitle">Procedure</h2> <a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-85E5C308-A6FB-5CFF-BB8A-4C1AEDB56B02"><!-- --></a><ol id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-85E5C308-A6FB-5CFF-BB8A-4C1AEDB56B02">
<li id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-99921C20-C4EC-569D-834A-930DD64FB62B"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-99921C20-C4EC-569D-834A-930DD64FB62B"><!-- --></a><p>Derive a class from
the <a href="GUID-D3ED20A6-A16E-368E-98AD-820A469613EE.html"><span class="apiname">CImMobilityPolicyPlugin</span></a> class. </p>
 </li>

<li id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-4D78F3E8-67CF-5B60-A359-2DCEDE038CFB"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-4D78F3E8-67CF-5B60-A359-2DCEDE038CFB"><!-- --></a><p>Implement the <a href="GUID-65871401-3D98-3B2B-9AA2-C7DB43F9AF57.html"><span class="apiname">PreferredCarrierAvailable</span></a> and <a href="GUID-B145C26A-4765-31DA-8514-C4F0659FA71B.html"><span class="apiname">MigrationComplete</span></a> functions in the derived <a href="GUID-D3ED20A6-A16E-368E-98AD-820A469613EE.html"><span class="apiname">CImMobilityPolicyPlugin</span></a> class
to get the required behaviour when a new bearer is available. </p>
 <p>When
a new bearer is available, the Network bearer mobility framework calls the <a href="GUID-9A3979A9-F882-3053-B5B1-E0E125774271.html#GUID-9A3979A9-F882-3053-B5B1-E0E125774271__GUID-E4D234C3-AEEA-3FE9-8E5D-6914BB60B174"><span class="apiname">MMobilityProtocolResp::PreferredCarrierAvailable</span></a> function
to notify the bearer mobility policy manager. This happens only if the bearer
mobility policy manager is registered with the <a href="GUID-65871401-3D98-3B2B-9AA2-C7DB43F9AF57.html"><span class="apiname">PreferredCarrierAvailable</span></a> (Network
bearer mobility framework) for bearer mobility notification. </p>
 </li>

<li id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-B4476AE6-43CA-5242-B537-E101F3C94F78"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-B4476AE6-43CA-5242-B537-E101F3C94F78"><!-- --></a><p>Call the <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html#GUID-93466135-4C80-30B2-85C4-A045A7D34C6E__GUID-511960C1-F9FC-3A25-9E89-977C43510C58"><span class="apiname">CImMobilityManager::AcceptNewCarrier()</span></a> function
on the instance of <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html"><span class="apiname">CImMobilityManager</span></a> identified in the <a href="GUID-4D26288F-A8F8-355E-B49C-B313EEC04584.html"><span class="apiname">PreferredCarrierAvailable()</span></a> function. </p>
 </li>

<li id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-8645692F-7BFC-559D-8C60-B10FDF88417D"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-8645692F-7BFC-559D-8C60-B10FDF88417D"><!-- --></a><p>Set the <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html#GUID-93466135-4C80-30B2-85C4-A045A7D34C6E__GUID-511960C1-F9FC-3A25-9E89-977C43510C58"><span class="apiname">CImMobilityManager::AcceptNewCarrier()</span></a> function
value to any of the following: </p>
<ul>
<li id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-4894DA93-17E7-5C7B-8A00-82595DD43874"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-4894DA93-17E7-5C7B-8A00-82595DD43874"><!-- --></a><p> <a href="GUID-A3F52E3F-BC7F-3586-8529-290F679C1C59.html"><span class="apiname">KAcceptCompleteCurrent</span></a> to
specify that any operations in progress should be allowed to continue before
migrating. </p>
<div class="note"><span class="notetitle">Note:</span> <a href="GUID-A3F52E3F-BC7F-3586-8529-290F679C1C59.html"><span class="apiname">KAcceptCompleteCurrent</span></a> will not cancel
the server communication that is currently in progress. After the operation
is completed, the server MTM completes the user requested operation, logs
out from the remote server, and closes the session allowing the migration
to occur. </div>
 </li>

<li id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-CD61D419-8D15-578F-B8DF-546F991B91F8"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-CD61D419-8D15-578F-B8DF-546F991B91F8"><!-- --></a><p> <a href="GUID-33265245-E8DA-39CF-B627-75BDF59FD644.html"><span class="apiname">KAcceptStopCurrent</span></a> to
specify that any operations in progress should be stopped before migrating. </p>
 <div class="note"><span class="notetitle">Note:</span> <a href="GUID-33265245-E8DA-39CF-B627-75BDF59FD644.html"><span class="apiname">KAcceptStopCurrent</span></a> will
not cancel server communication that is currently in progress. After the operation
is stopped, the server MTM logs out from the remote server, and closes the
session allowing the migration to occur.</div>
 </li>

<li id="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-7F1EBB9C-EFA7-5341-82EB-7B5D3342D5EE"><a name="GUID-CF6ED944-6BC6-51FA-9B05-6F799F06B44B__GUID-7F1EBB9C-EFA7-5341-82EB-7B5D3342D5EE"><!-- --></a><p> <a href="GUID-11E0E18B-5656-349B-8F05-8C3E961B7AAF.html"><span class="apiname">KAcceptImmediately</span></a> to
specify that the migration should be performed immediately. </p>
<div class="note"><span class="notetitle">Note:</span> <a href="GUID-11E0E18B-5656-349B-8F05-8C3E961B7AAF.html"><span class="apiname">KAcceptImmediately</span></a> causes
the outstanding server communications to be cancelled, the session with the
remote server is dropped without logging out, and allows the migration to
occur.</div>
 </li>

</ul>
 </li>

</ol>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-FEEC1631-F860-5FFD-91DD-DA37AB076058.html">Using the Bearer Mobility Policy Plug-in</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-24860917-0FE2-5C8F-B436-96928350996E.html">Bearer Mobility
 Overview</a></div>
<div><a href="GUID-93221B70-EB36-5E8E-AE23-700988D5DACB.html">Bearer Mobility
Policy Plug-in  Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>