<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CLbsLocationSourceGpsBase"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A458AA58-8BD6-303B-89E5-C99000376615"/>

<title>CLbsLocationSourceGpsBase</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-A458AA58-8BD6-303B-89E5-C99000376615"><a name="GUID-A458AA58-8BD6-303B-89E5-C99000376615"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2731347 id2731952 id2731957 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CLbsLocationSourceGpsBase Class Reference</h1>
	<table class="signature"><tr><td>class CLbsLocationSourceGpsBase : public CBase</td></tr></table><div class="section"><div>
			<p>Passes all commands and information to the GPS Integration module The <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a> is the abstract interface to a GPS integration module and is used by the location observer to pass all commands and information to the module. The GPS integration module provides responses to the location observer via the <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> class. This observer class is also used by the integration module to make requests to the observer.</p>

			<p>An actual implementation of a GPS integration module will derive from <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a> to provide the specific implementation of the interface methods.</p>

			<p>Although all the interface methods in the class are synchronous they must complete quickly. When the location observer makes a request via <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a> the integration module must queue the request and return control to the caller immediately. Afterwards, when the integration module provides a response, it uses the corresponding notification method in the <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> class. <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> CLbsLocationSourceBase   </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CLbsLocationSourceGpsBase<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-26568647-FFD3-3A58-B9D2-F709AC010A81">~CLbsLocationSourceGpsBase</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-5D447671-A0D2-30BD-B561-41FA62D2974B">AdvisePowerMode</a>(<a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html">TPowerMode</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-6BF509CA-A49F-3C81-97E4-CC9163BF9B8F">AssistanceDataEvent</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-F6BC1743-7DD3-30FD-9E94-BC13E907D17C">CancelLocationRequest</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html">CLbsLocationSourceGpsBase</a> *</td><td><a href="#GUID-321E7E45-3637-348B-8796-1E6FFE422C98">NewL</a>(<a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp;, <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-2C037317-1001-38C5-B270-39FD65902914">RequestLocationUpdate</a>(const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, const <a href="GUID-B5C832B0-93B1-30F2-B549-E468CB5A13B7.html">TLbsLocRequestQuality</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-4A070C16-7F19-3B74-A625-BD7DFE17EB96">SetGpsOptions</a>(const <a href="GUID-B0986288-97BA-35FE-B35B-04DDAE079B76.html">TLbsGpsOptions</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-BE1A8D40-76AC-3E6B-8E5D-B0968A92D055">CLbsLocationSourceGpsBase</a>(<a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5092B2B7-6D3E-3987-8521-05528678FC4C">ConstructL</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-C4FA3772-690B-3697-B5B0-165290F52E17">ExtendedInterface</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-9AE76E82-4EDE-34AF-8F7F-695D83FD03E0">TPowerMode</a> { <a href="#GUID-0EC5551C-6ADA-38C4-A6D5-EDD788F6494E">EPowerModeUnknown</a>, <a href="#GUID-DF8ADB0A-E0E0-3673-B630-C96605202AAD">EPowerModeOn</a>, <a href="#GUID-6B3F1466-285E-30B2-A450-7D93A74DBD58">EPowerModeStandby</a>, <a href="#GUID-8DEE3028-B698-38FF-957F-27143AA75B13">EPowerModeOff</a>, <a href="#GUID-1987615B-2301-37C8-92D3-667222B41D3B">EPowerModeClose</a> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp;</td><td><a href="#GUID-CE45FED4-A7DD-31FB-A815-70E2C045372E">iLocSourceGpsObserver</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
				</td><td><a href="#GUID-84FC453B-9B04-306E-9DF7-46DCCFCA9BD9">iDtor_ID_Key</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-E4892445-E7A1-3A0D-8467-7C4BB982F950">iReserved</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-BE1A8D40-76AC-3E6B-8E5D-B0968A92D055"><a name="GUID-BE1A8D40-76AC-3E6B-8E5D-B0968A92D055"><!-- --></a>
		<h2 class="topictitle2">CLbsLocationSourceGpsBase(MLbsLocationSourceGpsObserver &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CLbsLocationSourceGpsBase</td><td>(</td><td><a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp;</td><td>aObserver</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Constructor for the <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a> <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp; aObserver</td><td>is a pointer to the integration module's observer. The observer is used by the integration module to respond to requests and also by the module to obtain information.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-26568647-FFD3-3A58-B9D2-F709AC010A81"><a name="GUID-26568647-FFD3-3A58-B9D2-F709AC010A81"><!-- --></a>
		<h2 class="topictitle2">~CLbsLocationSourceGpsBase()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CLbsLocationSourceGpsBase</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Destructor for <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a>. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-5D447671-A0D2-30BD-B561-41FA62D2974B"><a name="GUID-5D447671-A0D2-30BD-B561-41FA62D2974B"><!-- --></a>
		<h2 class="topictitle2">AdvisePowerMode(TPowerMode)</h2>
		<table class="signature"><tr><td>void</td><td>AdvisePowerMode</td><td>(</td><td><a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html">TPowerMode</a></td><td>aMode</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Helps the GPS integration module select the appropriate power mode. AdvisePowerMode is used by the location observer to help the GPS integration module select the appropriate power mode. However, this method only advises the integration module of what to do. The module is ultimately responsible for selecting the most appropriate power mode for its associated hardware.</p>

				<p>The integration module should report changes to the GPS hardware's operating mode by calling the observer method <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-9B978E8F-10E9-3367-BD35-F32FA2B1421A">MLbsLocationSourceGpsObserver::UpdateDeviceStatus()</a>.</p>

				<p>The AdvisePowerMode method must return almost immediately. Any internal rocessing must be done asynchronously by the integration module.</p>

				<p>
					<a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-9AE76E82-4EDE-34AF-8F7F-695D83FD03E0">TPowerMode</a> <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-9B978E8F-10E9-3367-BD35-F32FA2B1421A">MLbsLocationSourceGpsObserver::UpdateDeviceStatus()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html">TPowerMode</a> aMode</td><td>Indicates the power mode that module may wish to use. Modes include On, Off, Standby and Close. A value of Close indicates that integration module should shutdown. Note, This value should be ignored where GPS device is used in emergency call situations.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6BF509CA-A49F-3C81-97E4-CC9163BF9B8F"><a name="GUID-6BF509CA-A49F-3C81-97E4-CC9163BF9B8F"><!-- --></a>
		<h2 class="topictitle2">AssistanceDataEvent(TInt, TLbsAsistanceDataGroup)</h2>
		<table class="signature"><tr><td>void</td><td>AssistanceDataEvent</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a></td><td>aDataMask</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Informs the GPS integration module that fresh assistance data is available or, in the case of 'Prefer Terminal Assisted' gps mode, that there has been an error such that assistance data is unavailable.</p>

				<p>This method is used by the LBS subsystem to inform the GPS integration module that fresh assistance data is available. This may have been delivered unsolicited or due to a request by the integration module. The aDataMask parameter indicates which subsets of assistance data have just arrived.</p>

				<p>To request fresh assistance data, the GPS module uses the observer method <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-D0A45086-4105-383B-91DE-F71FE6D48FBD">MLbsLocationSourceGpsObserver::RequestAssistanceData()</a>.</p>

				<p>To obtain the assistance data, the GPS module uses the observer method <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680">MLbsLocationSourceGpsObserver::GetAssistanceDataItem()</a>.</p>

				<p>This method is also used by the LBS subsystem to ask the GPS integration module to reset its assistance data and to inform it that the LBS subsystem assistance data cache has been cleared. The parameter aDataMask specifies which assistance data subset must be reset by the integration module. The error code parameter aError is set to KPositionAssistanceDataReset by the LBS subsystem to tell the integration module to reset its assistance data.</p>

				<p>When the assistance data has been reset, calling <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680">MLbsLocationSourceGpsObserver::GetAssistanceDataItem()</a> for any item in the reset subset will return KErrNotFound.</p>

				<p>Note: Assistance data may be delivered by the observer in batches. For example <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-6BF509CA-A49F-3C81-97E4-CC9163BF9B8F">AssistanceDataEvent()</a> may be called multiple times as a result of a single download request.</p>

				<p>Note: If the module has been put into 'Prefer Terminal Assisted' gps mode, and a subsequent network error causes the self-locate session to be closed, then LBS will send a 'dummy' assistance data event to the module with that network error. In this case the assistance data mask will be set to KLbsDummyAssistanceDataMaskWithError to indicate a 'dummy' event. At this point, the integration module should either switch to 'Autonomous' mode or, if unable to calculate positions autonomously, fail with appropriate error. If the module switches to Autonomous mode, it should supply a position update immediately (with NANs, say) indicating that it has done so, otherwise it should supply a measurement update with error and stop.</p>

				<p>
					<a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html#GUID-DA483177-76AC-3110-A9BD-9CD97BF590CD">TLbsAsistanceDataGroup</a> TLbsAsistanceDataItem <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680">MLbsLocationSourceGpsObserver::GetAssistanceDataItem()</a> <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-D0A45086-4105-383B-91DE-F71FE6D48FBD">MLbsLocationSourceGpsObserver::RequestAssistanceData()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>error code associated with this assistance data event, or KPositionAssistanceDataReset if the LBS subsystem is asking the GPS integration module to reset its assistance data.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a> aDataMask</td><td>Contains a bit mask of values from TLbsAsistanceDataItem indicating the subsets of assistance data that have newly arrived from the network.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F6BC1743-7DD3-30FD-9E94-BC13E907D17C"><a name="GUID-F6BC1743-7DD3-30FD-9E94-BC13E907D17C"><!-- --></a>
		<h2 class="topictitle2">CancelLocationRequest()</h2>
		<table class="signature"><tr><td>void</td><td>CancelLocationRequest</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancels an outstanding location request Used by the location observer to cancel an outstanding location request. It is normally called when it is not known if and when the next location update is required. When the observer wishes to replace the current location request with another, it makes a single call to <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-2C037317-1001-38C5-B270-39FD65902914">RequestLocationUpdate()</a>. In this case <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-F6BC1743-7DD3-30FD-9E94-BC13E907D17C">CancelLocationRequest()</a> is not used.</p>

				<p>The integration module does not need to respond or acknowledge to the cancellation. It may even continue to provide the location update at specified times.</p>

				<p>This method must return almost immediately. Any internal processing must be done asynchronously by the integration module. RequestUpdateLocation() </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-5092B2B7-6D3E-3987-8521-05528678FC4C"><a name="GUID-5092B2B7-6D3E-3987-8521-05528678FC4C"><!-- --></a>
		<h2 class="topictitle2">ConstructL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ConstructL</td><td>(</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Leaving constructor for <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a>. In case required. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-C4FA3772-690B-3697-B5B0-165290F52E17"><a name="GUID-C4FA3772-690B-3697-B5B0-165290F52E17"><!-- --></a>
		<h2 class="topictitle2">ExtendedInterface(TInt, TAny *, TAny *)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>ExtendedInterface</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aFunctionNumber,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr1,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr2</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, virtual]</td></tr></table><div class="section"><div>
				<p>This method is used to allow polymorphic extensions to the API without breaking BC. See documentation for explanation.</p>

				<p>Reserved for future expansion - derived classes should see documentation on how this is to be used.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aFunctionNumber</td><td>contains the Id of the function to be invoked.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr1</td><td>a pointer to any data  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr2</td><td>a pointer to any data.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-321E7E45-3637-348B-8796-1E6FFE422C98"><a name="GUID-321E7E45-3637-348B-8796-1E6FFE422C98"><!-- --></a>
		<h2 class="topictitle2">NewL(MLbsLocationSourceGpsObserver &amp;, TUid)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html">CLbsLocationSourceGpsBase</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp;</td><td>aObserver,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aEcomModuleId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Returns a pointer to an instance of the interface class for a GPS integration module. <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp; aObserver</td><td>is a pointer to the integration module's observer. The observer is used by the integration module to respond to requests made via methods in CLbsLocationSourceGpsBase. The MLbsLocationSourceGpsObserver observer class is also used by the module to provide unsolicited information and obtain and request information from the observer.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aEcomModuleId</td><td>is the UID of the ECOM module to load.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2C037317-1001-38C5-B270-39FD65902914"><a name="GUID-2C037317-1001-38C5-B270-39FD65902914"><!-- --></a>
		<h2 class="topictitle2">RequestLocationUpdate(const TTime &amp;, const TLbsLocRequestQuality &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>RequestLocationUpdate</td><td>(</td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTargetTime,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-B5C832B0-93B1-30F2-B549-E468CB5A13B7.html">TLbsLocRequestQuality</a> &amp;</td><td>aQuality</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Used by the location observer to request a position update from the data source. The parameters indicate when the position update is needed and the desired accuracy.</p>

				<p>This method must return almost immediately. When the integration module is ready to provide the requested location information it responds by calling <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122">MLbsLocationSourceGpsObserver::UpdateLocation()</a> on its observer.</p>

				<p>The aTargetTime parameter specifies when the location update is required. The integration module should provide a response to the location request at this time or shortly afterwards. When the data source provides a response to the request, it includes the target time to indicate which request it is dealing with.</p>

				<p>The data source module should only hold and process a single location request at any time. If another RequestLocationUpdate is received before the location module has responded to an outstanding request, the outstanding request is cancelled.</p>

				<p>Generally, a second location request will specify a different target time - indicating that a location update is needed either before or after the current request. However, a subsequent request may also indicate that a different accuracy is required. This could have the same target time of the outstanding request.</p>

				<p>The current location request may also be cancelled via the <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-F6BC1743-7DD3-30FD-9E94-BC13E907D17C">CancelLocationRequest()</a> method.</p>

				<p>More normally, the integration module will receive its the next location request after it has responded to the current request.</p>

				<p>Integration modules are responsible for performing power management on any associated hardware. One factor they should take into account is when the next update is required. It may be possible for them to put the hardware into power saving mode in the intervening period. Integration modules are also advised which power mode to select via the method <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-5D447671-A0D2-30BD-B561-41FA62D2974B">AdvisePowerMode()</a>.</p>

				<p>Everytime this call is made to the module, the module should make a call to the RequestAssistanceData() function. This will contain the request of any assistanca data it requires and has still not received. Even after all assistance data has been received by the module this call will still be made after this location request, but the assistance data mask will always be 0.</p>

				<p>
					<a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122">MLbsLocationSourceGpsObserver::UpdateLocation()</a> <a href="GUID-B5C832B0-93B1-30F2-B549-E468CB5A13B7.html#GUID-B5C832B0-93B1-30F2-B549-E468CB5A13B7">TLbsLocRequestQuality</a> <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-F6BC1743-7DD3-30FD-9E94-BC13E907D17C">CancelLocationRequest()</a> <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-5D447671-A0D2-30BD-B561-41FA62D2974B">AdvisePowerMode()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTargetTime</td><td>Specifies the time when the location update should be provided by the integration module. A value of 0 indicates that the update is required immediately.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-B5C832B0-93B1-30F2-B549-E468CB5A13B7.html">TLbsLocRequestQuality</a> &amp; aQuality</td><td>Contains the desired accuracy of the location information and also the maximum time before the module produces an update. The module should provide an update either when the desired accuracy has been reach OR the maximum time has expired.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4A070C16-7F19-3B74-A625-BD7DFE17EB96"><a name="GUID-4A070C16-7F19-3B74-A625-BD7DFE17EB96"><!-- --></a>
		<h2 class="topictitle2">SetGpsOptions(const TLbsGpsOptions &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>SetGpsOptions</td><td>(</td><td>const <a href="GUID-B0986288-97BA-35FE-B35B-04DDAE079B76.html">TLbsGpsOptions</a> &amp;</td><td>aGpsOptions</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Sets global parameters for the GPS data This includes the mode of operation for the GPS device. For example, it is used to specify if the GPS device should operate in autonomous or terminal-based modes.</p>

				<p>The standard parameter passed to the method is an instance of the <a href="GUID-B0986288-97BA-35FE-B35B-04DDAE079B76.html#GUID-B0986288-97BA-35FE-B35B-04DDAE079B76">TLbsGpsOptions</a> class. This indicates to the GPS module what mode it is required to operate in and that it should only produce updates of type TPositionSatelliteInfo.</p>

				<p>However, if LBS subsystem requires the module to provide updates containing more than one type of data or indeed a different class type it will pass a parameter of the type <a href="GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1.html#GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1">TLbsGpsOptionsArray</a>. The GPS module can determine the full type of the supplied parameter by calling the method ClassType() on aGpsOptions. See the Note below for more information.</p>

				<p>
					<a href="GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1.html#GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1">TLbsGpsOptionsArray</a> contains an array of <a href="GUID-2CCCF864-C56B-3E82-85FF-5675340BD355.html#GUID-2CCCF864-C56B-3E82-85FF-5675340BD355">TLbsGpsOptionsItem</a> with the elements specifying the information the module is required to provide when it produces a location update.</p>

				<p>When the GPS module calls <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122">MLbsLocationSourceGpsObserver::UpdateLocation()</a> it supplies an array of position information via the parameter aPosInfoArray. Each element of aPosInfoArray array should correspond to the requested class types from the elements of <a href="GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1.html#GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1">TLbsGpsOptionsArray</a>.</p>

				<p>For example, the data provided by the GPS module in element aPosInfoArray[0] should be that requested data type as specified in the first element <a href="GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1.html#GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1">TLbsGpsOptionsArray</a>.</p>

				<p>The GPS module can determine the required data types by calling the function <a href="GUID-2CCCF864-C56B-3E82-85FF-5675340BD355.html#GUID-8342DF04-9B36-36AC-942D-1698C87BD30D">TLbsGpsOptionsItem::PosUpdateType()</a> on each element of the <a href="GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1.html#GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1">TLbsGpsOptionsArray</a>.</p>

				<p>A value of "EPosUpdateCalculation" specifies that the GPS module should provide an item of type TPositionSatelliteInfo in the corresponding array entry of the parameter aPosInfoArray[] when it calls <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122">MLbsLocationSourceGpsObserver::UpdateLocation()</a>.</p>

				<p>A value of "EPosUpdateMeasurement" specifies that the GPS module should provide an item of type TPositionGpsMeasurementInfo in the corresponding array entry of aPosInfoArray[].</p>

				<p>Note: As mentioned above, the GPS module can determine the full type of the aGpsOptions parameter by calling aGpsOptions.ClassType(). To check if the LBS subsystem has passed an instance <a href="GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1.html#GUID-333F10FF-C647-3A07-9EFA-B1A2CF0B96C1">TLbsGpsOptionsArray</a> the returned value should be bitwise compared with ELbsGpsOptionsArrayClass. It is best to perform a bitwise "AND" rather than testing if the ClassType() is equal to ELbsGpsOptionsArrayClass. This allows future expandability while maintaining binary compatibility.</p>

				<p>
					<a href="GUID-B0986288-97BA-35FE-B35B-04DDAE079B76.html#GUID-B0986288-97BA-35FE-B35B-04DDAE079B76">TLbsGpsOptions</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-B0986288-97BA-35FE-B35B-04DDAE079B76.html">TLbsGpsOptions</a> &amp; aGpsOptions</td><td>This specifies global operational parameters for the GPS module and its associated hardware.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-9AE76E82-4EDE-34AF-8F7F-695D83FD03E0"><a name="GUID-9AE76E82-4EDE-34AF-8F7F-695D83FD03E0"><!-- --></a>
		<h2 class="topictitle2">Enum TPowerMode</h2>
		<div class="section"><div>
				<p>Power mode advice for GPS <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-5D447671-A0D2-30BD-B561-41FA62D2974B">AdvisePowerMode()</a> </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EPowerModeUnknown</td><td>
							<p>Power Mode Unknown </p>

						 </td></tr><tr class="bg"><td valign="top">EPowerModeOn</td><td>
							<p>Advise the module to turn on GPS hardware power </p>

						 </td></tr><tr><td valign="top">EPowerModeStandby</td><td>
							<p>Advise the module to set the GPS hardware power to standby </p>

						 </td></tr><tr class="bg"><td valign="top">EPowerModeOff</td><td>
							<p>Advise the module to turn off GPS hardware power </p>

						 </td></tr><tr><td valign="top">EPowerModeClose</td><td>
							<p>Advise the module that the LBS subsystem is shutting down </p>

						 </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-84FC453B-9B04-306E-9DF7-46DCCFCA9BD9"><a name="GUID-84FC453B-9B04-306E-9DF7-46DCCFCA9BD9"><!-- --></a>
		<h2 class="topictitle2">
					TUid
				 iDtor_ID_Key</h2>
		<table class="signature"><tr><td>
					<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
				</td><td>iDtor_ID_Key</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-CE45FED4-A7DD-31FB-A815-70E2C045372E"><a name="GUID-CE45FED4-A7DD-31FB-A815-70E2C045372E"><!-- --></a>
		<h2 class="topictitle2">
					MLbsLocationSourceGpsObserver &amp; iLocSourceGpsObserver</h2>
		<table class="signature"><tr><td>
					<a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html">MLbsLocationSourceGpsObserver</a> &amp;</td><td>iLocSourceGpsObserver</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>observer </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-E4892445-E7A1-3A0D-8467-7C4BB982F950"><a name="GUID-E4892445-E7A1-3A0D-8467-7C4BB982F950"><!-- --></a>
		<h2 class="topictitle2">
					TAny * iReserved</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>iReserved</td><td>[private]</td></tr></table><div class="section"><div>
				<p>reserved </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>