<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Including the Bluetooth GPS PSY in ROM"/>
<meta name="abstract" content="This describes how to include the PSY in ROM using buildrom macros."/>
<meta name="description" content="This describes how to include the PSY in ROM using buildrom macros."/>
<meta name="DC.Relation" scheme="URI" content="GUID-90D938EA-E46A-512A-85E3-B8ADF81BC4D3.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-90D938EA-E46A-512A-85E3-B8ADF81BC4D3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F9BEC749-D535-55EA-8601-A961EA1E441B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DA2DC704-CE65-54FB-9049-4E1C73092EDF-GENID-1-12-1-19-1-1-10-1-5-1-5-1-8-1.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5B39D732-7252-57EB-BA74-FC8718ED45E4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Including the Bluetooth GPS PSY in ROM</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42"><a name="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2403469 id2403500 id2403514 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html" title="The Data Source Modules collection contains components that enable the LBS subsystem to obtain position data.">Data Source Modules</a> &gt; <a href="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html" title="The Bluetooth GPS Positioning Module (Bluetooth GPS PSY) connects the LBS subsystem to an external Bluetooth GPS device.">Bluetooth GPS Positioning Module</a> &gt; <a href="GUID-90D938EA-E46A-512A-85E3-B8ADF81BC4D3.html" title="These tutorials describe how to configure and use the Bluetooth GPS PSY.">Bluetooth GPS PSY Tutorials</a> &gt; </div>
<h1 class="topictitle1">Including the Bluetooth GPS PSY in ROM</h1>
<div><p>This describes how to include the PSY in ROM using <samp class="codeph">buildrom</samp> macros. </p>
<div class="section"><p>The PSY is packaged in the libraries <span class="filepath">nlabtgpspsy.dll</span> and <span class="filepath">lbsbtgpsconfig.dll</span>. Library <span class="filepath">nlabtgpspsy.dll</span> packages the PSY as an ECom plug-in that contains one implementation of the PSY interface. </p>
 <p>The ROM build macros described in this document include the Bluetooth GPS PSY ECom plug-in and associated files in a device ROM. </p>
 </div>
 <a name="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-4689D51B-2E3E-5463-8F51-5E07DEC44826"><!-- --></a><ol id="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-4689D51B-2E3E-5463-8F51-5E07DEC44826"><li class="stepexpand" id="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-1BA40509-EC80-58FC-AC20-A26C66FD9276"><a name="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-1BA40509-EC80-58FC-AC20-A26C66FD9276"><!-- --></a><span>To install the Bluetooth GPS PSY, use the macro <samp class="codeph">SYMBIAN_INCLUDE_BLUETOOTH_GPS_PM</samp> when you build the LBS ROM. </span>  The example below shows how to include the Bluetooth GPS PSY in a ROM image. You may want to specify additional macros depending on which other optional LBS components you may also want to install (such as other PSYs).   <pre class="codeblock" id="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-78A22E73-0701-5184-BB0A-940654582EDD"><a name="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-78A22E73-0701-5184-BB0A-940654582EDD"><!-- --></a>
buildrom lbs.oby 
-DSYMBIAN_INCLUDE_LOCATION_API_VARIANT2
-DSYMBIAN_INCLUDE_BLUETOOTH_GPS_PM
</pre>
  </li>
<li class="stepexpand" id="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-CB185E94-7B42-51C8-A767-45AAAF4992ED"><a name="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-CB185E94-7B42-51C8-A767-45AAAF4992ED"><!-- --></a><span/><br/> Your file <samp class="codeph">lbs.oby</samp> must include the .iby files necessary to build the LBS ROM (see <a href="GUID-5B39D732-7252-57EB-BA74-FC8718ED45E4.html" title="This section describes the ROM build macros that allow you to included or exclude LBS components from ROM.">LBS ROM macros</a> for more information about the LBS .iby files). The LBS .iby file <span class="filepath">lbsbtgpspsy.iby</span> contains the commands to copy the Bluetooth GPS PSY DLL and all supporting files to the target build location:   <pre class="codeblock" id="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-8949E249-508C-58B7-8286-F81573D95337"><a name="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-8949E249-508C-58B7-8286-F81573D95337"><!-- --></a>
#ifndef __LBS_BTPSY_IBY__
#define __LBS_BTPSY_IBY__

#if !defined(SYMBIAN_EXCLUDE_LOCATION)

#if defined(SYMBIAN_INCLUDE_BLUETOOTH_GPS_PM)
#ifdef _DEBUG
ECOM_PLUGIN_UDEB(nlabtgpspsy.dll, nlabtgpspsy.rsc)
#else
ECOM_PLUGIN(nlabtgpspsy.dll, nlabtgpspsy.rsc)
#endif //_DEBUG

data=ZRESOURCE\nlabtgpspsyconstants.rsc                    resource\nlabtgpspsyconstants.rsc
data=ZRESOURCE\nlabtgpspsy_name.rsc                        resource\nlabtgpspsy_name.rsc

#if !defined(CONFIG_USE_GENERATED)
data=EPOCROOT##epoc32\data\z\private\10202BE9\101fe999.cre                private\10202be9\101fe999.cre
#endif // CONFIG_USE_GENERATED

#ifdef SYMBIAN_LOCATION_BTGPSCONFIG
file=ABI_DIR\DEBUG_DIR\lbsbtgpsconfig.dll                System\libs\lbsbtgpsconfig.dll
data=EPOCROOT##epoc32\data\Z\private\10202be9\102869C1.cre    private\10202be9\102869C1.cre
#endif // SYMBIAN_LOCATION_BTGPSCONFIG

#endif // SYMBIAN_INCLUDE_BLUETOOTH_GPS_PM

#endif

#endif // __LBS_BTPSY_IBY__
</pre>
   The file <span class="filepath">101fe999.cre</span> is the binary Central Repository initialisation file that defines values for the keys specified by the <a href="GUID-DA2DC704-CE65-54FB-9049-4E1C73092EDF-GENID-1-12-1-19-1-1-10-1-5-1-5-1-8-1.html">Positioning Plug-in Information API</a> to register the Bluetooth GPS PSY with the LBS subsystem.  </li>
<li class="stepexpand" id="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-8A1B8894-100C-5020-8FBC-83EEAB7140B2"><a name="GUID-38A84B6A-BA49-55ED-A4D7-9B4436D00A42__GUID-8A1B8894-100C-5020-8FBC-83EEAB7140B2"><!-- --></a><span/><br/> To change values in this file, modify the source text version of the initialisation file <span class="filepath">101fe999.txt</span> as described in <a href="GUID-F9BEC749-D535-55EA-8601-A961EA1E441B.html" title="This topic describes how to modify the settings of the Bluetooth GPS PSY.">Modifying the Bluetooth GPS PSY Central Repository Initialisation File</a>, then build a binary version of it. To build a binary version of the file you can use the makefile <span class="filepath">createlbsbtgpsconfigstore.mk</span>, which is included with the source distribution of the Bluetooth GPS PSY.   The library <span class="filepath">lbsbtgpsconfig.dll</span> contains the Bluetooth GPS PSY Configuration API which is also copied into the target ROM.  </li>
</ol>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-90D938EA-E46A-512A-85E3-B8ADF81BC4D3.html" title="These tutorials describe how to configure and use the Bluetooth GPS PSY.">Bluetooth GPS PSY Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF.html" title="This describes the Bluetooth GPS PSY, which connects the Location Server (eposserver.exe) to external Bluetooth GPS devices. The audience is device creators and developers who want to integrate the Bluetooth GPS PSY into their products.">Bluetooth
                GPS PSY Overview</a></div>
<div><a href="GUID-DA2DC704-CE65-54FB-9049-4E1C73092EDF-GENID-1-12-1-19-1-1-10-1-5-1-5-1-8-1.html">Positioning Plug-in Information API</a></div>
<div><a href="GUID-5B39D732-7252-57EB-BA74-FC8718ED45E4.html" title="This section describes the ROM build macros that allow you to included or exclude LBS components from ROM.">LBS ROM
                macros</a></div>
<div><a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">LBS
                Integration and Configuration guide</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-F9BEC749-D535-55EA-8601-A961EA1E441B.html" title="This topic describes how to modify the settings of the Bluetooth GPS PSY.">Modifying the Bluetooth GPS
                PSY Central Repository Initialisation File</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>