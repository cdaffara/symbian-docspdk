<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="FAT32 Conformance Test Suite"/>
<meta name="abstract" content="Describes the FAT32 conformance test suite."/>
<meta name="description" content="Describes the FAT32 conformance test suite."/>
<meta name="DC.Relation" scheme="URI" content="GUID-8D89BC22-3008-5A43-8BBC-C8F2985D71C1.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1EC21155-68A7-5085-B842-B20408C38B26.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8D89BC22-3008-5A43-8BBC-C8F2985D71C1.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>FAT32 Conformance Test Suite</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2402526 id2402534 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-1EC21155-68A7-5085-B842-B20408C38B26.html" title="Provides various file server and file system related test suites.">Base API Tests</a> &gt; <a href="GUID-8D89BC22-3008-5A43-8BBC-C8F2985D71C1.html" title="Describes the F32 test technology area, its coverage, how to set up the test environment, and details of the test suites.">Base Verification Suite</a> &gt; </div>
<h1 class="topictitle1"> FAT32
Conformance Test Suite</h1>
<div><p>Describes the FAT32 conformance test suite.</p>

<div class="section" id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-3531B60A-500A-47E6-A5FB-ADF7C6076432"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-3531B60A-500A-47E6-A5FB-ADF7C6076432"><!-- --></a><h2 class="sectiontitle">Test Suite
Overview</h2> <p>The FAT32 Conformance Test Suite ensures conformance with
various functionality provided by the implementation of FAT32. This includes
verification of FAT32 parameters as defined by the <em>Microsoft Extensible
Firmware Initiative FAT32 System Specification</em> (refer the <a href="http://www.microsoft.com/whdc/system/platform/firmware/fatgen.mspx" target="_blank">Microsoft</a> Web site). </p>
 </div>

<div class="section" id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-23ADBF26-7FED-4091-BC2E-770B9F4A1829"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-23ADBF26-7FED-4091-BC2E-770B9F4A1829"><!-- --></a><h2 class="sectiontitle">Test Approach</h2> <p>The
test suite attempts to validate all the FAT32 parameters in the boot sector,
the FAT table and the FSInfo sector. It ensures that these fields contain
correct values and that the system handles the introduction of incorrect values
by generating appropriate errors. </p>
 <p>This suite tests the File Allocation
Table and its integrity in various conditions. For example, attempts are made
to access clusters that are beyond the legal cluster bounds, to fill the disk
to its maximum capacity and to remove the media while operations are taking
place. </p>
 <p>Negative testing is be performed where applicable to confirm
that errors are returned as documented. </p>
 <p>All tests except the final
test, <samp class="codeph">REMOVEMEDIA</samp>, are automated. The final test case requires
user intervention to remove a memory card when advised. </p>
 </div>

<div class="section" id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-9C7445B4-13D3-4249-84B0-4A85E37DADFC"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-9C7445B4-13D3-4249-84B0-4A85E37DADFC"><!-- --></a><h2 class="sectiontitle">Coverage Omissions</h2> <p>The
following are not tested: </p>
 <ul>
<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-88D14F05-7D03-58DA-835D-3EA2EFD489AC"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-88D14F05-7D03-58DA-835D-3EA2EFD489AC"><!-- --></a><p>Fields specific to the
FAT16 and FAT12 implementation. </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-4CECA041-8835-54EE-A002-4DEB81DD56F0"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-4CECA041-8835-54EE-A002-4DEB81DD56F0"><!-- --></a><p>Name limits and character
sets. </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-60CA0A75-7A09-4EEC-970D-2451FE03B54A"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-60CA0A75-7A09-4EEC-970D-2451FE03B54A"><!-- --></a><h2 class="sectiontitle"> Test Suite
Details</h2> <p><strong>Test
Script Source Tree Location</strong> </p>
 <p>Descriptions of the test cases that
is, test script can be found at the following location: </p>
 <p> <span class="filepath">...\baseapitest\basesvs\conformance\f32\fat32\scripts\f32-fat32-conformance.script</span>. </p>
 <p><strong>Test
Script EPOC tree Location</strong> </p>
 <p>When the tests are built for emulator
or hardware (winscw/armv5), the script is exported into the following location
in the epoc tree: <span class="filepath">%EPOCROOT%\epoc32\data\Z\base\conformance\f32\fat32</span>. </p>
 <p><strong>Test Script Build Location</strong> </p>
 <p>When the tests are built, the script
is built into the following location: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\release\&lt;winscw|armv5&gt;\&lt;udeb|urel&gt;\Z\base\conformance\f32\fat32\</span> </p>
 <div class="p"><div class="note"><span class="notetitle">Note:</span>  When the tests are built to be executed on hardware the files
are built into the z: drive of the ROM. </div>
</div>
 <p id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-D0F57E8A-9AF1-57E4-BA22-3FE4AB49E8F9"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-D0F57E8A-9AF1-57E4-BA22-3FE4AB49E8F9"><!-- --></a><strong> Test Data Source Tree Location</strong> </p>
 <p>The
test suite contains following test data file: </p>
 <p> <span class="filepath">...\baseapitest\basesvs\conformance\f32\fat32\testdata\&lt;winscw|armv5&gt;\f32-fat32-conformance.ini</span> </p>
 <p id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-8654BC4C-FF04-53BD-8982-1866A0F45BB0"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-8654BC4C-FF04-53BD-8982-1866A0F45BB0"><!-- --></a><strong>Test Data Files EPOC Tree
Location</strong> </p>
 <p>When the tests are built for emulator or hardware (winscw/armv5),
the data file is exported into the following location in the epoc tree: <span class="filepath">%EPOCROOT%\epoc32\data\Z\base\conformance\f32\fat32\</span>. </p>
 <p><strong>Test
Data Files Emulator Location</strong> </p>
 <p>When the tests are built, the test
data file are built into the following location: <span class="filepath">%EPOCROOT%\epoc32\release\winscw\&lt;udeb/urel&gt;\Z\base\conformance\f32\fat32\</span>. </p>
 <div class="p"> <div class="note"><span class="notetitle">Note:</span>  When the tests are built to be executed on hardware the
files are built into the z: drive of the ROM </div>
</div>
 <p><strong>Test .driver File</strong> </p>
 <p>The <span class="filepath">base.driver</span> file
found in <span class="filepath">...\baseapitest\basesvs\testsuites\base\</span> is
used by the test driver to construct the test suite tree structure and export
all the appropriate files to the correct location in the epoc32 tree and on
the device. </p>
 <p>When the tests are built, the <span class="filepath">.driver</span> file
can be found in the following location: <span class="filepath">%EPOCROOT%\epoc32\testdriver\testproduct\</span>. </p>
 <p id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-72714310-D4B3-5077-89C6-D7B8D4FFC5F7"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-72714310-D4B3-5077-89C6-D7B8D4FFC5F7"><!-- --></a><strong>TCS File Source Location</strong> </p>
 <p>The <span class="filepath">.tcs</span> file
is found in the following location: </p>
 <p> <span class="filepath">...\baseapitest\basesvs\config\t_base.tcs</span>  </p>
 <p><strong>TCS File Build Location</strong> </p>
 <p>When the tests are built, the script
is generated in the following location: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\release\&lt;winscw|armv5&gt;\&lt;udeb|urel&gt;\Z\base\</span> </p>
 <div class="p"><div class="note"><span class="notetitle">Note:</span>  When the tests are built to be executed on hardware, the files are built
into the <span class="filepath">z:</span> drive of the ROM.</div>
 </div>
 </div>

<div class="section" id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-247E06DA-44C0-4E4C-AF85-812848981B09"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-247E06DA-44C0-4E4C-AF85-812848981B09"><!-- --></a><h2 class="sectiontitle">Test Environment
and Execution</h2> <p><strong>General
Test environment</strong> </p>
 <p>The test suite has the following environment
requirements: </p>
 <ul>
<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-AB5E3784-183F-546A-AF4E-4DFD92115D9E"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-AB5E3784-183F-546A-AF4E-4DFD92115D9E"><!-- --></a><p>Removable media must
have a FAT32 file system </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-75853F65-951B-5F70-85A2-22F890D88F8A"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-75853F65-951B-5F70-85A2-22F890D88F8A"><!-- --></a><p>The minimum size of
SD card acceptable for FAT32 is 2GB. For MMC and other forms of removable
media the minimum size is 512MB. </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BFCB5D33-7EC7-57E6-99D6-8D18B8996BF8"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BFCB5D33-7EC7-57E6-99D6-8D18B8996BF8"><!-- --></a><p>The card must be inserted
before test suite execution. </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-353FA700-1920-5F16-BC48-3A439711142D"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-353FA700-1920-5F16-BC48-3A439711142D"><!-- --></a><p>If testing on an emulator
(WINSCW) the size of the emulated memory card can be changed by modifying
the epoc.ini file. This file can be found in <span class="filepath">%EPOCROOT%\epoc32\data\</span>. </p>
 <p>For
example, MultiMediaCardSize=1048510 sets the size to 1GB </p>
 </li>

</ul>
 <p>Refer to <a href="GUID-3C26B5B2-1B90-5F96-9342-1D53F6EDD94F.html" title="Describes the high level test philosophy, scope and the types of test used in F32 technology.">Base
F32 Test Technology</a> for general environment details. </p>
 <p><strong>How to create error logs</strong> </p>
 <p>File System logging is switched off
by default. To turn it on, set the SetDebug field in the Common section of
the configuration file (f32-fat32-conformance.ini) to 1. Refer to <a href="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198.html#GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-D0F57E8A-9AF1-57E4-BA22-3FE4AB49E8F9">Test Data Source Tree Location</a> and <a href="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198.html#GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-8654BC4C-FF04-53BD-8982-1866A0F45BB0">Test
Data Files EPOC Tree Location</a> for the file locations. </p>
 <p>File
System logging only applies to UDEB builds. The log data output will be sent
to a terminal emulation program, such as Hyper Terminal, through a debug port
on the hardware board (for H4 this is Com0). </p>
 <p>The port settings for
the terminal emulator are: </p>
 <ul>
<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-1D6C7527-F0A0-5907-B9F5-F4DC6B5E55BA"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-1D6C7527-F0A0-5907-B9F5-F4DC6B5E55BA"><!-- --></a><p>Baud rate: 115200 </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-93ADCB50-C1C9-539B-9FE5-4E90EF19B838"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-93ADCB50-C1C9-539B-9FE5-4E90EF19B838"><!-- --></a><p>Data bits: 8 </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BEB57F93-A4E8-5E4C-9CC7-BB9F1AABA363"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BEB57F93-A4E8-5E4C-9CC7-BB9F1AABA363"><!-- --></a><p>Stop bits: 1 </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-940A8FC0-0BFE-5A2E-82E7-A17544F81488"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-940A8FC0-0BFE-5A2E-82E7-A17544F81488"><!-- --></a><p>Parity: none </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-F8F95C83-E88F-5A5B-9F85-CC6A0F3833DE"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-F8F95C83-E88F-5A5B-9F85-CC6A0F3833DE"><!-- --></a><p>Flow control: none </p>
 </li>

</ul>
 <p><strong>Test
execution instructions</strong> </p>
 <p>For test execution instructions refer to <a href="GUID-3C26B5B2-1B90-5F96-9342-1D53F6EDD94F.html" title="Describes the high level test philosophy, scope and the types of test used in F32 technology.">Base F32 Test Technology</a>.
The test suite requires a ROM to be built with FAT32 and SD support. To do
this substitute the buildrom step in the Base Test Technology Document with
the steps listed below </p>
 <p> <strong>Building ROM for hardware testing</strong>  </p>
 <a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BF114751-755F-5004-B6D7-0BFE204385C0"><!-- --></a><ol id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BF114751-755F-5004-B6D7-0BFE204385C0">
<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-D3586956-26A0-50A3-9789-95E2D90CB88E"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-D3586956-26A0-50A3-9789-95E2D90CB88E"><!-- --></a><p>Navigate to <samp class="codeph">…\epoc32\rom</samp> and
execute one of the following commands: </p>
 <p>for automated testing using
Test Driver: </p>
 <p><kbd class="userinput">buildrom –D_STARTUPMODE2 –D_EABI=ARMV5 –DRVCT
&lt;h4hrp/h2&gt; –DUSE_SDIO_SD_MMC –DWITH_FAT32 techview_statapi</kbd> </p>
 <p>for
manual testing (without Test Driver): </p>
 <p><kbd class="userinput">buildrom -D_STARTUPMODE2
-D_NAND2 &lt;h4hrp/h2&gt; techview t_base</kbd> </p>
 </li>

<li id="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BFF2FD8F-237A-5652-BAEB-B26B7B3B5A4E"><a name="GUID-FFDD3689-A83B-5E67-A2BD-7723B141E198__GUID-BFF2FD8F-237A-5652-BAEB-B26B7B3B5A4E"><!-- --></a><p>To transfer the image
onto the hardware board through MMC card zip the image file and rename it <span class="filepath">sys$rom.zip</span>.
Place the zipped file on an MMC card and start the board. </p>
 </li>

</ol>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-8D89BC22-3008-5A43-8BBC-C8F2985D71C1.html" title="Describes the F32 test technology area, its coverage, how to set up the test environment, and details of the test suites.">Base Verification Suite</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>