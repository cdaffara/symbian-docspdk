<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CommTimer"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021"/>

<title>CommTimer</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021"><a name="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2611716 id2744491 id2744496 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CommTimer Class Reference</h1>
	<table class="signature"><tr><td>class CommTimer</td></tr></table><div class="section"><div>
			<p>Static utility class for global timer handling designed for use by Serial Server plug-ins (CSYs).</p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-5007B0E6-DC6A-39BC-BF72-F0AF7A38A5B2.html">CDeltaTimer</a> *</td><td><a href="#GUID-16554B43-9697-3169-AA1C-DAD776F68466">GetTimer</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-CE0DA83E-910B-3595-B545-6866E0B5F945">Queue</a>(<a href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>, <a href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-14ECAFA5-2988-353D-A2BD-101867665CD7">Remove</a>(<a href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-16554B43-9697-3169-AA1C-DAD776F68466"><a name="GUID-16554B43-9697-3169-AA1C-DAD776F68466"><!-- --></a>
		<h2 class="topictitle2">GetTimer()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-5007B0E6-DC6A-39BC-BF72-F0AF7A38A5B2.html">CDeltaTimer</a> *</td><td>GetTimer</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Get the pointer to the global timer. If it does not exist, create a new timer and store the pointer in the TLS.</p>

				<p>Only clients within CSYs should use this API, since this function has a legacy behaviour of panicking in the case of no memory. This is due to the API not containing a means to communicate this result back to the caller. In the case where GetTimer is used by a CSY this is not a problem since the CSY will be running in a thread that C32 has already allocated the <a href="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021.html#GUID-D50A2924-3BAF-3045-914D-0B9FE477F021">CommTimer</a> memory for.</p>

				<div class="p">
					<div class="note"><span class="notetitle">Note:</span> 
						<p>This function is using TLS (Thread Local Storage) and may reduce performance. </p>

					</div>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-CE0DA83E-910B-3595-B545-6866E0B5F945"><a name="GUID-CE0DA83E-910B-3595-B545-6866E0B5F945"><!-- --></a>
		<h2 class="topictitle2">Queue(TTimeIntervalMicroSeconds32, TDeltaTimerEntry &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Queue</td><td>(</td><td><a href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td>aTimeInMicroSeconds,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;</td><td>aHandle</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Queue a timer on the global timer.</p>

				<p>This class is only suitable for CSYs since it currently has no direct mechanism through which to release the Thread Local Storage and heap resources it allocates. In the case of CSYs these resources are managed separately by C32.</p>

				<p>Note:</p>

				<p>1. The Thread Local Storage of the calling thread must be available for use.</p>

				<p>2. The first time this is called for a thread, a small amount of heap memory is required. If no memory is available, a "c32-fault" panic of type 7 is raised. Subsequent calls are not affected since they reuse this memory.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a> aTimeInMicroSeconds</td><td>the timeout value in micro seconds  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp; aHandle</td><td>handle to the delta timer entry  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-14ECAFA5-2988-353D-A2BD-101867665CD7"><a name="GUID-14ECAFA5-2988-353D-A2BD-101867665CD7"><!-- --></a>
		<h2 class="topictitle2">Remove(TDeltaTimerEntry &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Remove</td><td>(</td><td><a href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;</td><td>aHandle</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Call cancel on the global timer</p>

				<p>Note: This does not free the Thread Local Storage for the calling thread.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp; aHandle</td><td>the timer to cancel  </td></tr></table></div>

	</div>

	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>