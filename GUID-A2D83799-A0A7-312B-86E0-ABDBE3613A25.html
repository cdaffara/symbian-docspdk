<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MMsvAttachmentManagerSync"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25"/>

<title>MMsvAttachmentManagerSync</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25"><a name="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2382304 id2382309 id2382314 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MMsvAttachmentManagerSync Class Reference</h1>
	<table class="signature"><tr><td>class MMsvAttachmentManagerSync</td></tr></table><div class="section"><div>
			<p>Defines the attachment management extensions interface.</p>

			<p>This class is a pure virtual interface class that defines the APIs to be used for by MTMs and implementors of <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD">MMsvAttachmentManager</a>.</p>

			<p>This API extends the <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD">MMsvAttachmentManager</a> with synchronous calls for deleting and creating attachments.</p>

			<p>
				<a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html#GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F">CMsvAttachment</a>   </p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-A5D97BBF-FA41-3A3A-88DC-18C7FCD4CEA4">CreateAttachmentL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-803C372A-13A8-3C0D-A20C-B0D746DC9897">ModifyAttachmentInfoL</a>(<a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-199C22AA-4EB6-3B3E-B1B8-5E39FBBE00A8">RemoveAttachmentL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-16871FF7-3CAB-3764-A1E2-018F404756AA">RenameAttachmentL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-A5D97BBF-FA41-3A3A-88DC-18C7FCD4CEA4"><a name="GUID-A5D97BBF-FA41-3A3A-88DC-18C7FCD4CEA4"><!-- --></a>
		<h2 class="topictitle2">CreateAttachmentL(const TDesC &amp;, RFile &amp;, CMsvAttachment *)</h2>
		<table class="signature"><tr><td>void</td><td>CreateAttachmentL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aFileName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aAttachmentFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *</td><td>aAttachmentInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Creates a new empty attachment file.</p>

				<p>The caller is returned an open writable file handle to an empty attachment file in the message store. The caller must pass in an uninitialised file handle. If the request is sucessful the file handle is open and must close by the caller once the data has been written to it.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aFileName</td><td>The filename to assign to the newly create attachment file.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aAttachmentFile</td><td>An uninitialised file handle. This is opened and can be written to if the request is successful. The ownership is transferred . The caller must close the file handle.  </td></tr><tr><td class="parameter"><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> * aAttachmentInfo</td><td>The attachment info associated with the file. If the routine does not leave, then ownership will be transferred to the attachment manager. If the routine does leave then ownership will not have been transfered and the caller is responsible for cleanup.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-803C372A-13A8-3C0D-A20C-B0D746DC9897"><a name="GUID-803C372A-13A8-3C0D-A20C-B0D746DC9897"><!-- --></a>
		<h2 class="topictitle2">ModifyAttachmentInfoL(CMsvAttachment *)</h2>
		<table class="signature"><tr><td>void</td><td>ModifyAttachmentInfoL</td><td>(</td><td><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *</td><td>aAttachmentInfo</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<div class="p">Modify existing attachment <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> * aAttachmentInfo</td><td>The attachment info associated with the file. If the routine does not leave, then ownership will be transferred to the attachment manager. If the routine does leave then ownership will not have been transfered and the caller is responsible for cleanup.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-199C22AA-4EB6-3B3E-B1B8-5E39FBBE00A8"><a name="GUID-199C22AA-4EB6-3B3E-B1B8-5E39FBBE00A8"><!-- --></a>
		<h2 class="topictitle2">RemoveAttachmentL(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>RemoveAttachmentL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aIndex</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Removes the attachment from the message entry.</p>

				<p>This changes the array index values of all the attachments after the removed one. Attachment files stored in the message store are deleted. Linked files and message entry attachments are not deleted, this is left to the caller to do if required.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aIndex</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-16871FF7-3CAB-3764-A1E2-018F404756AA"><a name="GUID-16871FF7-3CAB-3764-A1E2-018F404756AA"><!-- --></a>
		<h2 class="topictitle2">RenameAttachmentL(TInt, const TDesC &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>RenameAttachmentL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aIndex,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aNewName</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Renames the physical filename of an attachment.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAlreadyExists If the supplied attachment filename already exists. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aIndex</td><td>The array index position of the attachment to be renamed.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aNewName</td><td>The new name of the attachment.  </td></tr></table></div>

	</div>

	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>