<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Upgrade Types"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9DCD2076-0F73-5BB7-85BF-580567E0AB53.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0AF47934-0A16-51A2-9254-992D7C6B322B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8E160B29-18C4-574B-9259-9A8E958CDA91.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-ED2D5BEA-AD2A-51CE-8CBC-8B5E33DD6356.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C55D1D74-B764-5DD1-8C43-5A5138578EAC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9DCD2076-0F73-5BB7-85BF-580567E0AB53.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D9D20EE0-AC86-512A-91C0-EA0ACF3912A7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F65B69A-6AC1-509C-91E8-9E49ED0BFEC0.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Upgrade Types</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563624 id2563579 id2563387 id2563308 id2563369 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-0AF47934-0A16-51A2-9254-992D7C6B322B.html">Application Installation Guide</a> &gt; <a href="GUID-8E160B29-18C4-574B-9259-9A8E958CDA91.html">Secure Software Install Tools</a> &gt; <a href="GUID-ED2D5BEA-AD2A-51CE-8CBC-8B5E33DD6356.html">Secure Software Install SIS Tools</a> &gt; <a href="GUID-C55D1D74-B764-5DD1-8C43-5A5138578EAC.html">Secure Software Install SIS Tools Concepts</a> &gt; <a href="GUID-9DCD2076-0F73-5BB7-85BF-580567E0AB53.html">Package Upgrades</a> &gt; </div>
<h1 class="topictitle1"> Upgrade
Types</h1>
<div>
<p>The PKG file supporting upgrades must contain package-header section with
definitions for different types of upgrades. For details see, <a href="GUID-D9D20EE0-AC86-512A-91C0-EA0ACF3912A7.html">Package-Header</a>. </p>

<p>The following table lists the different types of upgrades possible: </p>


<div class="tablenoborder"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-F082562E-66EA-58F7-A77A-ED512E9E7FA7"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-F082562E-66EA-58F7-A77A-ED512E9E7FA7" frame="border" border="1" rules="all">
<tbody>
<tr>
<td class="cellrowborder" valign="top"><p> <strong>Type</strong>  </p>
 </td>

<td class="cellrowborder" valign="top"><p> <strong>Package UID</strong>  </p>
 </td>

<td class="cellrowborder" valign="top"><p> <strong>Package name</strong>  </p>
 </td>

<td class="cellrowborder" valign="top"><p> <strong>Version</strong>  </p>
 </td>

<td class="cellrowborder" valign="top"><p> <strong>Global vendor name</strong>  </p>
 </td>

<td class="cellrowborder" valign="top"><p> <strong>Notes</strong>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top"><p> <samp class="codeph">SA</samp>  </p>
 </td>

<td class="cellrowborder" valign="top"><p>Same </p>
 </td>

<td class="cellrowborder" valign="top"><p>Same </p>
 </td>

<td class="cellrowborder" valign="top"><p>Higher (not mandatory) </p>
 </td>

<td class="cellrowborder" valign="top"><p>Same </p>
 </td>

<td class="cellrowborder" valign="top"><p>Can overwrite (replace) files </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top"><p> <samp class="codeph">SP</samp>  </p>
 </td>

<td class="cellrowborder" valign="top"><p>Same </p>
 </td>

<td class="cellrowborder" valign="top"><p>Different </p>
 </td>

<td class="cellrowborder" valign="top"><p>Not required </p>
 </td>

<td class="cellrowborder" valign="top"><p>Not required </p>
 </td>

<td class="cellrowborder" valign="top"><p>Cannot overwrite (replace) files </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top"><p> <samp class="codeph">PU</samp>  </p>
 </td>

<td class="cellrowborder" valign="top"><p>Same </p>
 </td>

<td class="cellrowborder" valign="top"><p>Need not match </p>
 </td>

<td class="cellrowborder" valign="top"><p>Higher (not mandatory) </p>
 </td>

<td class="cellrowborder" valign="top"><p>Not required </p>
 </td>

<td class="cellrowborder" valign="top"><p>Can overwrite (replace) files </p>
 </td>

</tr>

</tbody>

</table>
</div>

<div class="section"><h2 class="sectiontitle">SA - Full Upgrade</h2> <p>The full upgrade is specified
using the <samp class="codeph">SA</samp> tag in the package-header. In full upgrade,
the original package is entirely replaced by the new one. The original files
that are not available in the new package are removed from the Symbian device.
After upgrade, the new package cannot be removed separately from the original.
To remove the upgrade, the entire package must be removed. </p>
 <p>If the
upgrade causes an executable to be <em>removed</em>, the corresponding private
directory is deleted. Any folders and files that are created by the application
outside its private directory are not removed. The application must remove
these files. </p>
 <p> <strong>Important:</strong> It is recommended that files created
by an application be located in the private directory of the application. </p>
 <p>If
the upgrade causes an executable to be <em>replaced</em>, the private directory
is not removed. </p>
 <p> <strong>Notes</strong>: </p>
 <ul>
<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-E726EE1F-F977-5DDA-9AFD-E0AEEC789D6D"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-E726EE1F-F977-5DDA-9AFD-E0AEEC789D6D"><!-- --></a><p>An upgrading package
of type <samp class="codeph">SA</samp> cannot overwrite files installed by a patch. For
upgrading such packages, the patch must be uninstalled first. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-18DB72B9-55EC-581C-B705-343720F62B34"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-18DB72B9-55EC-581C-B705-343720F62B34"><!-- --></a><p>To be identified as
an upgrade, the upgrading package file must have the same package UID as the
original. If the package UID differs, it is considered to be an unrelated
package and not an upgrade. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-76D8A7B8-3DD2-5D14-835A-031C2B1EE0C8"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-76D8A7B8-3DD2-5D14-835A-031C2B1EE0C8"><!-- --></a><p>If a patch upgrades
an <samp class="codeph">SA</samp> package, the patch is not uninstalled by new <samp class="codeph">SA</samp> upgrade. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-EEEE413A-522E-52D2-9B8B-BA5933DD0000"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-EEEE413A-522E-52D2-9B8B-BA5933DD0000"><!-- --></a><p>The <samp class="codeph">RR</samp> and <samp class="codeph">RB</samp> executables
in the base package are run during the upgrade. See, <a href="GUID-B3BE018B-0EC5-5866-9BD7-50CBF5670324.html#GUID-B3BE018B-0EC5-5866-9BD7-50CBF5670324__GUID-B913501B-A5AB-5ADB-96FF-8060DD45A87E">run-options</a> for details. </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">SP - Patch Upgrade</h2> <p>The patch upgrade is specified
using the <samp class="codeph">SP</samp> tag in the package-header. This is an augmentation
to an existing package (<em>base package</em>). A typical example for this requirement
is to provide additional levels of a game. A patch upgrade cannot overwrite
files in RAM, however, it can eclipse files in ROM. A patch can be uninstalled
separately from the base package. The installation fails if a patch modifies
or replaces an existing file in the base package. </p>
 <p>A patch can only
add files to a base package and cannot overwrite files. This is the only difference
between patch upgrade and partial upgrade. </p>
 <p> <strong>Notes</strong>: </p>
 <ul>
<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-BDE060BA-2846-5E05-93BD-CEE9136651A7"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-BDE060BA-2846-5E05-93BD-CEE9136651A7"><!-- --></a><p>If two patches with
same package name and UID are installed, the second patch is treated as an
upgrade of the first patch. The second patch replaces the first patch entirely. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-92611923-8DEB-5E45-89D5-9712C1C26CD4"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-92611923-8DEB-5E45-89D5-9712C1C26CD4"><!-- --></a><p>An OS component does
not need a Stub SIS file to be patched. However, if the requirement is to
patch files in the private directory of the component, a stub SIS file is
required which specifies the relevant executables (<span class="filepath">.exe</span>). </p>
 <p> <strong>Important</strong>:
If the patch installs files to more than one private directory, all relevant
EXEs must be specified in the Stub file. </p>
 <p>If a Stub SIS file is required,
the patch must have the same package UID and non-localized vendor name as
the package it is upgrading. The package name must be different to distinguish
the patch from the existing component. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-ED91317F-65E8-5E52-AFE4-5D5A94126AA1"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-ED91317F-65E8-5E52-AFE4-5D5A94126AA1"><!-- --></a><p>A patch can install
files to the import directory of the component (<span class="filepath">\private\</span> <em>&lt;SID&gt;</em> <span class="filepath">\import\</span>)
without the requirement of a Stub SIS file. However, the import directory
must already exist. The software installer does not create it. </p>
 <p>The
purpose of the import directory is to enable other packages to install files
to it. </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">PU - Partial Upgrade</h2> <p>The partial upgrade is specified
using the <samp class="codeph">PU</samp> tag in the package-header. This upgrade is a
variation of <samp class="codeph">SA</samp> in that any files present in the base package
that are missing in the new package are not removed. A partial upgrade can
only add or overwrite files. This allows an upgrading SIS file to replace
just the parts of a base package which requires replacement. </p>
 <p> <strong>Notes</strong>: </p>
 <ul>
<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-3EAFFA91-9929-5E94-825C-6CF648886A77"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-3EAFFA91-9929-5E94-825C-6CF648886A77"><!-- --></a><p>When creating a <samp class="codeph">PU</samp> package,
the drive selection dialog must be suppressed, so that the upgrade is installed
on the same drive as the existing package and not to the drive selected by
the Symbian device user. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-349A16C1-3876-5B90-AD15-56027407EA08"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-349A16C1-3876-5B90-AD15-56027407EA08"><!-- --></a><p>Unlike packages installed
using the <samp class="codeph">SA</samp> or <samp class="codeph">SP</samp> options, a partial upgrade
package is not listed as a removable component after installation, so the
base package must be removed and reinstalled to remove the changes. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-3E6FDB35-55D5-5BD7-9E0E-C60F5D6B7476"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-3E6FDB35-55D5-5BD7-9E0E-C60F5D6B7476"><!-- --></a><p>A partial upgrade cannot
overwrite files installed by a patch. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-B335BF5B-B45C-558F-BDEE-09C2676AC133"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-B335BF5B-B45C-558F-BDEE-09C2676AC133"><!-- --></a><p>The <samp class="codeph">RR</samp> and <samp class="codeph">RB</samp> executables
in the base package are run during the upgrade. See, <a href="GUID-B3BE018B-0EC5-5866-9BD7-50CBF5670324.html#GUID-B3BE018B-0EC5-5866-9BD7-50CBF5670324__GUID-B913501B-A5AB-5ADB-96FF-8060DD45A87E">run-options</a> for details. </p>
 </li>

<li id="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-CCCCE6F7-EA61-5617-A692-D57EB856C133"><a name="GUID-7FD72D9F-D65E-5248-A296-F2196F1DF5CF__GUID-CCCCE6F7-EA61-5617-A692-D57EB856C133"><!-- --></a><p>It is not mandatory
to specify the RU option for upgrading applications on the ROM. </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-9DCD2076-0F73-5BB7-85BF-580567E0AB53.html">Package Upgrades</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-7F65B69A-6AC1-509C-91E8-9E49ED0BFEC0.html">Upgrading
OS Components</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a href="GUID-D9D20EE0-AC86-512A-91C0-EA0ACF3912A7.html">Package-Header</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>