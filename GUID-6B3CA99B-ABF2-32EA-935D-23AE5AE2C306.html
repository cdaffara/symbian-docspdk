<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RCommServ"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306"/>

<title>RCommServ</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306"><a name="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2611716 id2744491 id2744496 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">RCommServ Class Reference</h1>
	<table class="signature"><tr><td>class RCommServ : public RSessionBase</td></tr></table><div class="section"><div>
			<p>Represents a session with the serial comms server. Functions are provided for connection to the server and for loading and unloading different comms modules, and services for finding out the name and numbers of the available ports.</p>

			<p>Sessions with the serial comms server are not shareable.</p>

			<p>Comms modules are also known as "CSY"s due to their ".CSY" extension, derived from the term "Comms SYstem".</p>

			<p>This class is not intended for user derivation.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RCommServ<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase</a><ul class="derivation"><li class="derivation-depth-2 "><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-72167CFE-878C-3710-9B49-0591870B191F">RCommServ</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803">Connect</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C3DBF2F6-041D-38BA-B6D9-C4C3AE469019">CreateThreadInCommProc</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html">TThreadFunction</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-B6AF6D30-779F-3174-95E3-81BF95E98C2A">GetPortInfo</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-8731A0DB-88C4-31C4-929A-0B413155CD29">GetPortInfo</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;, <a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E0E8EE57-3FE4-3F6B-9751-DD5AE17ADA0C">LoadCommModule</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6B03FC4C-0BAD-3C14-99EB-9FE49E74C488">NumPorts</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-FBED442A-89C3-3712-9BA9-3126028CFF84">UnloadCommModule</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td><a href="#GUID-07866B19-543C-396F-9ECA-51BF2749ADDF">Version</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-319453C5-51E5-3256-ABF5-F1B61CF4E50A">__DbgCheckHeap</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D33DF46C-62FB-3A50-B6BE-65B1755C9437">__DbgFailNext</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-89F66DC1-9B2E-35A9-9C89-78F8BA5F3204">__DbgMarkEnd</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-5B44A887-7E55-331A-B9C9-844CA36B9269">__DbgMarkHeap</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F565637E-DD32-3E1D-AC24-5291EFEC24A0">__DbgSetTraceMask</a>(<a href="GUID-BBCE9011-2097-3FEF-8137-3FAFF7CB3D22.html">TC32Trace</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-2942286A-D11F-3C2E-8270-E848F502A490">IsServerThreadL</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Attributes()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::BTraceId()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Close()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::DoExtendedClose()</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Duplicate(const RThread &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName(TDes &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Handle()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::HandleInfo(THandleInfo *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Name()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::NotifyDestruction(TRequestStatus &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Open(const TFindHandleBase &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::OpenByName(const TDesC &amp;,TOwnerType,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase()</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandle(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandleNC(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TRequestStatus *)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,RHandleBase &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,const TSecurityPolicy &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareAuto()</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareProtected()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase:TAttributes</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase:TAttachMode</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::iHandle</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-72167CFE-878C-3710-9B49-0591870B191F"><a name="GUID-72167CFE-878C-3710-9B49-0591870B191F"><!-- --></a>
		<h2 class="topictitle2">RCommServ()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>RCommServ</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<div class="p">Default constructor. <dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>None </dd>
</dl>
</div>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803"><a name="GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803"><!-- --></a>
		<h2 class="topictitle2">Connect()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Connect</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Connects a client process to the comms server.</p>

				<p>Use this function to open a session to the Comms server. Default number of message slots is defined in KDefaultMessageSlots.</p>

				<p>Notes:</p>

				<p>1. <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB">RHandleBase</a> provides the necessary <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-9A533D5A-B98E-36F5-85C5-4467975C7466">Close()</a> function, which should be called when the server session is no longer required. Note that the kernel completes the <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-9A533D5A-B98E-36F5-85C5-4467975C7466">Close()</a> function immediately and so <a href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306">RCommServ</a> resources still used by this client may not yet have been released at the time the <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-9A533D5A-B98E-36F5-85C5-4467975C7466">Close()</a> returns. A consequence of this is that an attempt to open a port previously opened for exclusive use in a session that is still closing might fail. 2. Older versions of Symbian OS specified that a call to "StartC32" was required before a call to this <a href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-A202EC6D-2B5A-3BEA-BD29-E9E81FFC8803">Connect()</a>. However, C32 Serial server is now started automatically during device boot so this is not necessary unless the application is to run in a non-standard GUI environment.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-C3DBF2F6-041D-38BA-B6D9-C4C3AE469019"><a name="GUID-C3DBF2F6-041D-38BA-B6D9-C4C3AE469019"><!-- --></a>
		<h2 class="topictitle2">CreateThreadInCommProc(const TDesC &amp;, const TDesC &amp;, TThreadFunction, TInt, TInt, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CreateThreadInCommProc</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aLibraryName,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aThreadName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html">TThreadFunction</a></td><td>aFunction,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aStackSize,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aHeapMinSize,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aHeapMaxSize</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>This functionality has been withdrawn since the introduction of Platform Security.</p>

				<p>This API has been replaced with a more secure and controlled model for loading threads into the Comms process, known as the Configurator. The Configurator requires a Comms Provider Module (DLL) to be available that provides the code for the thread to execute, and a configuration file that describes to the Configurator how to manage the Comms Provider Module. Further information on this is only available in documentation libraries that include the Configurator documentation.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>CommDD (Deprecate) </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aLibraryName</td><td>This value is not used.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aThreadName</td><td>This value is not used.  </td></tr><tr><td class="parameter"><a href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html">TThreadFunction</a> aFunction</td><td>This value is not used.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aStackSize</td><td>A negative value will result in a panic.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aHeapMinSize</td><td>A value less than KMinHeapSize will result in a panic.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aHeapMaxSize</td><td>A value less than aHeapMinSize will result in a panic.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B6AF6D30-779F-3174-95E3-81BF95E98C2A"><a name="GUID-B6AF6D30-779F-3174-95E3-81BF95E98C2A"><!-- --></a>
		<h2 class="topictitle2">GetPortInfo(const TDesC &amp;, TSerialInfo &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetPortInfo</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;</td><td>aInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Gets static information about the available serial ports for a particular comms module.</p>

				<p>This variant enables the comms module to be specified in Port Prefix format or by filename.</p>

				<p>There is no wildcard support.</p>

				<p>Notes:</p>

				<p>1. This API only returns static information about the available ports as they were when the module loaded, so ports listed as available may actually be in use exclusively by another client at the time of this call.</p>

				<p>2. The information returned does not account for any security restrictions on ports, and so does not check whether the client has the capabilities to open all the advertised ports.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aName</td><td>The name of the comms module in Port Prefix format (eg "COMM" for RS232), or the filename of the CSY as supplied to LoadCommModule() excluding the ".CSY" extension (eg "ECUART" for RS232). The supplied name will be truncated to be KMaxPortName (16) characters long.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp; aInfo</td><td>On return, contains information about the ports available, including the high and low unit numbers and their name in Port Prefix format.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8731A0DB-88C4-31C4-929A-0B413155CD29"><a name="GUID-8731A0DB-88C4-31C4-929A-0B413155CD29"><!-- --></a>
		<h2 class="topictitle2">GetPortInfo(TInt, TDes &amp;, TSerialInfo &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetPortInfo</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aIndex,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;</td><td>aModuleName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;</td><td>aInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Gets static information about the available serial ports for a particular comms module.</p>

				<p>This variant enables the comms module to be specified by an index number from 0, enabling iteration through the loaded comms modules. Call <a href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-6B03FC4C-0BAD-3C14-99EB-9FE49E74C488">NumPorts()</a> to obtain the current number of loaded comms modules.</p>

				<p>Notes:</p>

				<p>1. This API only returns static information about the available ports as they were when the module loaded, so ports listed as available may actually be in use exclusively by another client at the time of this call.</p>

				<p>2. The information returned does not account for any security restrictions on ports, and so does not check whether the client has the capabilities to open all the advertised ports.</p>

				<p>3. If another C32 client unloads a CSY module, the index of each of the remaining modules may change. If a client is attempting to iterate through all the open modules when this occurs, the iteration may miss a module or receive KErrNotFound unexpectedly. This behaviour can be detected by observing that the value returned by <a href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-6B03FC4C-0BAD-3C14-99EB-9FE49E74C488">NumPorts()</a> changes.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aIndex</td><td>Index number of the comms module, starting at 0.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp; aModuleName</td><td>On return, contains the name of the comms module referred to by aIndex. This name is expressed as the filename without the path or extension, and the case is not specified since it is determined by the first request to LoadCommModule. </td></tr><tr><td class="parameter"><a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp; aInfo</td><td>On return, contains information about the ports available, including the high and low unit numbers and their name.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2942286A-D11F-3C2E-8270-E848F502A490"><a name="GUID-2942286A-D11F-3C2E-8270-E848F502A490"><!-- --></a>
		<h2 class="topictitle2">IsServerThreadL()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>IsServerThreadL</td><td>(</td><td>)</td><td>[private, static]</td></tr></table><div class="section"><div>
				<p>Return TRUE if this thread is the C32 main thread</p>

				<div class="p">
					<div class="note"><span class="notetitle">Note:</span> 
						<p>This function is not as water tight as it could be. This is due to a limitation in our ability to get the thread name. Under non-WINS builds the thread name is (even after we rename it) a combination of process name, OS data and thread name. Therefore we search for a thread name ending in "CommServer" and belonging to the C32 process. If another process started a thread in C32 via the <a href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-C3DBF2F6-041D-38BA-B6D9-C4C3AE469019">CreateThreadInCommProc()</a> call with a name ending in "CommServer" then this function may start to produce incorrect results.</p>

					</div>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-E0E8EE57-3FE4-3F6B-9751-DD5AE17ADA0C"><a name="GUID-E0E8EE57-3FE4-3F6B-9751-DD5AE17ADA0C"><!-- --></a>
		<h2 class="topictitle2">LoadCommModule(const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>LoadCommModule</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aFileName</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Loads a comms module.</p>

				<p>Use this function to load a CSY comms module. These are protocol modules that C32 Serial Server uses to understand how to handle a particular port.</p>

				<p>Notes:</p>

				<p>1. There is no need for an extension, as ".CSY" is automatically appended by this function.</p>

				<p>2. This function only loads CSYs that have been installed correctly into one of the system's /sys/bin directories</p>

				<p>3. If the module has already been loaded by another client, this function will increment the reference to the module.</p>

				<p>4. It is not an error to load the same module twice or more, although there is no practical application for this ability. On each subsequent load for the same module the reference count is simply incremented. When the session is closed, all module references are removed including references from repeated loading of the same module.</p>

				<p>5. There is no limit to the number of modules that can be loaded from within a single session.</p>

				<p>With the exception of some hardware configurations, four modules are normally available as standard:</p>

				<p>ECUART is used to address appropriate serial ports in RS232 mode. It is normally customised for a device.</p>

				<p>IRCOMM drives the infrared port in infrared mode.</p>

				<p>BTCOMM drives the Bluetooth emulated serial port.</p>

				<p>ECACM drives the USB port(s).</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aFileName</td><td>Name of the file to load as a module, optionally containing the ".CSY" extension. The filename may include the full path including drive letter for the CSY.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6B03FC4C-0BAD-3C14-99EB-9FE49E74C488"><a name="GUID-6B03FC4C-0BAD-3C14-99EB-9FE49E74C488"><!-- --></a>
		<h2 class="topictitle2">NumPorts(TInt &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NumPorts</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td>aNum</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Get the number of unique comms modules (CSYs) loaded into C32.</p>

				<p>This number includes modules loaded by other sessions.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp; aNum</td><td>On return, holds the number of loaded CSYs  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-FBED442A-89C3-3712-9BA9-3126028CFF84"><a name="GUID-FBED442A-89C3-3712-9BA9-3126028CFF84"><!-- --></a>
		<h2 class="topictitle2">UnloadCommModule(const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>UnloadCommModule</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aName</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Remove this client's reference to the named communications module. If this is the last client to reference the communications module, the module is unloaded.</p>

				<p>Note:</p>

				<div class="p">There is no need to unload a comms module when the connection to the server is closed, as this is done automatically by the C32 Server. For example, the following code will not result in a leak: <pre class="codeblock">		_LIT(KCSYName,"ECUART");
		RCommServ commSession;
		if (commSession.Connect() == KErrNone)
			{
			TInt ret = commSession.LoadCommModule(KCSYName);
			commSession.Close();
			}</pre>
</div>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aName</td><td>Name of the module to unload described in Port Prefix format. This may not necessarily be the same name as that used to load the module. Examples: The ECUART module, where supplied, is loaded via "ECUART" or "ECUART.CSY" but unloaded via "COMM". The infrared module, where supplied, is loaded via "IRCOMM.CSY" or "IRCOMM" but unloaded only via "IRCOMM".  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-07866B19-543C-396F-9ECA-51BF2749ADDF"><a name="GUID-07866B19-543C-396F-9ECA-51BF2749ADDF"><!-- --></a>
		<h2 class="topictitle2">Version()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td>Version</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the client side version number.</p>

				<p>Use this function to get the version number. The version number may be incremented in future releases of the comms server. If extra features are added in such releases, the version number may be used by application programs as a basis for assessing the capabilities of the comms server. Version-specific functions will be marked as such in the SDK documentation.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-319453C5-51E5-3256-ABF5-F1B61CF4E50A"><a name="GUID-319453C5-51E5-3256-ABF5-F1B61CF4E50A"><!-- --></a>
		<h2 class="topictitle2">__DbgCheckHeap(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgCheckHeap</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Checks the heap mark in the comm server</p>

				<div class="p">Only valid for Debug builds. <dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>None </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D33DF46C-62FB-3A50-B6BE-65B1755C9437"><a name="GUID-D33DF46C-62FB-3A50-B6BE-65B1755C9437"><!-- --></a>
		<h2 class="topictitle2">__DbgFailNext(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgFailNext</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Emulates a single fail next heap allocation in the comm server. If C32 is running multiple threads the same request is passed to each thread. Each C32 thread will only act on this request if it has not already been configured for heap failures via CMI files.</p>

				<div class="p">Only valid for Debug builds. <dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>None </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>Specifies that after aCount-1 successful allocations the failure will occur on the next allocation - ie the failure will occur on the aCount allocation attempt. A value less than zero cancels any outstanding failure request. A value of zero is equivalent to a value of one - ie, fail on the next attempt. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-89F66DC1-9B2E-35A9-9C89-78F8BA5F3204"><a name="GUID-89F66DC1-9B2E-35A9-9C89-78F8BA5F3204"><!-- --></a>
		<h2 class="topictitle2">__DbgMarkEnd(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgMarkEnd</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets the heap mark end in the comm server</p>

				<div class="p">Only valid for Debug builds. <dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>None </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5B44A887-7E55-331A-B9C9-844CA36B9269"><a name="GUID-5B44A887-7E55-331A-B9C9-844CA36B9269"><!-- --></a>
		<h2 class="topictitle2">__DbgMarkHeap()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgMarkHeap</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets a heap mark in the comm server</p>

				<p>Only valid for Debug builds.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-F565637E-DD32-3E1D-AC24-5291EFEC24A0"><a name="GUID-F565637E-DD32-3E1D-AC24-5291EFEC24A0"><!-- --></a>
		<h2 class="topictitle2">__DbgSetTraceMask(TC32Trace)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgSetTraceMask</td><td>(</td><td><a href="GUID-BBCE9011-2097-3FEF-8137-3FAFF7CB3D22.html">TC32Trace</a></td><td>aMask</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>The functionality of this API has been removed.</p>

				<p>Where tracing is required, please refer to the Comms Infrastructure documentation on logging.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BBCE9011-2097-3FEF-8137-3FAFF7CB3D22.html">TC32Trace</a> aMask</td><td>This value is not used.  </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>