<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="SMP Overview"/>
<meta name="abstract" content="This document introduces Symmetric Multiprocessing (SMP) on the Symbian platform."/>
<meta name="description" content="This document introduces Symmetric Multiprocessing (SMP) on the Symbian platform."/>
<meta name="DC.Relation" scheme="URI" content="GUID-CE72E71B-6ED3-4961-B4C5-C43D823ACA9D.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-629EAA30-ED77-4CA9-91ED-36C818D7B4F4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CE72E71B-6ED3-4961-B4C5-C43D823ACA9D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-242D9F27-401B-4230-B3A6-11E2D9D3DE17.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-16AED228-539F-4BF7-A7FD-9A01FF1A9A84.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9D93F895-B975-4F2D-A2A3-817033EA5C12.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-821C254A-40C6-45F9-B2F9-2CF28CAEB8CC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E55F9286-F586-4665-93D8-86F1E7BE2C7C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>SMP Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58"><a name="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2561665 id2561671 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-629EAA30-ED77-4CA9-91ED-36C818D7B4F4.html" title="Provides summary of documents to make SMP-safe applications.">SMP</a> &gt; <a href="GUID-CE72E71B-6ED3-4961-B4C5-C43D823ACA9D.html" title="Symmetric Multiprocessing (SMP) applies to a multiprocessor computer architecture where 2 or more identical processes can connect to a single shared main memory. SMP allows simultaneous execution of threads. This means that overall performance is improved and ultimately battery life is extended. This section introduces the main concepts applied to SMP including Threading Models, Interrupt Handling, Locking and Memory Barriers.">SMP Concepts</a> &gt; </div>
<h1 class="topictitle1">SMP
Overview</h1>
<div><p>This document introduces Symmetric Multiprocessing (SMP) on the
Symbian platform.</p>

<div class="section" id="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-105AFE3B-F000-4548-B57E-4A5EAEBA2645"><a name="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-105AFE3B-F000-4548-B57E-4A5EAEBA2645"><!-- --></a><h2 class="sectiontitle">Purpose</h2> 
     <p>An SMP operating system enables any CPU to work on any task, enabling
multiple threads (processes or multiple threads within a process, and therefore
applications) to run in parallel. </p>
<p>A system with 2 CPUs, for example,
can allow 2 threads to run concurrently; one on each processor. This provides
better responsiveness and asynchronicity compared to a system with a single
CPU.</p>
<p>An SMP system can deliver a similar level of CPU performance as
a larger and faster uni-processor CPU, while using less power. SMP also provides
additional power management flexibility, running a single CPU when the system
is under utilised then switching on extra CPUs to give scalable performance
on demand for media rich applications. The ARM SMP architecture allows power
control with voltage / frequency scaling and the ability to switch individual
cores on and off.</p>
<p>However, the benefits of SMP come at the cost of OS
and application complexity (the requirement of extra locks and the multithreading
of code) and the associated debugging challenges of parallel processing.</p>
 
   </div>

<div class="section" id="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-38C8CACC-0CCD-460B-9713-B33FF79FE75B"><a name="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-38C8CACC-0CCD-460B-9713-B33FF79FE75B"><!-- --></a><h2 class="sectiontitle">Description</h2><p>SMP
is a microprocessor architecture where two or more identical CPUs are connected
to a single shared main memory system and run a single OS instance. </p>
<div class="p">The
diagram below shows how this would apply on the Symbian platform with four
CPU cores. <div class="fignone" id="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-FBBCE840-E295-4287-BA10-DF37292D432B"><a name="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-FBBCE840-E295-4287-BA10-DF37292D432B"><!-- --></a><span class="figcap">Figure 1. The Simplified Architecture of an SMP Platform Executing on the Symbian
Platform.  </span>

<img src="GUID-85A84BAA-4FA2-4A26-A8B1-57018D8838C3_d0e16881_href.jpg"/>
</div>
</div>
<p>The figure shows a simplified block diagram of an SMP system,
where 4 CPUs are connected through their own cache to shared RAM and peripherals.
The Cache Coherency Control block is responsible for ensuring that each CPU
cache is consistent with those of the other CPUs. A single instance of OS
spans the CPUs, the scheduler decides which thread to execute next and upon
which CPU it should execute. </p>
</div>

<div class="section" id="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-1672A908-7BE6-4261-997B-2495C598A6E0"><a name="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-1672A908-7BE6-4261-997B-2495C598A6E0"><!-- --></a><h2 class="sectiontitle">SMP features</h2><div class="p">The
features of the SMP platform are: <ul>
<li><p><strong>Better responsiveness</strong></p>
<p>One or more CPU cores can be dedicated
to IO related work. </p>
</li>

<li><p><strong>High performance on demand</strong></p>
<p>Work can be moved onto CPUs
when required. </p>
</li>

<li><p><strong>Flexible power management</strong></p>
<p> CPU cores can be switched on
or off, or voltage/frequency scaled, according to the current processing requirements
of the system.</p>
<p>This can lead to improved battery life because the system
only uses as much processing power as required at any given time.</p>
</li>

<li><p><strong>Scalable architecture</strong></p>
<p>SMP can work over two or more CPU
cores. </p>
</li>

</ul>
</div>
</div>

<div class="section" id="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-D4A04CA3-2E37-4DE1-BF98-C08365F8DFB0"><a name="GUID-387E98B0-568D-4DBB-9A9E-616E41E96B58__GUID-D4A04CA3-2E37-4DE1-BF98-C08365F8DFB0"><!-- --></a><h2 class="sectiontitle">SMP limitations</h2><p>The
disadvantages of using SMP are: </p>
<ul>
<li><p><strong>The original emulator for the Symbian platform will not emulate
an SMP environment</strong></p>
<p>The emulator is being replaced by a new emulation
environment that is capable of simulating the multiprocessor environment.</p>
</li>

<li><p><strong>Software changes are required</strong></p>
<p>Assumptions that can be
made in a single core environment, are not necessarily true on a multi-core
system. The SMP-safe documentation you are reading now will provide you with
guidance on a number of issues sure to come up while migrating your software
to work in an SMP environment.</p>
</li>

<li><p><strong>Debugging Challenges</strong></p>
<p>Debugging on a multi-processor system
is extremely difficult. The standard tooling solutions, such as the Lauterbach
debugger and BTrace2 (also known as the modified BTrace) have been revised
to handle the special requirements of an SMP system.</p>
</li>

<li><p><strong>Access to memory is serialized</strong></p>
<p>All the CPU cores use the
same memory, memory access must occur serially. This can cause a performance
lag. </p>
</li>

</ul>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-CE72E71B-6ED3-4961-B4C5-C43D823ACA9D.html" title="Symmetric Multiprocessing (SMP) applies to a multiprocessor computer architecture where 2 or more identical processes can connect to a single shared main memory. SMP allows simultaneous execution of threads. This means that overall performance is improved and ultimately battery life is extended. This section introduces the main concepts applied to SMP including Threading Models, Interrupt Handling, Locking and Memory Barriers.">SMP Concepts</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-242D9F27-401B-4230-B3A6-11E2D9D3DE17.html" title="Describes the impacts of thread execution in SMP environment.">Threading
Model</a></div>
<div><a href="GUID-16AED228-539F-4BF7-A7FD-9A01FF1A9A84.html" title="This document describes SMP locks and outlines the need of introducing locks in the code.">Locking</a></div>
<div><a href="GUID-9D93F895-B975-4F2D-A2A3-817033EA5C12.html" title="This topic explains how memory barriers are used to maintain data integrity in a multi-CPU system with shared memory and I/O.">Data Integrity
and Memory Barriers</a></div>
<div><a href="GUID-821C254A-40C6-45F9-B2F9-2CF28CAEB8CC.html" title="Describes how interrupts are handled in the SMP environment.">Interrupt
Handling</a></div>
<div><a href="GUID-E55F9286-F586-4665-93D8-86F1E7BE2C7C.html" title="This section describes how SMP works and provides you with information on how to troubleshoot some problems you may have. This includes problems with driver closure ordering and how memory is shared between threads in a process">SMP Developer
Tips</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>