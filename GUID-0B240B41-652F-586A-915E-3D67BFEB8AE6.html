<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="F32 Performance Test Suite"/>
<meta name="abstract" content="The F32 Performance test suite provides performance tests for the most frequently used public APIs in the RFile and RFs classes."/>
<meta name="description" content="The F32 Performance test suite provides performance tests for the most frequently used public APIs in the RFile and RFs classes."/>
<meta name="DC.Relation" scheme="URI" content="GUID-CDD23CE8-15F7-557B-9C58-ECEE9E13528A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1EC21155-68A7-5085-B842-B20408C38B26.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8D89BC22-3008-5A43-8BBC-C8F2985D71C1.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CDD23CE8-15F7-557B-9C58-ECEE9E13528A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>F32 Performance Test Suite</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2402526 id2402534 id2402554 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-1EC21155-68A7-5085-B842-B20408C38B26.html" title="Provides various file server and file system related test suites.">Base API Tests</a> &gt; <a href="GUID-8D89BC22-3008-5A43-8BBC-C8F2985D71C1.html" title="Describes the F32 test technology area, its coverage, how to set up the test environment, and details of the test suites.">Base Verification Suite</a> &gt; <a href="GUID-CDD23CE8-15F7-557B-9C58-ECEE9E13528A.html" title="Describes the F32 performance test suite.">F32 Performance Test Suite</a> &gt; </div>
<h1 class="topictitle1"> F32 Performance
Test Suite</h1>
<div><p>The F32 Performance test suite provides performance tests for the
most frequently used public APIs in the <samp class="codeph">RFile</samp> and <samp class="codeph">RFs</samp> classes.</p>

<div class="section" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-7B1608D1-4699-5255-B1F5-CADF53C14006"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-7B1608D1-4699-5255-B1F5-CADF53C14006"><!-- --></a><h2 class="sectiontitle">Test Suite
Overview</h2> <p> This test suite provides an indication of the overall
performance characteristics of the file server. </p>
 <p>The following APIs
are tested: </p>
 <p> <strong> RFile APIs:</strong>  </p>
 <pre class="codeblock" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-F238955F-34F2-5FB7-9649-5001F5BE68EF"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-F238955F-34F2-5FB7-9649-5001F5BE68EF"><!-- --></a>IMPORT_C TInt Read(TDes8 &amp;aDes, TInt aLength) const;
IMPORT_C TInt Read(TInt aPos, TDes8 &amp;aDes, TInt aLength) const;
IMPORT_C TInt Write(TDes8 &amp;aDes, TInt aLength) const;
IMPORT_C TInt Write(TInt aPos, TDes8 &amp;aDes, TInt aLength) const;
IMPORT_C TInt Seek(TSeek aMode, TInt aPos) const;
</pre>
 <p> <strong> RFs APIs: </strong>  </p>
 <pre class="codeblock" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-4F8C5908-15CA-57D7-B61A-3E1FFEFA266A"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-4F8C5908-15CA-57D7-B61A-3E1FFEFA266A"><!-- --></a>IMPORT_C TInt Entry(const TDesC &amp;aName, TEntry &amp;anEntry) const;</pre>
 </div>

<div class="section" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-6D219777-ADAA-4702-AFCC-FAB3822476D6"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-6D219777-ADAA-4702-AFCC-FAB3822476D6"><!-- --></a><h2 class="sectiontitle">Test approach</h2> <p>The suite benchmarks the performance
of the APIs for each call is then calculated. by recording the time taken
for a given number calls to each API to complete. The average time taken </p>
 <p>The
suite consists of six test scripts: Three for RFile and three for RFs. </p>
 <p>The
three tests are described as small, medium and large according to the number
of times that a API is called. Small indicates that the API will be called
100 times, medium 500 times and large 1000 times. </p>
 </div>

<div class="section" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-412FEEB7-868E-4E99-AD7E-134909561AB3"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-412FEEB7-868E-4E99-AD7E-134909561AB3"><!-- --></a><h2 class="sectiontitle">Coverage Omissions</h2> <p>Not all the public Base F32
APIs are tested by the test suite. The scope is limited to the most frequently
used APIs of RFs and RFile (see <a href="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6.html#GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-7B1608D1-4699-5255-B1F5-CADF53C14006">Test
Suite Overview</a> for details). </p>
 </div>

<div class="section" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9A967A34-A634-4A01-954A-905B8EEBE37A"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9A967A34-A634-4A01-954A-905B8EEBE37A"><!-- --></a><h2 class="sectiontitle">Test Suite Details</h2> <p><strong>Test
Script Source Tree Location</strong> </p>
 <p>Descriptions of the test cases that
is test scripts can be found at the following location: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-FB05188F-3E94-55DB-B7C7-D8359F723A6B"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-FB05188F-3E94-55DB-B7C7-D8359F723A6B"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\scripts\pbase-f32-rfile-performance-large.script</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-A0CC9A69-682D-58EC-8A5A-663BCFF90F4D"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-A0CC9A69-682D-58EC-8A5A-663BCFF90F4D"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\scripts\pbase-f32-rfile-performance-medium.script</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-2D648B37-5515-5167-84B6-CF02BB440074"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-2D648B37-5515-5167-84B6-CF02BB440074"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\scripts\pbase-f32-rfile-performance-small.script</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-672D1C70-E309-55CC-985F-78F552EAAC09"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-672D1C70-E309-55CC-985F-78F552EAAC09"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\scripts\pbase-f32-rfs-performance-large.script</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5657F030-CE25-5FD2-9809-3B23779D9103"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5657F030-CE25-5FD2-9809-3B23779D9103"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\scripts\pbase-f32-rfs-performance-medium.script</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-CDB7F091-D015-5DF9-A928-65E859057E3A"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-CDB7F091-D015-5DF9-A928-65E859057E3A"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\scripts\pbase-f32-rfs-performance-small.script</span> </p>
 </li>

</ul>
 <p><strong>Test
Script EPOC tree Location</strong> </p>
 <p>When the tests are built for emulator
or hardware (<samp class="codeph">WINSCW</samp> or <samp class="codeph">ARMV5</samp>), the scripts
are exported into the following location in the epoc tree: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\data\Z\base\performance\f32\t_perf\</span>  </p>
 <p><strong>Test
Script Build Location</strong> </p>
 <p>When the tests are built, the scripts are
built into the following location: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\release\&lt;winscw|armv5&gt;\&lt;udeb|urel&gt;\Z\base\performance\f32\t_perf\</span> </p>
 <div class="note"><span class="notetitle">Note:</span> <p> When the tests are built to be executed on hardware the files
are built into the z: drive of the ROM. </p>
</div>
 <p><strong>Test Data Source Tree Location</strong> </p>
 <p>The test suite contains following
test data files: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-94ABEC01-1869-5CED-B899-A2924B582C4B"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-94ABEC01-1869-5CED-B899-A2924B582C4B"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\pbase-f32-rfile-performance-large.ini</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-1C377989-B6A7-5968-89B6-1C1C156D25F0"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-1C377989-B6A7-5968-89B6-1C1C156D25F0"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\pbase-f32-rfile-performance-medium.ini</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-F29B2192-F68E-5FC9-87BF-47E20AE0959E"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-F29B2192-F68E-5FC9-87BF-47E20AE0959E"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\pbase-f32-rfile-performance-small.ini</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-4D7E58C6-D2E8-54F2-B445-EC97AF087A76"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-4D7E58C6-D2E8-54F2-B445-EC97AF087A76"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\pbase-f32-rfile-performance-utils.ini</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-897DB828-95AD-5E55-8DDE-A66E4E8FB20D"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-897DB828-95AD-5E55-8DDE-A66E4E8FB20D"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\pbase-f32-rfs-performance-large.ini</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-166661ED-8AB9-5188-AFD0-09AAD7329AB9"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-166661ED-8AB9-5188-AFD0-09AAD7329AB9"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\pbase-f32-rfs-performance-medium.ini</span> </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-FC9D6EBD-A2FB-5EE8-99C5-24B25FE21AF0"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-FC9D6EBD-A2FB-5EE8-99C5-24B25FE21AF0"><!-- --></a><p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\pbase-f32-rfs-performance-small.ini</span> </p>
 </li>

</ul>
 <p>The global environment file located at: </p>
 <p> <span class="filepath">...\baseapitest\basesvs\performance\f32\t_perf\testdata\&lt;platform&gt;\base_perf_f32_env.ini</span> </p>
 <p>where <samp class="codeph">&lt;platform&gt;</samp> is either <samp class="codeph">WINSCW</samp> or <samp class="codeph">ARMV5</samp>. </p>
 <p><strong>Test Data Files EPOC Tree Location</strong> </p>
 <p>When the tests are built
for emulator or hardware (winscw/armv5), the data files are exported into
the following location in the epoc tree: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\data\Z\base\performance\f32\t_perf\</span>  </p>
 <p><strong>Test Data Files Emulator Location</strong> </p>
 <p>When the tests are built,
the test data files are built into the following location: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\release\winscw\&lt;udeb/urel&gt;\Z\base\performance\f32\t_perf\</span> </p>
 <p> <strong>Note:</strong> When the tests are built to be executed on hardware
the files are built into the z: drive of the ROM. </p>
 <p><strong>Test .driver File</strong> </p>
 <p>The <span class="filepath">base.driver</span> file
found in <span class="filepath">â€¦\baseapitest\basesvs\testsuites\base</span> \ is used
by the test driver to construct the test suite tree structure and export all
the appropriate files to the correct location in the epoc32 tree and on the
device. </p>
 <p>When the tests are built, the <span class="filepath">.driver</span> file
can be found in the following location: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\testdriver\testproduct\..</span>  </p>
 <p id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-4FC8CBD4-02FE-566E-B739-C6EB8DDD6C48"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-4FC8CBD4-02FE-566E-B739-C6EB8DDD6C48"><!-- --></a><strong>TCS File Source Location</strong> </p>
 <p>The <span class="filepath">.tcs</span> file
can be found in the following location: </p>
 <p> <span class="filepath">...\baseapitest\basesvs\config\t_base.tcs</span>  </p>
 <p><strong>TCS File Build Location</strong> </p>
 <p>When the tests are built, the <span class="filepath">.tcs</span> file
is generated into the following location: </p>
 <p> <span class="filepath">%EPOCROOT%\epoc32\release\&lt;winscw|armv5&gt;\&lt;udeb|urel&gt;\Z\base\performance\f32\t_perf\</span> </p>
 <div class="note"><span class="notetitle">Note:</span> <p> When the tests are built to be executed on hardware, the
files are built into the z: drive of the ROM. </p>
</div>
 <p id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-03EBC248-B2FE-5DFF-941A-A386348596B4"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-03EBC248-B2FE-5DFF-941A-A386348596B4"><!-- --></a><strong>Test configuration</strong> </p>
 <p>Tests
can be configured separately using the environment configuration file <span class="filepath">base_perf_f32_env.ini</span>.
This file contains configurable parameters which you can modify to execute
with different test data. </p>
 <p>For example : </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9810291D-1B6B-5607-AED2-D4DADC22A478"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9810291D-1B6B-5607-AED2-D4DADC22A478"><!-- --></a><p>the name of the drive
on which to create the test directory structure </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-0F0C64EC-DDE9-5D20-B8F8-D40BA38DC52E"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-0F0C64EC-DDE9-5D20-B8F8-D40BA38DC52E"><!-- --></a><p>the name of the file(s)
to create </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-01EFEE40-F510-5EF1-945F-665FA18B3DBF"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-01EFEE40-F510-5EF1-945F-665FA18B3DBF"><!-- --></a><p>the size of the file(s)
to create </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-D172D475-8AF4-50FB-9AC5-CC6A270B5198"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-D172D475-8AF4-50FB-9AC5-CC6A270B5198"><!-- --></a><p>the number of files
to create in each directory </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5A700E65-935C-5BCC-98E4-69C48E0DE5DC"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5A700E65-935C-5BCC-98E4-69C48E0DE5DC"><!-- --></a><p>the name of each directory
to create in the directory structure </p>
 </li>

</ul>
 <p>The following parameters are within the default section of the <span class="filepath">base_perf_f32_env.ini </span> configuration
file: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-41272491-7D9D-5366-9A03-CD234D8DB390"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-41272491-7D9D-5366-9A03-CD234D8DB390"><!-- --></a><p>driveName </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9EDB965E-59C6-53C6-8109-CD8F0CCA6F29"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9EDB965E-59C6-53C6-8109-CD8F0CCA6F29"><!-- --></a><p>fileBaseName </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-05ACC1ED-92A4-598E-99C9-D7690D9AD877"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-05ACC1ED-92A4-598E-99C9-D7690D9AD877"><!-- --></a><p>fileSize </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5D98C4C9-26A4-5397-BF09-EAFC649BE874"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5D98C4C9-26A4-5397-BF09-EAFC649BE874"><!-- --></a><p>numOfFiles </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-45570A4D-2AD9-5230-8777-142D65D0F882"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-45570A4D-2AD9-5230-8777-142D65D0F882"><!-- --></a><p>subDirName </p>
 </li>

</ul>
 <p>You can also modify the values of these parameters, and other parameters
available in the <span class="filepath">base_perf_f32_env.ini</span> configuration
file. For more information about the parameters available in the <span class="filepath">base_perf_f32_env.ini</span> configuration
file, see the <a href="GUID-2988AB7C-F8BB-5917-BB22-A57C0CC56C73.html" title="Describes the common configuration items for each test case that can be configured in the base_perf_f32_env.ini file.">Configuring
the base_perf_f32_env.ini file</a> section. </p>
 <div class="p"> <div class="note"><span class="notetitle">Note:</span> As the configuration
file <span class="filepath">base_perf_f32_env.ini</span> is used by all RFile tests
and RFs tests, it is important to analyse all test scenarios before modifying
this configuration file.</div>
  </div>
 <p>For more information about the details
that can be manipulated for each test scenario, see the <a href="GUID-2988AB7C-F8BB-5917-BB22-A57C0CC56C73.html" title="Describes the common configuration items for each test case that can be configured in the base_perf_f32_env.ini file.">Configuring
the base_perf_f32_env.ini file</a> section. </p>
 </div>

<div class="section" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-CF25C29E-0740-413A-9DA0-035CC6CBA4CD"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-CF25C29E-0740-413A-9DA0-035CC6CBA4CD"><!-- --></a><h2 class="sectiontitle">Test environment and execution</h2> <p><strong>Device
Setup</strong> </p>
 <p>None </p>
 <p><strong>Test
Execution</strong> </p>
 <p>The following two different ROM configurations can be
used to run these tests on the target platform: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5A7672CA-19E0-509D-B201-38BCA8C664B7"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5A7672CA-19E0-509D-B201-38BCA8C664B7"><!-- --></a><p>NAND configuration ROM </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-F6AD705B-0934-59F2-8961-BF522E1463AA"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-F6AD705B-0934-59F2-8961-BF522E1463AA"><!-- --></a><p>NOR configuration ROM </p>
 </li>

</ul>
 <div class="p"><div class="note"><span class="notetitle">Note:</span>  Both ROMS described in the following sections are <samp class="codeph">techview</samp> images
with STAT built in and should launch STAT automatically during start up</div>
. </div>
 <p>For
test execution instructions refer to <a href="GUID-3C26B5B2-1B90-5F96-9342-1D53F6EDD94F.html" title="Describes the high level test philosophy, scope and the types of test used in F32 technology.">Base
F32 Test Technology</a>. To use NAND or NOR configuration of ROM, replace
the buildrom step in the <a href="GUID-3C26B5B2-1B90-5F96-9342-1D53F6EDD94F.html" title="Describes the high level test philosophy, scope and the types of test used in F32 technology.">Base
F32 Test Technology</a> section with the steps listed in the <a href="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6.html#GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-3ACBCE43-A041-597C-B201-066002D5A451">NAND configuration ROM</a> and <a href="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6.html#GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-D3A3EE14-8710-5ABF-A1E0-43E2A2B3ED8F">NOR
configuration ROM</a> respectively. </p>
 <p id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-3ACBCE43-A041-597C-B201-066002D5A451"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-3ACBCE43-A041-597C-B201-066002D5A451"><!-- --></a><strong> NAND configuration ROM </strong> </p>
 <p>To
use a NAND configuration ROM, perform the following steps: </p>
 <a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5CCCF2E5-6D0F-5A68-A4D5-722BEC025C96"><!-- --></a><ol id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-5CCCF2E5-6D0F-5A68-A4D5-722BEC025C96">
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-3DFEC3B2-3CB3-52C3-8659-B2760CBAB8CA"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-3DFEC3B2-3CB3-52C3-8659-B2760CBAB8CA"><!-- --></a><p>Navigate to the <span class="filepath">\epoc32\rom</span> directory
and run one of the following commands: </p>
 <p>if using TestDriver: </p>
 <p><kbd class="userinput">buildrom
-D_STARTUPMODE2 -D_NAND2 &lt;h4hrp/h2&gt; techview_statapi</kbd> </p>
 <p>if
not TestDriver: </p>
 <p><kbd class="userinput">buildrom -D_STARTUPMODE2 -D_NAND2 &lt;h4hrp/h2&gt;
techview t_base_f32_perf</kbd> </p>
 <p>This creates two image files, <span class="filepath">h4hrp_001.techview.nand.IMG</span> and <span class="filepath">h4hrp_001.techview.nand.rofs.img</span>. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-27AFB5DD-7763-5EFE-87AA-75BD38013203"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-27AFB5DD-7763-5EFE-87AA-75BD38013203"><!-- --></a><p>Rename the two image
files <span class="filepath">h4hrp_001.techview.nand.IMG</span> and <span class="filepath">h4hrp_001.techview.nand.rofs.img</span> as <span class="filepath">core.img</span> and <span class="filepath">rofs1.img</span> respectively. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-CA7E9D84-0C8E-5BD0-B537-B5F3596EB7AE"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-CA7E9D84-0C8E-5BD0-B537-B5F3596EB7AE"><!-- --></a><p>Navigate to the <span class="filepath">sf/os/kernelhwsrv/kernel/eka/rombuild/...</span> directory
and run the following command to generate the <samp class="codeph">nandloader</samp>: </p>
 <p><kbd class="userinput">rom
-v=h4hrp -b=urel -i=armv5 -t=nandloader -d=_NAND2</kbd> </p>
 <p>Successful
execution of this command generates the image file <span class="filepath">H4HRPARMV5.IMG</span>  </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-34B34932-9ED0-5091-B694-CA47ABE4C58A"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-34B34932-9ED0-5091-B694-CA47ABE4C58A"><!-- --></a><p>Zip the <span class="filepath">H4HRPARMV5.IMG</span> file
rename the zip file to <span class="filepath">sys$rom.zip</span>. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-E4EBB361-6905-531E-9659-1ACD824C4D63"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-E4EBB361-6905-531E-9659-1ACD824C4D63"><!-- --></a><p>Transfer all three files <span class="filepath">core.img</span>, <span class="filepath">rofs1.img</span> and <span class="filepath">sys$rom.zip</span> to the hardware board using an MMC card or a USB cable. </p>
 <p>When
the board is restarted with the NAND configuration, the STAT application should
launch automatically into the <em>waiting for data</em> state. If this does
not occur check that the NAND configuration ROM is built correctly and that
you have configured STAT correctly. </p>
 </li>

</ol>
 <p id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-D3A3EE14-8710-5ABF-A1E0-43E2A2B3ED8F"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-D3A3EE14-8710-5ABF-A1E0-43E2A2B3ED8F"><!-- --></a><strong> NOR configuration ROM</strong> </p>
 <p>To
use a NOR configuration ROM, perform the following steps: </p>
 <a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-842CA0AC-83B7-5D90-844D-FA90945C51F1"><!-- --></a><ol id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-842CA0AC-83B7-5D90-844D-FA90945C51F1">
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-38D39DFA-D05F-5940-8831-ED62FD67476A"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-38D39DFA-D05F-5940-8831-ED62FD67476A"><!-- --></a><p>Navigate to the <span class="filepath">\epoc32\rom</span> directory
and run one of the following commands: </p>
 <p>if using TestDriver: </p>
 <p><kbd class="userinput">buildrom
-D_STARTUPMODE2 -D_NOR &lt;h4hrp/h2&gt; techview_statapi</kbd> </p>
 <p>if
not using TestDriver: </p>
 <p><kbd class="userinput">buildrom -D_STARTUPMODE2 -D_NOR &lt;h4hrp/h2&gt;
techview pbase-f32-performance</kbd> </p>
 <p>This creates an image file, <span class="filepath">om_001.techview.IMG</span>. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-C7276BA5-B1D6-5676-9B8C-5AAEFF29DBC2"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-C7276BA5-B1D6-5676-9B8C-5AAEFF29DBC2"><!-- --></a><p>Zip the <span class="filepath">om_001.techview.IMG</span> file
and rename the zip file to <span class="filepath"> flashimg.zip</span>. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-7C6030FD-4C66-5A1E-BAF2-3C8766A50896"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-7C6030FD-4C66-5A1E-BAF2-3C8766A50896"><!-- --></a><p>Transfer this file to
the hardware board using an MMC card or a USB cable. The H4 board boots the
TechView image and loads into NOR-Flash. When the board is booted up the STAT
application should launch automatically into the <em>waiting for data</em> state.
If this does not occur check that the NOR configuration ROM is built correctly
and that you have configured STAT correctly. </p>
 </li>

</ol>
 </div>

<div class="section" id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9108BD4B-21E2-414C-A130-756431F3E510"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-9108BD4B-21E2-414C-A130-756431F3E510"><!-- --></a><h2 class="sectiontitle">Test results</h2> <p>For TEF log files location and general
principles of their interpretation refer to <a href="GUID-3C26B5B2-1B90-5F96-9342-1D53F6EDD94F.html" title="Describes the high level test philosophy, scope and the types of test used in F32 technology.">Base
F32 Test Technology</a>  </p>
 <p><strong> How
to interpret test results</strong> </p>
 <p><strong>Interpreting
the HTML logs</strong> </p>
 <p>Each HTML file contains the following information
for each performance test scenario: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-6FA8DB6A-E657-5DAC-B8AA-4D7D871B5B00"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-6FA8DB6A-E657-5DAC-B8AA-4D7D871B5B00"><!-- --></a><p> <strong>Number of function
calls is (X):</strong> The number of times the API has been called, where x is
an integer. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-8BB013BD-9EB0-54DC-A53E-A50743913BCC"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-8BB013BD-9EB0-54DC-A53E-A50743913BCC"><!-- --></a><p> <strong>Time taken for all
function calls (X) microseconds:</strong> The total time taken for the API to complete
X number of calls to it, where x is the measured in microseconds. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-8F38E8E6-8DE3-5638-B79C-6994A4667523"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-8F38E8E6-8DE3-5638-B79C-6994A4667523"><!-- --></a><p> <strong> Approximate Average
Time Taken per call (X) microseconds:</strong> The average time taken for a call
to the API to complete, where x is the measured in micro seconds. </p>
 </li>

</ul>
 <p>RFile API tests only the output information: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-A56F9CA1-0073-505F-9F4B-09055B1F70B9"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-A56F9CA1-0073-505F-9F4B-09055B1F70B9"><!-- --></a><p> <strong>BlockSize (x) bytes:</strong> The
buffer size that is read or written to a file, where x is measured in bytes. </p>
 <p> <strong>Note:</strong> For <samp class="codeph">RFile::Seek</samp> tests,
this size is zero. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-54EB0FBF-B8AF-5335-BADC-269AE3E905ED"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-54EB0FBF-B8AF-5335-BADC-269AE3E905ED"><!-- --></a><p> <strong>Bytes processed
(X) bytes:</strong> The total number of bytes processed during the test. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-A651D913-6139-55E6-9246-A9AD56A10FB1"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-A651D913-6139-55E6-9246-A9AD56A10FB1"><!-- --></a><p> <strong>Throughput (X) MB/Sec:</strong> The
total amount of data that was processed during the test in one second, where
x is measured in megabytes (MB). </p>
 </li>

</ul>
 <p id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-217F088E-D7DD-544A-A7CE-BAABD1BE1491"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-217F088E-D7DD-544A-A7CE-BAABD1BE1491"><!-- --></a><strong> Interpreting the CSV file
log</strong> </p>
 <p>The <span class="filepath">.CSV</span> file also contains the test
results. By default this CSV file is created on the c drive and is called
f32-perfResults, however both the file name and its creation location is configured
using the environment configuration file <span class="filepath">base_perf_f32_env.ini</span> for
further details see <a href="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6.html#GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-03EBC248-B2FE-5DFF-941A-A386348596B4">Test
Configuration</a>. </p>
 <p>It does not indicate whether an individual test
scenario has passed or failed. Instead it contains user friendly performance
data associated with each API test scenario. This data is listed under the
following field headers within the file: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-D8B3CF2D-05BC-5837-9FC3-3B0A1CF03CCD"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-D8B3CF2D-05BC-5837-9FC3-3B0A1CF03CCD"><!-- --></a><p> <strong>Operation:</strong> Indicates
the actual test scenario and lists the API that was tested. For example, <strong>ReadXSmallBytes</strong> indicates
that the API to be tested is <samp class="codeph">RFILE READ: Read (TDes8 &amp;aDes,  
                   TInt aLength)</samp>. The <strong>ReadXSmallBytes</strong> test
scenario title indicates that it will be using an extra small number of bytes
(set to 16 bytes by default). </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-3FC64773-6ABA-5D92-8BB7-D33620447986"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-3FC64773-6ABA-5D92-8BB7-D33620447986"><!-- --></a><p> <strong>Calls:</strong> Indicates
the number of times this API is called (RFILE READ). </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-E2355EBF-CCE5-5458-B2C7-ECCB4CD1C8A3"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-E2355EBF-CCE5-5458-B2C7-ECCB4CD1C8A3"><!-- --></a><p> <strong>Time Taken:</strong> Indicates
the total time taken for all calls to that API using the test scenario specified
in the <strong>Operation</strong> section. This value is represented in microseconds. </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-94AE9913-34A0-5F38-A773-E98F4571B5CB"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-94AE9913-34A0-5F38-A773-E98F4571B5CB"><!-- --></a><p> <strong>Average time:</strong> Indicates
the average time taken for each individual call to that API using the test
scenario listed in the <strong>Operation</strong> section. This value is represented
in microseconds. </p>
 </li>

</ul>
 <p><strong>Interpreting
Anomalies </strong> </p>
 <p>Note that the following behaviour for the <samp class="codeph">RFile::Read</samp> and <samp class="codeph">RFile::Write</samp> APIs
is not true: </p>
 <ul>
<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-2644B902-B669-5CA4-9F76-E93ED0CEF0DF"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-2644B902-B669-5CA4-9F76-E93ED0CEF0DF"><!-- --></a><p>Read operation + Seek
operation &gt;= Read Seek operation </p>
 </li>

<li id="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-6185CC2B-34B4-53D4-9364-D137A3FA1EEC"><a name="GUID-0B240B41-652F-586A-915E-3D67BFEB8AE6__GUID-6185CC2B-34B4-53D4-9364-D137A3FA1EEC"><!-- --></a><p>Write operation + Seek
operation &gt;= Write Seek operation </p>
 </li>

</ul>
 <p>This is because the Symbian platform file system has a client-server
behaviour. A client creates a package for the file server and sends a <strong>KCurrentPosition</strong> within
that package. In the case of an <samp class="codeph">RFile::Read</samp> or <samp class="codeph">RFile::Write</samp> API
that does not contain a position in its argument. </p>
 <p>On the server side,
processing this package involves checking whether the position received is
equal to the <strong>KCurrentPosition</strong>, and if this assignment is true then
the position is assigned a value. This extra assignment gives an overhead.
In both the cases (<samp class="codeph">RFile::Read</samp> and <samp class="codeph">RFile::Write</samp>)
an operation without the position takes a longer time to complete than the
one with a position. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-CDD23CE8-15F7-557B-9C58-ECEE9E13528A.html" title="Describes the F32 performance test suite.">F32 Performance Test Suite</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>