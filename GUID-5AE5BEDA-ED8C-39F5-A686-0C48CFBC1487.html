<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RShareBuf"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487"/>

<title>RShareBuf</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487"><a name="GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2490214 id2490614 id2491043 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">RShareBuf Class Reference</h1>
	<table class="signature"><tr><td>class RShareBuf : public MStreamBuf</td></tr></table><div class="section"><div>
			<p>A shared stream buffer.</p>

			<p>This class is part of the framework used by <a href="GUID-9CBA8AB1-5BFC-3719-82AF-22A9BD93C306.html#GUID-9CBA8AB1-5BFC-3719-82AF-22A9BD93C306">CFileStore</a> that allows multiple stream buffers to concurrently access the single hosting file buffer, an <a href="GUID-418E7956-BE91-39A2-A26D-F1CA88B458AA.html#GUID-418E7956-BE91-39A2-A26D-F1CA88B458AA">RFileBuf</a> object.</p>

			<p>Each shared stream buffer maintains its own read and write positions.</p>

			<p>Read and write operations to <a href="GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487.html#GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487">RShareBuf</a> are directed through separate <a href="GUID-28ED5563-E7D8-322C-B5AC-B321071CB915.html#GUID-28ED5563-E7D8-322C-B5AC-B321071CB915">TStreamMark</a> objects, one for read and one for write. The <a href="GUID-28ED5563-E7D8-322C-B5AC-B321071CB915.html#GUID-28ED5563-E7D8-322C-B5AC-B321071CB915">TStreamMark</a> objects re-direct read/write operations through a <a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html#GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C">TStreamExchange</a> object to the <a href="GUID-418E7956-BE91-39A2-A26D-F1CA88B458AA.html#GUID-418E7956-BE91-39A2-A26D-F1CA88B458AA">RFileBuf</a> object, which handles the actual file read and write operations.</p>

			<p>This stream buffer can also be accessed through <a href="GUID-4A4B2001-0616-3CD0-BF25-F468F46E4EB3.html#GUID-4A4B2001-0616-3CD0-BF25-F468F46E4EB3">RShareReadStream</a> and <a href="GUID-FDFB0A25-44F1-3431-B826-3F7078A0179A.html#GUID-FDFB0A25-44F1-3431-B826-3F7078A0179A">RShareWriteStream</a> objects.</p>

			<p>
				<a href="GUID-28ED5563-E7D8-322C-B5AC-B321071CB915.html#GUID-28ED5563-E7D8-322C-B5AC-B321071CB915">TStreamMark</a> <a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html#GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C">TStreamExchange</a> <a href="GUID-418E7956-BE91-39A2-A26D-F1CA88B458AA.html#GUID-418E7956-BE91-39A2-A26D-F1CA88B458AA">RFileBuf</a> <a href="GUID-4A4B2001-0616-3CD0-BF25-F468F46E4EB3.html#GUID-4A4B2001-0616-3CD0-BF25-F468F46E4EB3">RShareReadStream</a> <a href="GUID-FDFB0A25-44F1-3431-B826-3F7078A0179A.html#GUID-FDFB0A25-44F1-3431-B826-3F7078A0179A">RShareWriteStream</a> </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RShareBuf<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-F5649EA3-DE8C-3051-8A1C-6A6A31A53786">RShareBuf</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-CDDFA610-55C6-362C-BC79-68D298D23018">Open</a>(<a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp;, <a href="GUID-57DDBA95-0B74-3BB3-82CB-D09A9080218A.html">TStreamPos</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D62862BF-0B2A-3304-8129-EF0B7756D4AC">Open</a>(<a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-523F53BD-70B8-3A0A-9A07-EF0428224BEC">DoReadL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2CCDE889-BDFF-3AF9-9C25-A99484D35F52">DoReadL</a>(<a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a></td><td><a href="#GUID-E35F9D5D-4CF5-3BF4-AED8-7ED4BE4B3C15">DoReadL</a>(<a href="GUID-7CF92AD4-2297-3E4F-ADC5-02CEF3301F61.html">MStreamInput</a> &amp;, <a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-6574C546-A3FE-320A-BB03-4B8710F5BBA7">DoRelease</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-57DDBA95-0B74-3BB3-82CB-D09A9080218A.html">TStreamPos</a></td><td><a href="#GUID-06918A5E-2426-38E0-BA3F-17FC9B8D4F7B">DoSeekL</a>(<a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">TMark</a>, <a href="GUID-D8CE8CF4-3825-345C-8285-01358EA3DC23.html">TStreamLocation</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3CD2CE32-CAF6-3FB1-87B9-61D21E921741">DoWriteL</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-10DEA0B5-7235-3938-9A1D-F28B5E27FE3F">DoWriteL</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a></td><td><a href="#GUID-62747491-E5CE-33A2-BBC9-BB367195BC1A">DoWriteL</a>(<a href="GUID-FB3DD356-9DAA-35E9-A49B-5BFCA64B89FA.html">MStreamOutput</a> &amp;, <a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp;</td><td><a href="#GUID-0923BB54-80E8-3C9C-85AE-9587CDD4F834">Host</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::Close()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::MStreamBuf()</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::PushL()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::Read(TDes8 &amp;,TInt,TRequestStatus &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::Read(TDes8 &amp;,TRequestStatus &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::ReadL(MStreamInput &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::ReadL(MStreamInput &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::ReadL(MStreamInput &amp;,TStreamTransfer)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::ReadL(TAny *,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::ReadL(TDes8 &amp;,TInt,TRequestStatus &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::ReadL(TDes8 &amp;,TRequestStatus &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::Release()</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SeekL(TMark,TStreamLocation,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SeekL(TMark,TStreamPos)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SeekL(TRead,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SeekL(TRead,TStreamLocation,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SeekL(TWrite,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SeekL(TWrite,TStreamLocation,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SizeL()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::Synch()</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::SynchL()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::TellL(TRead)const</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::TellL(TWrite)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::Write(const TDesC8 &amp;,TInt,TRequestStatus &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::Write(const TDesC8 &amp;,TRequestStatus &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::WriteL(MStreamOutput &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::WriteL(MStreamOutput &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::WriteL(MStreamOutput &amp;,TStreamTransfer)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::WriteL(const TAny *,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::WriteL(const TDesC8 &amp;,TInt,TRequestStatus &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf::WriteL(const TDesC8 &amp;,TRequestStatus &amp;)</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf:TRead</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">MStreamBuf:TWrite</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> *</td><td><a href="#GUID-27C1AA9C-889D-329E-96EF-14048BEB96B2">iHost</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-28ED5563-E7D8-322C-B5AC-B321071CB915.html">TStreamMark</a>
				</td><td><a href="#GUID-C48BCA33-3561-3908-947D-97514B6756C4">iRMark</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-28ED5563-E7D8-322C-B5AC-B321071CB915.html">TStreamMark</a>
				</td><td><a href="#GUID-BE5D3A7E-1799-3F30-8FD4-FFE68D9D798D">iWMark</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-F5649EA3-DE8C-3051-8A1C-6A6A31A53786"><a name="GUID-F5649EA3-DE8C-3051-8A1C-6A6A31A53786"><!-- --></a>
		<h2 class="topictitle2">RShareBuf()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>RShareBuf</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Constructs an empty shared stream buffer object.</p>

				<p>Call one of the <a href="GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487.html#GUID-CDDFA610-55C6-362C-BC79-68D298D23018">Open()</a> functions to prepare the stream. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-523F53BD-70B8-3A0A-9A07-EF0428224BEC"><a name="GUID-523F53BD-70B8-3A0A-9A07-EF0428224BEC"><!-- --></a>
		<h2 class="topictitle2">DoReadL(TAny *, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DoReadL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMaxLength</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMaxLength</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2CCDE889-BDFF-3AF9-9C25-A99484D35F52"><a name="GUID-2CCDE889-BDFF-3AF9-9C25-A99484D35F52"><!-- --></a>
		<h2 class="topictitle2">DoReadL(TDes8 &amp;, TInt, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DoReadL</td><td>(</td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td>aDes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMaxLength,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Reads data from the stream buffer into the specified descriptor.</p>

				<p>This function is called by <a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-34D8A352-9711-3B1F-8784-6ED0B024F5E9">ReadL(TDes8&amp;,TInt,TRequestStatus&amp;)</a>.</p>

				<p>This implementation deals with the request synchronously, and completes the request with KErrNone. Other implementations may choose to deal with this in a true asynchronous manner.</p>

				<p>In addition, the read operation itself uses the <a href="GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487.html#GUID-523F53BD-70B8-3A0A-9A07-EF0428224BEC">DoReadL(TAny*,TInt)</a> variant.</p>

				<p>
					<a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-8DA72539-4244-3578-B8BE-9788C2AF5176">MStreamBuf::ReadL()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp; aDes</td><td>The target descriptor for the data read from the stream buffer. On return, the length of the descriptor is set to the number of bytes read from the stream buffer.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMaxLength</td><td>The maximum number of bytes to be read. This value must not be greater than the maximum length of the descriptor, otherwise the function raises a STORE-Stream 2 panic.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The request status that indicates the completion status of this asynchronous request.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E35F9D5D-4CF5-3BF4-AED8-7ED4BE4B3C15"><a name="GUID-E35F9D5D-4CF5-3BF4-AED8-7ED4BE4B3C15"><!-- --></a>
		<h2 class="topictitle2">DoReadL(MStreamInput &amp;, TStreamTransfer)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a></td><td>DoReadL</td><td>(</td><td><a href="GUID-7CF92AD4-2297-3E4F-ADC5-02CEF3301F61.html">MStreamInput</a> &amp;</td><td>anInput,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a></td><td>aTransfer</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Reads data from the stream into the specified data sink.</p>

				<p>It is called by <a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-7FBF4879-1DFE-349D-A372-80E3C064566B">ReadL(MStreamInput&amp;,TStreamTransfer)</a>.</p>

				<p>This implementation calls the sink's ReadFromL() function, which performs the read (transfer) operation.</p>

				<p>This implementation of <a href="GUID-5AE5BEDA-ED8C-39F5-A686-0C48CFBC1487.html#GUID-523F53BD-70B8-3A0A-9A07-EF0428224BEC">DoReadL()</a> is called for streams that do not have buffering capabilities, and that are derived directly from this class.</p>

				<p>
					<a href="GUID-7CF92AD4-2297-3E4F-ADC5-02CEF3301F61.html#GUID-5C1C00FD-786B-345F-ADF5-C1C8AB57AB2E">MStreamInput::ReadFromL()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7CF92AD4-2297-3E4F-ADC5-02CEF3301F61.html">MStreamInput</a> &amp; anInput</td><td>The target data sink.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a> aTransfer</td><td>A stream transfer object defining the amount of data available to be read.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6574C546-A3FE-320A-BB03-4B8710F5BBA7"><a name="GUID-6574C546-A3FE-320A-BB03-4B8710F5BBA7"><!-- --></a>
		<h2 class="topictitle2">DoRelease()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>DoRelease</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Frees resources before abandoning the stream buffer.</p>

				<p>It is called by <a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-D55C159C-70D5-347E-A4D2-F6B98B0FE826">Release()</a>.</p>

				<p>This implementation is empty, but classes derived from <a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-A5AA52B8-56FB-30FE-B350-093F3A395487">MStreamBuf</a> can provide their own implementation, if necessary.</p>

				<p>
					<a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-D55C159C-70D5-347E-A4D2-F6B98B0FE826">MStreamBuf::Release()</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-06918A5E-2426-38E0-BA3F-17FC9B8D4F7B"><a name="GUID-06918A5E-2426-38E0-BA3F-17FC9B8D4F7B"><!-- --></a>
		<h2 class="topictitle2">DoSeekL(TMark, TStreamLocation, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-57DDBA95-0B74-3BB3-82CB-D09A9080218A.html">TStreamPos</a></td><td>DoSeekL</td><td>(</td><td><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">TMark</a></td><td>aMark,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-D8CE8CF4-3825-345C-8285-01358EA3DC23.html">TStreamLocation</a></td><td>aLocation,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>anOffset</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html">TMark</a> aMark</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-D8CE8CF4-3825-345C-8285-01358EA3DC23.html">TStreamLocation</a> aLocation</td><td> </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> anOffset</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3CD2CE32-CAF6-3FB1-87B9-61D21E921741"><a name="GUID-3CD2CE32-CAF6-3FB1-87B9-61D21E921741"><!-- --></a>
		<h2 class="topictitle2">DoWriteL(const TAny *, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>DoWriteL</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aLength</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aLength</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-10DEA0B5-7235-3938-9A1D-F28B5E27FE3F"><a name="GUID-10DEA0B5-7235-3938-9A1D-F28B5E27FE3F"><!-- --></a>
		<h2 class="topictitle2">DoWriteL(const TDesC8 &amp;, TInt, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DoWriteL</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aDes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMaxLength,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Writes data from the specified descriptor into this stream buffer.</p>

				<p>This function is called by <a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-B932C7D7-BA21-3F93-8E7B-E253024865FD">WriteL(const TDesC8&amp;,TInt,TRequestStatus&amp;)</a>.</p>

				<p>This implementation deals with the request synchronously, and completes the request with KErrNone. Other implementations may choose to deal with this in a true asynchronous manner.</p>

				<p>In addition, the write operation itself uses the DoWriteL(TAny*,TInt) variant.</p>

				<p>
					<a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-95A7060A-C481-3AC1-A983-0BF521570687">MStreamBuf::WriteL()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aDes</td><td>The source descriptor for the data to be written into the stream buffer.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMaxLength</td><td>The number of bytes to be written. This value must not be greater than the maximum length of the descriptor, otherwise the function raises a STORE-Stream 6 panic.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The request status that indicates the completion status of this asynchronous request.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-62747491-E5CE-33A2-BBC9-BB367195BC1A"><a name="GUID-62747491-E5CE-33A2-BBC9-BB367195BC1A"><!-- --></a>
		<h2 class="topictitle2">DoWriteL(MStreamOutput &amp;, TStreamTransfer)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a></td><td>DoWriteL</td><td>(</td><td><a href="GUID-FB3DD356-9DAA-35E9-A49B-5BFCA64B89FA.html">MStreamOutput</a> &amp;</td><td>anOutput,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a></td><td>aTransfer</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FB3DD356-9DAA-35E9-A49B-5BFCA64B89FA.html">MStreamOutput</a> &amp; anOutput</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-37CB379A-6A58-39BD-80CA-A639C4E3A056.html">TStreamTransfer</a> aTransfer</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0923BB54-80E8-3C9C-85AE-9587CDD4F834"><a name="GUID-0923BB54-80E8-3C9C-85AE-9587CDD4F834"><!-- --></a>
		<h2 class="topictitle2">Host()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp;</td><td>Host</td><td>(</td><td>)</td><td>const [private, inline]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-CDDFA610-55C6-362C-BC79-68D298D23018"><a name="GUID-CDDFA610-55C6-362C-BC79-68D298D23018"><!-- --></a>
		<h2 class="topictitle2">Open(TStreamExchange &amp;, TStreamPos, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Open</td><td>(</td><td><a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp;</td><td>aHost,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-57DDBA95-0B74-3BB3-82CB-D09A9080218A.html">TStreamPos</a></td><td>aPos,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMode = ERead|EWrite</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Prepares the shared stream buffer for streaming.</p>

				<p>The function sets the read mark and/or the write mark to the specified position within the host stream.</p>

				<p>
					<a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-025E3500-02DD-39DE-B9DD-070A13235983">MStreamBuf::TRead</a> <a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-E03591D4-6F32-3165-BADE-120687D77529">MStreamBuf::TWrite</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp; aHost</td><td>The object that manages shared streaming.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-57DDBA95-0B74-3BB3-82CB-D09A9080218A.html">TStreamPos</a> aPos</td><td>The position within the host stream.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMode = ERead|EWrite</td><td>The streaming mode. This can be read and/or write, as indicated by the ERead and EWrite bits.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D62862BF-0B2A-3304-8129-EF0B7756D4AC"><a name="GUID-D62862BF-0B2A-3304-8129-EF0B7756D4AC"><!-- --></a>
		<h2 class="topictitle2">Open(TStreamExchange &amp;, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>Open</td><td>(</td><td><a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp;</td><td>aHost,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMode = ERead|EWrite</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table><div class="section"><div>
				<p>Prepares the shared stream buffer for streaming.</p>

				<p>The function sets the read mark and/or the write mark to the beginning of the host stream.</p>

				<p>
					<a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-025E3500-02DD-39DE-B9DD-070A13235983">MStreamBuf::TRead</a> <a href="GUID-A5AA52B8-56FB-30FE-B350-093F3A395487.html#GUID-E03591D4-6F32-3165-BADE-120687D77529">MStreamBuf::TWrite</a> KStreamBeginning </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> &amp; aHost</td><td>The object that manages shared streaming.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMode = ERead|EWrite</td><td>The streaming mode. This can be read and/or write, as indicated by the ERead and EWrite bits.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-27C1AA9C-889D-329E-96EF-14048BEB96B2"><a name="GUID-27C1AA9C-889D-329E-96EF-14048BEB96B2"><!-- --></a>
		<h2 class="topictitle2">
					TStreamExchange * iHost</h2>
		<table class="signature"><tr><td>
					<a href="GUID-F7D7EC04-7B1B-32EC-A084-842FC3D6A75C.html">TStreamExchange</a> *</td><td>iHost</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-C48BCA33-3561-3908-947D-97514B6756C4"><a name="GUID-C48BCA33-3561-3908-947D-97514B6756C4"><!-- --></a>
		<h2 class="topictitle2">
					TStreamMark
				 iRMark</h2>
		<table class="signature"><tr><td>
					<a href="GUID-28ED5563-E7D8-322C-B5AC-B321071CB915.html">TStreamMark</a>
				</td><td>iRMark</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-BE5D3A7E-1799-3F30-8FD4-FFE68D9D798D"><a name="GUID-BE5D3A7E-1799-3F30-8FD4-FFE68D9D798D"><!-- --></a>
		<h2 class="topictitle2">
					TStreamMark
				 iWMark</h2>
		<table class="signature"><tr><td>
					<a href="GUID-28ED5563-E7D8-322C-B5AC-B321071CB915.html">TStreamMark</a>
				</td><td>iWMark</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>