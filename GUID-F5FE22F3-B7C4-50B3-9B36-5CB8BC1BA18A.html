<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Receiving Broadcast Data"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B4783C5D-2653-5B92-AD0D-374A7AAA8EA4.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-33FEE8F8-CD21-52EA-8EE2-502B12B3C463.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-893BFF74-5DBB-5606-96FC-F961A52CA90D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-80CF2E07-3E2B-564F-A689-80EE0229C13A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B4783C5D-2653-5B92-AD0D-374A7AAA8EA4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3C9BE2FF-8D5C-51D0-8BC1-BED7BC1288BA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2C8BE998-BCCE-5A06-AFC1-4B611D9233AB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0297CAF5-4EB7-5E84-8A8C-8758D6F3B75F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-567585CC-26EC-553D-99D5-D3C178C455F6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-743D3117-095B-58D5-947D-A8713475C9A5.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Receiving Broadcast Data</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A"><a name="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2396644 id2396659 id2396679 id2396693 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-33FEE8F8-CD21-52EA-8EE2-502B12B3C463.html" title="The Multimedia Hardware Adaptation Interfaces (HAI) collection is an interface to control video components.">Multimedia Hardware Adaptation Interfaces Collection</a> &gt; <a href="GUID-893BFF74-5DBB-5606-96FC-F961A52CA90D.html" title="The Mobile TV DVBH Receiver HAI component provides facilitate to receive Mobile TV signals through the DVB-H Receiver library and the DVB-H Receiver Information library.">Mobile TV DVBH Receiver HAI Component</a> &gt; <a href="GUID-80CF2E07-3E2B-564F-A689-80EE0229C13A.html" title="This section introduces you to the DVB-H Receiver library.">DVB-H Receiver Library</a> &gt; <a href="GUID-B4783C5D-2653-5B92-AD0D-374A7AAA8EA4.html" title="This topic describes DVB-H uses in mobile technology.">Tutorials</a> &gt; </div>
<h1 class="topictitle1">Receiving
Broadcast Data</h1>
<div>
<p>This topic gives information about how to receive the broadcast data. </p>

<div class="section"><h2 class="sectiontitle">Purpose</h2> <p>This tutorial is about creating IP filters,
removing the IP filters and updating the network time. </p>
 <p><strong>Required
Background</strong> </p>
 <p>IP platform contains many services, so each service
is an IP data stream identified by the IP address. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Introduction</h2><p>For a DVB-H application, you have to
receive a small number of services. So you need to filter out from a large
number of IP data packets for a small number of services. This is done by
asking the receiver to only send IP packets matching a specific IP address,
or a small number of IP addresses. This is called filtering. </p>
 <p>The receiver
has the ability to filter network time from a DVB-H broadcast, for you to
get network updated time. </p>
</div>

<div class="section"><h2 class="sectiontitle">Setup and Configuration Requirements</h2><p>The initial
step to create a filter is to obtain the IP address of desired services. Further
setup is beyond the scope of this document, but some typical steps are: </p>
 <ul>
<li id="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-BE351C29-0BE5-5B37-A87C-945603B13A10"><a name="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-BE351C29-0BE5-5B37-A87C-945603B13A10"><!-- --></a><p>You can setup a well-known
IP address of bootstrap ESG service for an IP platform. </p>
 </li>

<li id="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-2C054EA0-911E-5764-8804-9BF020297317"><a name="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-2C054EA0-911E-5764-8804-9BF020297317"><!-- --></a><p>You can obtain from
the bootstrap, the ESG IP address of a particular ESG service for an IP platform </p>
 </li>

<li id="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-24AFC3F8-C6AF-5857-915A-1CE942532D76"><a name="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-24AFC3F8-C6AF-5857-915A-1CE942532D76"><!-- --></a><p>You can obtain an ESG
service from the IP address of a TV programme. </p>
 </li>

</ul>
</div>

<div class="section"><h2 class="sectiontitle">Using Receiving Broadcast Data Tutorial </h2> <p>The Following
tasks will be covered in this tutorial: </p>
 <ul>
<li id="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-8038AAAC-85FD-52E3-B2FF-0C3F118222DD"><a name="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-8038AAAC-85FD-52E3-B2FF-0C3F118222DD"><!-- --></a><p><a href="GUID-5808DC87-C55B-4488-9099-B0F9BB167BDA.html">Creating
IP Filters</a></p>
 </li>

<li id="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-C20A0F85-75A8-5A78-ABFE-BFE0183C8756"><a name="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-C20A0F85-75A8-5A78-ABFE-BFE0183C8756"><!-- --></a><p><a href="GUID-7D83F734-4298-44C9-BBA1-DC2F9E1E32E2.html">Updating
Network Time</a> </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">Example</h2><pre class="codeblock" id="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-710BFB6A-19CA-524C-8DFE-610D430ED284"><a name="GUID-F5FE22F3-B7C4-50B3-9B36-5CB8BC1BA18A__GUID-710BFB6A-19CA-524C-8DFE-610D430ED284"><!-- --></a>

//Context: The following takes place in some method of an active object
//that implements MDvbhDataObserver (e.g. CExampleClient : public
//CActive, public MDvbhDataObserver).  Its member iReceiver is a 
//RDvbhReceiver that has previously been initialised.  Its member iAddress
//contains the IP address to filter.
//Assume that CExampleClient previously registered itself as a
//MDvbhDataObserver as in Figure 8.

TInt filterId = 0;
User::LeaveIfError(iReceiver.CreateFilter(iAddress, 
                                          filterId, 
                                          iStatus));

StoreFilterIdL(filterId , iAddress);
SetActive();

//Filter now active. For as long as it remains active, any IP data the
//receiver gets that matches the IP address will be sent to the client.

//....At some later stage, perhaps within another function:

User::LeaveIfError(iReceiver.CancelFilter(filterId));

//Filter removal initiated.  When complete, CExampleFilter::RunL will be
//called and related IP data will no longer be filtered.

//Example CExampleFilter::RunL()
void CExampleFilter::RunL()
    {
    //CreateFilter() operation has completed, which means the filter no
      //longer exists.  Check iStatus for completion code (KErrCancelled,
      //KErrNotReady, etc.) and act accordingly.  For example:
    RemoveFilterIdFromStorage(iAddress);
    }

</pre>
</div>

<div class="section"><h2 class="sectiontitle"> Removing IP Filters</h2> <p>In order to remove an active
IP filter on the receiver, call <a href="GUID-617CD367-CF68-3932-8E77-669820A7B9AF.html#GUID-617CD367-CF68-3932-8E77-669820A7B9AF__GUID-42D70FDD-9206-33B3-B5ED-3A04B5F03036"><span class="apiname">RDvbhReceiver::CancelFilter()</span></a>.
The instance is passed through filter ID. If it represents an active filter,
then the filter is removed and its corresponding asynchronous request is completed
with error reason as KErrCancelled. According to it, IP packets for that filter
will no longer be sent to the client. </p>
 <p>If the filterId does not represent
an active filter, an error will be returned. As long as there exists at least
one active filter on the receiver, it will be in a receiving state. When the
last active filter has been removed, the receiver will move to ready state. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-B4783C5D-2653-5B92-AD0D-374A7AAA8EA4.html" title="This topic describes DVB-H uses in mobile technology.">Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-3C9BE2FF-8D5C-51D0-8BC1-BED7BC1288BA.html">Turn On Broadcast
Receiver</a></div>
<div><a href="GUID-2C8BE998-BCCE-5A06-AFC1-4B611D9233AB.html">Turn Off
Broadcast Receiver</a></div>
<div><a href="GUID-0297CAF5-4EB7-5E84-8A8C-8758D6F3B75F.html">Setting Data
Reception</a></div>
<div><a href="GUID-567585CC-26EC-553D-99D5-D3C178C455F6.html">DVB-H Signal
Scanning</a></div>
<div><a href="GUID-743D3117-095B-58D5-947D-A8713475C9A5.html">Tuning IP
Platform</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>