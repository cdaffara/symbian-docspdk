<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="How to access elements"/>
<meta name="abstract" content="The elements of an array can be accessed by specifying the position of the element in the array."/>
<meta name="description" content="The elements of an array can be accessed by specifying the position of the element in the array."/>
<meta name="DC.Relation" scheme="URI" content="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2E085BAD-AAD7-5D1A-89A7-287EE42D1069.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E3F403EE-717B-5EA6-BC4E-6840097CAC10.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>How to access elements</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2392072 id2392081 id2392089 id2392251 id2392348 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">User Library and File Server</a> &gt; <a href="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" title="The User Library allows the applications and services that run on a phone to access the functionality provided by the Symbian platform Kernel.">User Library</a> &gt; <a href="GUID-2E085BAD-AAD7-5D1A-89A7-287EE42D1069.html">Arrays And Lists</a> &gt; <a href="GUID-E3F403EE-717B-5EA6-BC4E-6840097CAC10.html">Using Dynamic Arrays</a> &gt; <a href="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html">How to Use Dynamic Arrays</a> &gt; </div>
<h1 class="topictitle1">How
to access elements</h1>
<div><p>The elements of an array can be accessed by specifying the position
of the element in the array.</p>

<p>The elements of an array can be referenced using the indexing  <samp class="codeph">operator[]</samp> and
specifying the position of the element.</p>

<p>For all arrays <em>except</em> the <samp class="codeph">RArray&lt;class T&gt;</samp> and <samp class="codeph">RPointerArray&lt;class T&gt;</samp> types,
the <samp class="codeph">At()</samp> member function can also be used.</p>

<p>All of the following code fragments use a <samp class="codeph">CArrayFixFlat&lt;class T&gt;</samp> array.</p>

<p>This code constructs a fixed flat array containing the required number
of <samp class="codeph">TInt</samp> type elements - in this case four.</p>

<p>The indexing operator is used to fetch the value of the second element.
This element is then changed, showing two different methods for changing the
element: the <samp class="codeph">At()</samp> function and the <samp class="codeph">[]</samp> operator.</p>

<pre class="codeblock" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-44519EEA-85BA-54CF-9F4A-E67B043C8837"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-44519EEA-85BA-54CF-9F4A-E67B043C8837"><!-- --></a>CArrayFixFlat&lt;TInt&gt;* array;
array = new CArrayFixFlat&lt;TInt&gt;(4);
...
for (TInt value = 0; value &lt; 4; value++)
 array-&gt;AppendL(value);
...
TInt somevalue = (*array)[1];  //fetch the element
TInt somevalue = array-&gt;At(1);  //... alternative way
(*array)[1]    = 21;    //change the element
array-&gt;At(1)   = 21;    // ... alternative way</pre>

<div class="section" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-DD4808A9-0989-4A2E-B83C-B735BEDE0677"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-DD4808A9-0989-4A2E-B83C-B735BEDE0677"><!-- --></a><h2 class="sectiontitle">Accessing functions</h2> <p>If the array elements are objects
of a class with member functions, these functions can be easily accessed as
shown in the following code fragment:</p>
 <pre class="codeblock" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-DD0C968E-B164-5EAA-9188-F0A323197652"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-DD0C968E-B164-5EAA-9188-F0A323197652"><!-- --></a>class TMyClass
 {
public :
 void SetValue(TInt aval);
 TInt GetValue();
private
 TUint iValue;
 };</pre>
 <pre class="codeblock" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-39DDFF64-B1FC-5D93-8552-9D0FF4E5B6BD"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-39DDFF64-B1FC-5D93-8552-9D0FF4E5B6BD"><!-- --></a>CArrayFixFlat&lt;TMyClass&gt;* array;          // an array of
                                         // TMyClass objects
TMyClass myclass;
array = new CArrayFixFlat&lt;TMyClass&gt;(1);
array-&gt;AppendL(myclass);
(*array)[0].SetValue(21);</pre>
 </div>

<div class="section" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-B2AE92D8-239C-4711-AA85-EEE9D333288C"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-B2AE92D8-239C-4711-AA85-EEE9D333288C"><!-- --></a><h2 class="sectiontitle">Accessing functions of CBase derived objects</h2> <p>Where
the elements are pointers to <samp class="codeph">CBase</samp> derived objects (i.e.
elements of an array of type <samp class="codeph">CArrayPtrFlat</samp> or <samp class="codeph">CArrayPtrSeg</samp>),
the members of those <samp class="codeph">CBase</samp> derived objects can easily be
accessed. For example, an array of pointers to <samp class="codeph">CElement</samp> objects
can be accessed as follows:</p>
 <pre class="codeblock" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-D35D517A-0DB1-59A8-A6A3-BFDDF1C4610B"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-D35D517A-0DB1-59A8-A6A3-BFDDF1C4610B"><!-- --></a>CArrayPtrFlat&lt;CElement&gt;* ptrflat;
...
ptrflat = new (ELeave) CArrayPtrFlat&lt;CElement&gt;(16)
...
...   // add elements to ptrflat
...
(*ptrflat)[0]-&gt;SetTextL(_LIT("New text for the first CElement"));
ptrflat-&gt;At(1)-&gt;SetTextL(_LIT("New text for the second CElement"));</pre>
 <p>(where <samp class="codeph">SetTextL()</samp> is
a member function of <samp class="codeph">Celement)</samp>.</p>
 <p>Note that both <samp class="codeph">At()</samp> and
the index <samp class="codeph">operator[]</samp> return a reference to the object in
the array. </p>
 </div>

<div class="section" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-C8FB1FAE-F331-4B1D-9FEA-982A14986E42"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-C8FB1FAE-F331-4B1D-9FEA-982A14986E42"><!-- --></a><h2 class="sectiontitle">Refreshing the pointer</h2> <p>If a pointer to the referenced
object is taken, be aware that the pointer value may become invalid once elements
are added to, or removed from the array. In this event, always refresh the
pointer. </p>
 <pre class="codeblock" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-FE89CB4A-821E-515D-B963-58D4C288E385"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-FE89CB4A-821E-515D-B963-58D4C288E385"><!-- --></a>class TMyClass
 {
public :
 void SetValue(TInt aval);
 TInt GetValue();
private
 TUint iValue;
 };</pre>
 <pre class="codeblock" id="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-D727EFF4-DA87-54F8-8E4C-761F11E5726A"><a name="GUID-059326DB-E7A4-5CB8-BCA7-FF0C71D9D1C7__GUID-D727EFF4-DA87-54F8-8E4C-761F11E5726A"><!-- --></a>CArrayFixFlat&lt;TMyClass&gt;* array;
...
TMyClass myclass;
array = new CArrayFixFlat&lt;TMyClass&gt;(16);
...
for (TInt val = 0; val &lt; 10; val++)
 {
 myclass.SetValue(val)
 array-&gt;AppendL(myclass;
 }
...
TMyClass* myptr;
myptr = &amp;(array-&gt;At(9));
myptr-&gt;GetValue();  // references the tenth element
array-&gt;Delete(0,4); // Delete first four elements
array-&gt;Compress();  
myptr-&gt;GetValue();  // myptr is invalid. An exception may occur
...</pre>
 <p>After deleting the first four elements, <samp class="codeph">myptr</samp> points
to a location outside the logical array. Once the array has been compressed,
the pointer is invalid. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html">How to Use Dynamic Arrays</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>