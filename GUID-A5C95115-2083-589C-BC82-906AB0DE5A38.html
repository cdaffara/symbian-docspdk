<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Troubleshooting guide"/>
<meta name="abstract" content="Common errors and solutions to avoid whilst using ethernet."/>
<meta name="description" content="Common errors and solutions to avoid whilst using ethernet."/>
<meta name="DC.Relation" scheme="URI" content="GUID-395F13E9-8BDB-503A-9DC5-0582BD352B49.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-52371DAB-A231-558C-B3E6-220DAAEE566B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6C361B50-DCF1-515D-BAA0-BB1A2FBAC8A0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-395F13E9-8BDB-503A-9DC5-0582BD352B49.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Troubleshooting guide</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2400778 id2400786 id2400800 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-52371DAB-A231-558C-B3E6-220DAAEE566B.html" title="Provides software components that implement the interface between Symbian platform and peripherals.">Logical Device Drivers</a> &gt; <a href="GUID-6C361B50-DCF1-515D-BAA0-BB1A2FBAC8A0.html" title="Tutorial set specifically designed to make it easier to port an application that runs over the ethernet connection.">Ethernet Driver</a> &gt; <a href="GUID-395F13E9-8BDB-503A-9DC5-0582BD352B49.html" title="Connecting the emulator to Internet using ethernet.">Connecting via ethernet</a> &gt; </div>
<h1 class="topictitle1">Troubleshooting guide</h1>
<div><p>Common errors and solutions to avoid whilst using ethernet.</p>

<p>The following may help if you have trouble connecting the emulator: </p>

<div class="section" id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-E576CB5D-B796-49E9-A510-5F498674B7E0"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-E576CB5D-B796-49E9-A510-5F498674B7E0"><!-- --></a><h2 class="sectiontitle">Specific
errors</h2> <dl>

<dt class="dlterm"><strong>HttpExampleClient.exe reports error -1</strong> </dt>

<dd><p>In most cases <samp class="sysout">-1</samp> indicates that
the current comms database is not compatible with the emulator. </p>
 <p>The best way to avoid trouble is to use the <a href="GUID-3C6935E1-66C9-5115-901E-D3B1D0C2E783.html" title="Describes the quickest method for setting up the Symbian platform emulator for ethernet.">Quick ethernet configuration</a>. Ensure that the <samp class="codeph">IAP</samp>, <samp class="codeph">LANBearer</samp> and <samp class="codeph">LANService</samp> tables are set up exactly as indicated. </p>
 </dd>



<dt class="dlterm"><strong>HttpExampleClient.exe reports error -5120</strong> </dt>

<dd><p>This error indicates that the URL cannot be resolved to an
IP address. This is usually caused by a problem with DNS; either the
location of the DNS server is incorrectly specified or there is no
DNS server. </p>
 <p>If using a statically allocated DNS address, check
that the value in your comms database's <samp class="codeph">LANService</samp> table is correct for your network. </p>
 </dd>



<dt class="dlterm"><strong>Windows reports that there is an IP address conflict</strong> </dt>

<dd><p>The likely cause is that the (static) IP address of your emulator
is the same as that of your computer. This will not occur if your
IP addresses are dynamically allocated. </p>
 <p>The solution is to
ensure that the emulator is allocated a unique IP address in the <samp class="codeph">LANService</samp> table of the comms database configuration file. </p>
 </dd>


</dl>
 </div>

<div class="section" id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-03CA9CE3-2262-406F-949A-83611A89F91E"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-03CA9CE3-2262-406F-949A-83611A89F91E"><!-- --></a><h2 class="sectiontitle">Checklist</h2> <ul>
<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-2CAEC3B6-C3A4-5AF7-A72C-2EFE217C8E6A"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-2CAEC3B6-C3A4-5AF7-A72C-2EFE217C8E6A"><!-- --></a><p>Ensure only
one copy of <em>WinPcap</em> is installed. Version 4.0 is known to work
with Symbian platform </p>
 </li>

<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-0425F662-A42E-52D2-BA1A-A60D54C5FD6F"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-0425F662-A42E-52D2-BA1A-A60D54C5FD6F"><!-- --></a><p>For EKA1 kernel,
ensure <span class="filepath">etherdriver.dat</span> and <span class="filepath">ethermac.dat</span> are in <span class="filepath">\epoc32\&lt;wins or                 winscw&gt;\c\system\data\</span> </p>
 <p>For EKA2 kernel, ensure that the file <span class="filepath">\epoc32\data\epoc.ini</span> exists </p>
 </li>

<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-F708C504-C4CF-5877-91CA-86ECF08718ED"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-F708C504-C4CF-5877-91CA-86ECF08718ED"><!-- --></a><p>For EKA 1, verify
the contents of <span class="filepath">etherdriver.dat</span>. The file should
contain a string that resembles a Windows registry key. For example: </p>
 <pre class="codeblock" id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-CBBF49DA-7FC8-5371-A523-A1DD15607859"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-CBBF49DA-7FC8-5371-A523-A1DD15607859"><!-- --></a>\Device\NPF_{A2E3CC5B-AD54-4F47-BE93-2C3E06}</pre>
 </li>

<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-8EC69637-EAF5-5A69-8B88-42C7106FF3E2"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-8EC69637-EAF5-5A69-8B88-42C7106FF3E2"><!-- --></a><p>For EKA 1, ensure <span class="filepath">ethermac.dat</span> contains a valid MAC address and there is
no line-break at the end of the file. The MAC address should only
contain numbers and letters, no hyphens </p>
 </li>

<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-97F7074E-066D-5680-ADFF-36D0D15247AB"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-97F7074E-066D-5680-ADFF-36D0D15247AB"><!-- --></a><p>Be careful not
to confuse <span class="filepath">etherdriver.dat</span> with <span class="filepath">ethermac.dat</span> </p>
 </li>

<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-269F2760-A117-54B8-BE02-DC7D32CB6339"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-269F2760-A117-54B8-BE02-DC7D32CB6339"><!-- --></a><p>For EKA2, ensure
that <span class="filepath">\epoc32\data\epoc.ini</span> contains something
similar to: </p>
 <pre class="codeblock" id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-0852E30B-C0C3-56D6-8B8A-68D35B3F8ABB"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-0852E30B-C0C3-56D6-8B8A-68D35B3F8ABB"><!-- --></a>ETHER_NIF=\Device\NPF_{8A2D1EEF-A264-49CF-A681-6BFFB7608F48}
        ETHER_MAC=0202a5b856c9
        ETHER_SPEED=10Mbps</pre>
 </li>

</ul>
 </div>

<div class="section" id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-B2F39D70-044C-4012-A148-4ED912CA15F1"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-B2F39D70-044C-4012-A148-4ED912CA15F1"><!-- --></a><h2 class="sectiontitle">Debug
information</h2> <ul>
<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-6F534892-4770-5E64-8B93-36C1315F05B6"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-6F534892-4770-5E64-8B93-36C1315F05B6"><!-- --></a><p>When using a
debug build, the Symbian platform ethernet software writes log files
to the <span class="filepath">c:\logs\log.txt</span> file. This file is in
your Symbian platform platform's C drive, such as <span class="filepath">\epoc32\winscw\c</span> </p>
 </li>

<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-F83012C2-9303-5CE6-8CAB-6DE5D36ECF51"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-F83012C2-9303-5CE6-8CAB-6DE5D36ECF51"><!-- --></a><p> <em>Ethereal</em> is an open-source protocol analyser that can be used to capture
traffic from the adapter; see <a href="http://www.ethereal.com/" target="_blank">www.ethereal.com</a>. It can be especially useful in tracking down problems with the
DHCP negotiation </p>
 </li>

<li id="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-2ADD828B-0EA9-5F74-8008-F50F6B6DFBAB"><a name="GUID-A5C95115-2083-589C-BC82-906AB0DE5A38__GUID-2ADD828B-0EA9-5F74-8008-F50F6B6DFBAB"><!-- --></a><p>When developing
with Microsoft tools, the MSDEV output window shows each packet sent
and received by the Symbian platformethernet driver. </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-395F13E9-8BDB-503A-9DC5-0582BD352B49.html" title="Connecting the emulator to Internet using ethernet.">Connecting via ethernet</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>