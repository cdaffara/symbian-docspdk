<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MCompositionSurfaceUpdate"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-229099A4-EE8A-3EA7-8AA3-74ACE34ED1CD"/>

<title>MCompositionSurfaceUpdate</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-229099A4-EE8A-3EA7-8AA3-74ACE34ED1CD"><a name="GUID-229099A4-EE8A-3EA7-8AA3-74ACE34ED1CD"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2545618 id2545811 id2545877 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MCompositionSurfaceUpdate Class Reference</h1>
	<table class="signature"><tr><td>class MCompositionSurfaceUpdate</td></tr></table><div class="section"></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-F298CB5A-633B-3015-B690-46FB415D14DB">ApiVersion</a>(void)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-52B382CB-B162-3AD1-8F7C-94393F328470">ContentUpdated</a>(const <a href="GUID-11F60AEB-003B-3E8D-BDB9-D97F698627DF.html">TSurfaceId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-740A218E-76FB-31BF-BD91-BA6780AC4DEE.html">TRegion</a> *, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a> *, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> *)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-ED16EEB1-86D2-3BDD-9295-67CB2CA0F822">GetInterface</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">MClass *</td><td><a href="#GUID-93972B32-E38D-33EF-9686-6C6D86787F46">GetInterface</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td><a href="#GUID-8BDE2690-A0F6-32EB-A0AB-53EAE7C5086B">InternalVersion</a>(void)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-232AC4BE-E384-326A-826A-959D44FD583A">Extension_</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-59EAFDD8-E2F1-382C-98DF-A88D602FCBE7">anonymous</a> { <a href="#GUID-140CAF25-7523-392F-A771-44A82C19DB22">KUidCompositionSurfaceUpdate</a> = 0x10286498, <a href="#GUID-A310D38A-9651-3481-BE3B-A14EBD7B4E37">ETypeId</a> = KUidCompositionSurfaceUpdate }</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-F298CB5A-633B-3015-B690-46FB415D14DB"><a name="GUID-F298CB5A-633B-3015-B690-46FB415D14DB"><!-- --></a>
		<h2 class="topictitle2">ApiVersion(void)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>ApiVersion</td><td>(</td><td>void</td><td/><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">void </td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-52B382CB-B162-3AD1-8F7C-94393F328470"><a name="GUID-52B382CB-B162-3AD1-8F7C-94393F328470"><!-- --></a>
		<h2 class="topictitle2">ContentUpdated(const TSurfaceId &amp;, TInt, const TRegion *, TRequestStatus *, TRequestStatus *, TUint32 *, TRequestStatus *, TInt *)</h2>
		<table class="signature"><tr><td>void</td><td>ContentUpdated</td><td>(</td><td>const <a href="GUID-11F60AEB-003B-3E8D-BDB9-D97F698627DF.html">TSurfaceId</a> &amp;</td><td>aSurface,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aBuffer,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-740A218E-76FB-31BF-BD91-BA6780AC4DEE.html">TRegion</a> *</td><td>aRegion,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td>aStatusConsumed,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td>aStatusDisplayed,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a> *</td><td>aTimeStamp,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td>aStatusDispXTimes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> *</td><td>aDisplayedXTimes</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>When the contents of a surface change, this function gets called by a mechanism that is an implementation detail of the graphics driver together with the Native Stream and Compositor implementations. The call can originate from different processes and the Native Stream together with the Compositor implementation relays the information content of it, through implementation specific means, to trigger the actual composition soon after this call - this composition call should be synchronized with the refresh rate of the screen.</p>

				<div class="p">
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>The <a href="GUID-229099A4-EE8A-3EA7-8AA3-74ACE34ED1CD.html#GUID-229099A4-EE8A-3EA7-8AA3-74ACE34ED1CD">MCompositionSurfaceUpdate</a> implementation is waiting for content update notifications. </dd>

							<dd class="ddexpand">aSurface.IsNull() returns EFalse. </dd>

							<dd class="ddexpand">The surface aSurface is registered with the receiver or all status requests are completed with KErrArgument. </dd>

							<dd class="ddexpand">Either both aStatusDisplayed and aTimeStamp are NULL or neither of them are. </dd>

							<dd class="ddexpand">Either both aStatusDispXTimes and aDisplayedXTimes are NULL or neither of them are. </dd>

						
					</dl>

					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>The <a href="GUID-229099A4-EE8A-3EA7-8AA3-74ACE34ED1CD.html#GUID-229099A4-EE8A-3EA7-8AA3-74ACE34ED1CD">MCompositionSurfaceUpdate</a> implementation is waiting for vsync or another synchronisation method to trigger composition, depending on cached visibility information. </dd>

						
					</dl>

					<div class="note"><span class="notetitle">Note:</span> 
						<p>The updated region is used only as an optimisation hint. the current contents of the surface are always used for composition independent of the aRegion. </p>

					</div>
Surface Update API Specification for further details about the semantics of the parameters and return values of the <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> objects. </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-11F60AEB-003B-3E8D-BDB9-D97F698627DF.html">TSurfaceId</a> &amp; aSurface</td><td>The surface that has been updated.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aBuffer</td><td>The buffer of the surface to be used in composition. Integer starting from 0.  </td></tr><tr><td class="parameter">const <a href="GUID-740A218E-76FB-31BF-BD91-BA6780AC4DEE.html">TRegion</a> * aRegion</td><td>The sub-area that has the updates. If NULL, the whole surface is considered changed.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> * aStatusConsumed</td><td>A request status object or NULL. If not NULL, then the request status is completed once the receiver does not anymore need the contents of the surface to render the update. This may happen before actually displaying the finished frame.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> * aStatusDisplayed</td><td>This is signaled after the composited frame is posted the to display for the first time after the update. After this the value in aTimeStamp is valid, if the value in the status object is KErrNone. Can be NULL, if no signal is desired.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a> * aTimeStamp</td><td>Value of the User::FastCounter() right after the display refresh that signaled aStatusDisplayed.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> * aStatusDispXTimes</td><td>This is signaled when the surface has been on the screen for aDisplayedXTimes refreshes, including the update that signaled aStatusDisplayed. Can be NULL, if no signal is wanted.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> * aDisplayedXTimes</td><td>The number of refreshes after which aStatusDispXTimes is signaled or NULL. If values is provided, it must be &gt;= 1. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-232AC4BE-E384-326A-826A-959D44FD583A"><a name="GUID-232AC4BE-E384-326A-826A-959D44FD583A"><!-- --></a>
		<h2 class="topictitle2">Extension_(TUint, TAny *&amp;, TAny *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Extension_</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aExtensionId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td>a0,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>a1</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, pure virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aExtensionId</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp; a0</td><td> </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * a1</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-ED16EEB1-86D2-3BDD-9295-67CB2CA0F822"><a name="GUID-ED16EEB1-86D2-3BDD-9295-67CB2CA0F822"><!-- --></a>
		<h2 class="topictitle2">GetInterface(TUint)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>GetInterface</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aExtensionId</td><td>)</td><td>[inline]</td></tr></table><div class="section"><div>
				<p>Get Extension Interface. Implemented using the <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html#GUID-0D606C23-3961-37D7-B027-3BD876D6B42F">CBase::Extension_()</a> mechanism Note that the pointer returned is only good for the lifetime of the called <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html#GUID-8F6FE089-E2A8-30F4-B67E-10F286347681">CBase</a> derived object. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aExtensionId</td><td>The GUID/ Well-known ID of the interface  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-93972B32-E38D-33EF-9686-6C6D86787F46"><a name="GUID-93972B32-E38D-33EF-9686-6C6D86787F46"><!-- --></a>
		<h2 class="topictitle2">GetInterface()</h2>
		<table class="signature"><tr><td>MClass *</td><td>GetInterface</td><td>(</td><td>)</td><td>[inline]</td></tr></table><div class="section"><div>
				<p>Get Extension Interface - templated helper. Resolves the ID and returned pointer based on the class name. Note that the pointer returned is only good for the lifetime of the called <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html#GUID-8F6FE089-E2A8-30F4-B67E-10F286347681">CBase</a> derived object. Class name should support ETypeId intergral value, else use non-template version. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8BDE2690-A0F6-32EB-A0AB-53EAE7C5086B"><a name="GUID-8BDE2690-A0F6-32EB-A0AB-53EAE7C5086B"><!-- --></a>
		<h2 class="topictitle2">InternalVersion(void)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td>InternalVersion</td><td>(</td><td>void</td><td/><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">void </td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-59EAFDD8-E2F1-382C-98DF-A88D602FCBE7"><a name="GUID-59EAFDD8-E2F1-382C-98DF-A88D602FCBE7"><!-- --></a>
		<h2 class="topictitle2">Enum anonymous</h2>
		<div class="section"></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">KUidCompositionSurfaceUpdate = 0x10286498</td><td> </td></tr><tr class="bg"><td valign="top">ETypeId = KUidCompositionSurfaceUpdate</td><td> </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>