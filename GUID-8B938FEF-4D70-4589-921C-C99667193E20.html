<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="TaskSchedulerExample: Using Task Scheduler for Creating and Executing Tasks"/>
<meta name="abstract" content="This example application demonstrates the usage of the Task Scheduler API."/>
<meta name="description" content="This example application demonstrates the usage of the Task Scheduler API."/>
<meta name="DC.Relation" scheme="URI" content="GUID-D049392D-2DA4-5E9C-8E3E-FEDF79BC5086.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D049392D-2DA4-5E9C-8E3E-FEDF79BC5086.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-8B938FEF-4D70-4589-921C-C99667193E20"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>TaskSchedulerExample: Using Task Scheduler for Creating and Executing Tasks</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-8B938FEF-4D70-4589-921C-C99667193E20"><a name="GUID-8B938FEF-4D70-4589-921C-C99667193E20"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2381979 id2382223 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html">Generic Services</a> &gt; <a href="GUID-D049392D-2DA4-5E9C-8E3E-FEDF79BC5086.html">Task Scheduler</a> &gt; </div>
<h1 class="topictitle1"><samp class="codeph">TaskSchedulerExample</samp>:
Using Task Scheduler for Creating and Executing Tasks</h1>
<div><p> This example application demonstrates the usage of the Task Scheduler
API. </p>

<div class="section"><h2 class="sectiontitle">Download</h2><p>Click on the following link to download
the examples: </p>
<p><a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-c863a545-b00c-4065-8f95-04bd026abf82.zip" target="_blank">TaskSchedulerExample.zip </a></p>
<p>Click the following
links to view the example code.</p>
<p><a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-c863a545-b00c-4065-8f95-04bd026abf82.html">TaskSchedulerExample</a> </p>
 </div>

<div class="section"><h2 class="sectiontitle">Purpose</h2>The scheduler example has two applications;
one to schedule the tasks, and the other to run the scheduled tasks. The scheduler
application launches the application that runs the scheduled tasks, when the
tasks are due to be completed. </div>

<div class="section">		  The scheduler application is the client of the scheduler server.
It connects and registers itself with the scheduler server using the <a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-C4EEE075-3B47-3964-AFCC-0CDF09DEDA0F"><span class="apiname">RScheduler::Connect()</span></a> and
	<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-C19048C5-DC9F-3B8A-B4AD-02C0D943B7AC"><span class="apiname">RScheduler::Register()</span></a>  methods, respectively. While registering
itself with the scheduler server, the scheduler application provides the name
of the application that runs the scheduled tasks, along with its complete
path and its priority relative to other clients. </div>

<div class="section">When a session with the scheduler server is started, the scheduler
creates a persistent time-based schedule using the <a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-2DBDC4BB-3E58-30E4-88A4-024F8A8514A4"><span class="apiname">RScheduler::CreatePersistentSchedule()</span></a> method.
Then, it 	adds a task to the persistent schedule using the <a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-F86AED90-2992-380B-B9FD-2763EA041FE7"><span class="apiname">RScheduler::ScheduleTask()</span></a>method. </div>

<div class="section"> The scheduler application also creates a transient time-based schedule
using the <a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-F86AED90-2992-380B-B9FD-2763EA041FE7"><span class="apiname">RScheduler::ScheduleTask()</span></a> method. The application
passes the schedule information to the method using the <a href="GUID-EA5C4B46-AC42-3D0F-8C48-E182D0D30A12.html"><span class="apiname">TScheduleEntryInfo2</span></a>and<a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html"><span class="apiname">TTaskInfo</span></a> 
  objects. It also edits the transient schedule entry to change its validity
using <a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-50B287A9-F62F-3C49-AD22-2760C96846EA"><span class="apiname">RScheduler::EditSchedule()</span></a></div>

<div class="section">The scheduler application launches the executor application, which
runs 	 the scheduled tasks when they are due to be completed. The executor
checks whether it has the necessary capability to run the scheduled tasks
using the <a href="GUID-049FF2D7-8444-3E87-BF2F-DD0EA9B10ED0.html#GUID-049FF2D7-8444-3E87-BF2F-DD0EA9B10ED0__GUID-97B29D4C-FEA0-3103-BA54-31B1EA8C827C"><span class="apiname">CScheduledTask::SecurityInfo()</span></a> method. The executor
application also checks whether the Secure ID (SID) is the same as that of
the task requester, to be able to run the tasks. If these security checks
pass, the executor prints the details of the scheduled task to the console. </div>

<div class="section">Finally, the scheduled tasks are deleted using the 	<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-B4CECD92-82C6-3CEC-8DA6-E4D1580BEC00"><span class="apiname">RScheduler::DeleteSchedule()</span></a>	
 and 	<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1__GUID-BE934053-79EA-3101-899D-18BC91359BB7"><span class="apiname">RScheduler::DeleteTask()</span></a>methods, respectively. </div>

<div class="section"><h2 class="sectiontitle">Class summary </h2><p>The example shows the following APIs: </p>
<ul>
<li><p>RScheduler</p>
</li>

<li><p>CScheduledTask</p>
</li>

<li><p>TScheduleEntryInfo2</p>
</li>

<li><p>TTaskInfo</p>
</li>

<li><p>TSchedulerItemRef</p>
</li>

<li><p>TSecurityInfo</p>
</li>

</ul>
</div>

<div class="section"><h2 class="sectiontitle">Building and configuring </h2><p>To build the example:</p>
<ul>
<li><p>You can build the example from the Carbide.c++ IDE or the command line.</p>
<p>If
you use an IDE, import the bld.inf file of the example into your IDE, and
use the build command of the IDE. If you use the command line, open a command
prompt, and set the current directory to examples\SysLibs\TaskSchedulerExample
folder which contains the bld.inf file. You can then build the example with
the following build commands:</p>
 <div class="p"><pre class="codeblock">bldmake bldfiles
abld build winsw (For WINSCW platforms)
abld build ARMV5 (For hardware)</pre>
</div>
<p>for running the obtained
.exe, go to epoc32\release\winscw\udeb\ (or urel\), launch taskexecutor.exe
:</p>
<div class="p"><pre class="codeblock">taskexecutor.exe</pre>
</div>
</li>

</ul>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-D049392D-2DA4-5E9C-8E3E-FEDF79BC5086.html">Task Scheduler</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>