<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="File Access Example: Accessing the File System Using P.I.P.S."/>
<meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-3314123F-205D-5E05-9041-DB9836B7812B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>File Access Example: Accessing the File System Using P.I.P.S.</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-3314123F-205D-5E05-9041-DB9836B7812B"><a name="GUID-3314123F-205D-5E05-9041-DB9836B7812B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2381193 id2381201 id2381554 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html">Generic Open Libraries</a> &gt; <a href="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html">Open Environment Core (P.I.P.S.)</a> &gt; <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">P.I.P.S. Examples</a> &gt; </div>
<h1 class="topictitle1">File Access Example: Accessing the File System Using P.I.P.S.</h1>
<div>
<p>This example application shows, using a P.I.P.S. (P.I.P.S. Is POSIX
on the Symbian platform) program, the restrictions on file access
that are imposed by the Symbian platform Security model. </p>

<p>It shows that programs can access their own directories, but cannot,
without platform security capabilities not available to ordinary programs,
access the directories of other programs, or the system binary directory <span class="filepath">sys/bin</span>. </p>

<p>This example defines an executable file with no platform security
capabilities. The program first creates its own secure directory that
it can write to and read from. It then attempts to use a file in a
private directory of another program, and then in <span class="filepath">sys/bin</span>, and shows that these attempts are denied. </p>

<div class="section" id="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-820F9B58-8877-414B-A18B-B591F6D67158"><a name="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-820F9B58-8877-414B-A18B-B591F6D67158"><!-- --></a><h2 class="sectiontitle">Download</h2> <p>Click on the following link to download the example: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-2dae3cca-f112-4219-8f7c-6c48682d1f28.zip" target="_blank">FileAccessExample.zip</a></p>
<p>Click: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-2dae3cca-f112-4219-8f7c-6c48682d1f28.html">browse</a> to view the example code. </p>
 </div>

<div class="section" id="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-3EAFEC43-CFDA-4E3D-8ACD-E3AAE48BE97D"><a name="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-3EAFEC43-CFDA-4E3D-8ACD-E3AAE48BE97D"><!-- --></a><h2 class="sectiontitle">Description</h2> <p>The following sections provide more information about the steps
that the example performs. </p>
 <p><strong> Create a secure directory</strong> </p>
 <p>The example creates an empty secure directory for the program
by using the <a href="GUID-D034B02C-3B45-3DCC-A7DA-E51227032A87.html"><span class="apiname">mkdir(const char *,mode_t)</span></a> function. </p>
 <p>This empty secure directory is created in <span class="filepath">C:\private\E80000C9</span>, as 0xE80000C9 is a unique identifier for the program (as specified
by the third UID in its project file). </p>
</div>

<div class="section" id="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-D9F306FF-D14E-4BCC-BAE6-55804F31CA0D"><a name="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-D9F306FF-D14E-4BCC-BAE6-55804F31CA0D"><!-- --></a> <p><strong>Write
and read a file in the private directory </strong> </p>
 <p>The example
writes and reads a file in the secure directory using the <a href="GUID-935A007C-D95C-3EEB-B796-603AF3612A97.html"><span class="apiname">fopen(const char *, const char *)</span></a> and other file stream
functions. </p>
 <p><strong> Write and read a file in the private directory
of another program </strong> </p>
 <p>The example attempts to write and
read a file in the secure directory of another program. </p>
 <p>The <a href="GUID-64886CC6-072F-3542-855A-5D733FC761E8.html"><span class="apiname">fopen()</span></a> function is expected to return <samp class="codeph">NULL</samp>, indicating that access is not possible, as the program has insufficient
platform security capabilities. </p>
<p><strong> Write and read a file in
the sys/bin directory</strong> </p>
 <p>The example attempts to write and
read a file in the system's <span class="filepath">sys/bin</span> directory,
where program binaries are stored. </p>
 <p>Again, the <a href="GUID-64886CC6-072F-3542-855A-5D733FC761E8.html"><span class="apiname">fopen()</span></a> function is expected to return <samp class="codeph">NULL</samp>, indicating
that access is not possible, as the program has insufficient platform
security capabilities. </p>
 </div>

<div class="section" id="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-EB4F71F2-D55D-43C5-B55F-F211D170056F"><a name="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-EB4F71F2-D55D-43C5-B55F-F211D170056F"><!-- --></a><h2 class="sectiontitle">Related
APIs</h2><p><a href="GUID-D034B02C-3B45-3DCC-A7DA-E51227032A87.html"><span class="apiname">mkdir(const char *,mode_t)</span></a></p>
<p><a href="GUID-935A007C-D95C-3EEB-B796-603AF3612A97.html"><span class="apiname">fopen(const char *, const char *)</span></a></p>
</div>

<div class="section" id="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-81AA0C7F-5D43-4EFB-9DD0-4A8A79922576"><a name="GUID-3314123F-205D-5E05-9041-DB9836B7812B__GUID-81AA0C7F-5D43-4EFB-9DD0-4A8A79922576"><!-- --></a><h2 class="sectiontitle">Build</h2> <p>The example builds an executable called <span class="filepath">fileaccessexample.exe</span> in the standard locations. </p>
 <p>To run the example, start <span class="filepath">fileaccessexample.exe</span> from the file system or from your
IDE. After launching the executable, depending on the emulator you
are using, you may need to navigate away from the application launcher
or shell screen to view the console. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">P.I.P.S. Examples</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>