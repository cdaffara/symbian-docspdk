<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Dial a Call Tutorial"/>
<meta name="abstract" content="This tutorial describes how to dial a call with the telephony API for applications."/>
<meta name="description" content="This tutorial describes how to dial a call with the telephony API for applications."/>
<meta name="DC.Relation" scheme="URI" content="GUID-844C335C-E8FD-5DF8-8E05-7DB1DF4C3360.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0F647342-E069-5444-9370-58520375543A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-844C335C-E8FD-5DF8-8E05-7DB1DF4C3360.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Dial a Call Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2562267 id2562189 id2562145 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-0F647342-E069-5444-9370-58520375543A.html" title="The Telephony Utilities is a collection of components that provides small utility libraries related to telephony. The collection also includes the component that implements the telephony API for applications.">Telephony Utilities</a> &gt; <a href="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html" title="The telephony API gives applications access to Telephony services.">Telephony API for Applications</a> &gt; <a href="GUID-844C335C-E8FD-5DF8-8E05-7DB1DF4C3360.html" title="This section provides the tutorials related to calls.">Call Tutorials</a> &gt; </div>
<h1 class="topictitle1">Dial a Call Tutorial </h1>
<div><p>This tutorial describes how to dial a call with the telephony API for applications. </p>
 <a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-2F1A2A69-B31A-52E1-AC45-2466E9A0F373"><!-- --></a><ol id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-2F1A2A69-B31A-52E1-AC45-2466E9A0F373"><li class="stepexpand" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-3813B8DE-531C-5103-AA0D-D5DC352F442D"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-3813B8DE-531C-5103-AA0D-D5DC352F442D"><!-- --></a><span/><br/> create a new instance of <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony</span></a>   </li>
<li class="stepexpand" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-5168AF6C-BB5B-5A9F-81A4-2BDA74B810BB"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-5168AF6C-BB5B-5A9F-81A4-2BDA74B810BB"><!-- --></a><span/><br/> dial a call with <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::DialNewCall()</span></a>    pass the number to dial in a <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::TTelNumber</span></a>.<samp class="codeph">CTelephony::DialNewCall()</samp> returns a <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::TCallId</span></a> that identifies the call. This will be either <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EISVCall1</span></a> or <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EISVCall2</span></a>. You need this ID to place a call on hold and terminate a call.  </li>
<li class="stepexpand" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-AB6F0698-70C8-5B1E-84B6-BEF9D8C0CFE9"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-AB6F0698-70C8-5B1E-84B6-BEF9D8C0CFE9"><!-- --></a><span/><br/> pass <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::DialNewCall()</span></a> a <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::TCallParamsV1</span></a> object to specify an option for your identity. You have three options:  <a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-382BCFFE-5EF4-5EB7-B07E-FD6C5E049CB1"><!-- --></a><ol type="a" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-382BCFFE-5EF4-5EB7-B07E-FD6C5E049CB1"><li class="substepexpand" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-40C52D42-0FBA-57AD-BF6C-75BA26ECD933"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-40C52D42-0FBA-57AD-BF6C-75BA26ECD933"><!-- --></a><span/><br/> hide your identity  </li>
 <li class="substepexpand" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-C9A2E428-A7C1-5654-AFC2-358C91D4BA3E"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-C9A2E428-A7C1-5654-AFC2-358C91D4BA3E"><!-- --></a><span/><br/> display your identity  </li>
 <li class="substepexpand" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-08814A8F-806A-56F2-9A4D-7FA4B66151BA"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-08814A8F-806A-56F2-9A4D-7FA4B66151BA"><!-- --></a><span/><br/> use default setting  </li>
 </ol>
 </li>
<li class="stepexpand" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-082D70CE-00A9-56E0-880E-9E634935A3F7"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-082D70CE-00A9-56E0-880E-9E634935A3F7"><!-- --></a><span/><br/> pass the enumeration <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EDialNewCallCancel</span></a> to cancel the dial request.  </li>
</ol>
 <div class="example" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-32181D81-A35C-5EB9-9FBE-7601A63B7378"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-32181D81-A35C-5EB9-9FBE-7601A63B7378"><!-- --></a><h2 class="sectiontitle">Dial a call example</h2> <p>This example dials the number <samp class="codeph">123456789</samp> and allows the remote party to see the phone's number: </p>
 <pre class="codeblock" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-9E980E83-B70E-560C-8C83-934D490ABACE"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-9E980E83-B70E-560C-8C83-934D490ABACE"><!-- --></a>#include &lt;e32base.h&gt;
#include &lt;Etel3rdParty.h&gt;

_LIT(KTheNumber, "123456789");

class CClientApp : public CActive
    { 

private:
    CTelephony* iTelephony;
    CTelephony::TCallId iCallId;

public:
    CClientApp(CTelephony* aTelephony);
    void SomeFunction();

private:
    /*
       These are the pure virtual methods from CActive that  
       MUST be implemented by all active objects
       */
    void RunL();
    void DoCancel();
   };

CClientApp::CClientApp(CTelephony* aTelephony)
    : CActive(EPriorityStandard),
      iTelephony(aTelephony)
    {
    //default constructor
    }

void CClientApp::SomeFunction()
    {
    CTelephony::TTelNumber telNumber(KTheNumber);

    CTelephony::TCallParamsV1 callParams;
    callParams.iIdRestrict = CTelephony::ESendMyId;
    CTelephony::TCallParamsV1Pckg callParamsPckg(callParams);

    iTelephony-&gt;DialNewCall(iStatus, callParamsPckg, telNumber, iCallId);
    SetActive();
    }

void CClientApp::RunL()
    {
    if(iStatus==KErrNone)
       {} // The call has been dialled successfully;
          // iCallId contains the call's ID, needed when controlling the call.
    }

void CClientApp::DoCancel()
    {
    iTelephony-&gt;CancelAsync(CTelephony::EDialNewCallCancel);
    }
</pre>
 </div>
 <div class="section" id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-8A1C0CE1-31F8-5B78-9FDC-D2BF46B2924F"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-8A1C0CE1-31F8-5B78-9FDC-D2BF46B2924F"><!-- --></a><p>This describes how to dial a second call while another is in progress. </p>
 <a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-4A03E748-F7D6-56AF-89C6-51D2D440994D"><!-- --></a><ol id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-4A03E748-F7D6-56AF-89C6-51D2D440994D"><li id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-A9B4B84F-10B9-5709-AA88-FFACCC93815E"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-A9B4B84F-10B9-5709-AA88-FFACCC93815E"><!-- --></a><p>Put the first call on hold. </p>
 <p>For more information. See <a href="GUID-1907CF0B-2F4B-50F6-B676-7B7059B7FF74.html" title="This tutorial describes how to place a call on hold with the telephony API for applications.">Call Hold Tutorial</a>. </p>
 <p>If the first call was not dialled or answered by you then you cannot control it, and so you cannot put it on hold. If it is not on hold already then you will have to wait until the it is put on hold. The <a href="GUID-0DA6722B-0700-5612-884A-F3B7733E5252.html" title="This tutorial describes how to get the voice line status with the telephony API for applications.">Voice line status</a> changes to <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EStatusHold</span></a>. </p>
 </li>
 <li id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-5613B91D-7C01-54D1-9F78-ADDE9455FA71"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-5613B91D-7C01-54D1-9F78-ADDE9455FA71"><!-- --></a><p>Dial the second call. </p>
 <p>This is the same as dialling a call in the <a href="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC.html" title="This tutorial describes how to dial a call with the telephony API for applications.">Dial a Call Tutorial</a>. <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::AnswerIncomingCall()</span></a> will return a different call ID to the first call. </p>
 <p>Remember that to dial a call is an asynchronous operation. </p>
 </li>
 <li id="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-CC8C65D1-1C89-591B-B540-376C388CD4AA"><a name="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-CC8C65D1-1C89-591B-B540-376C388CD4AA"><!-- --></a><p>If the operation fails, remember to resume the first call, see <a href="GUID-FFBD95C6-0B12-5FD7-BA69-89BBFB97F0A1.html" title="This tutorial describes how to resume a call with the telephony API for applications.">Call Resume Tutorial</a>. </p>
 </li>
 </ol>
 <p>As a result, the first call is on hold, and the phone user is connected to the second caller. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-844C335C-E8FD-5DF8-8E05-7DB1DF4C3360.html" title="This section provides the tutorials related to calls.">Call Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>