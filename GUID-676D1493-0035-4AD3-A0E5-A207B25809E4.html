<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Time Zone Services Overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4FCF605D-52D9-5B2D-80CF-80C940F680CA.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-58035B49-2EAE-5144-B226-28AF2EDD62E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4FCF605D-52D9-5B2D-80CF-80C940F680CA.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Time Zone Services Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4"><a name="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2520040 id2380831 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-58035B49-2EAE-5144-B226-28AF2EDD62E7.html">Generic Application Support Guide</a> &gt; <a href="GUID-4FCF605D-52D9-5B2D-80CF-80C940F680CA.html">Time Zone Services</a> &gt; </div>
<h1 class="topictitle1">Time
Zone Services Overview</h1>
<div>
<div class="section" id="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-30F76544-4824-4979-93A6-CC7F09818443"><a name="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-30F76544-4824-4979-93A6-CC7F09818443"><!-- --></a><h2 class="sectiontitle">Purpose</h2>       <p>Interfaces
within Time Zone Services are used to enable client applications to make updates
to system TZ data, receive notification of time changes, and manage user-defined
TZ data. Conversion services enable a client to convert time between Universal
Time Coordinated and any other time.  </p>
</div>

<div class="section" id="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-8C787174-5ABD-4CE5-A205-986873AA5F00"><a name="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-8C787174-5ABD-4CE5-A205-986873AA5F00"><!-- --></a><h2 class="sectiontitle">Key concepts/terms</h2>The following terms are used throughout
Time Zone Services documentation:<div class="p"><dl>

<dt class="dlterm">P&amp;S</dt>

<dd><p>Publish and Subscribe. </p>
</dd>



<dt class="dlterm">PKG</dt>

<dd><p>Package File Format, which allows easy installation of software. </p>
</dd>



<dt class="dlterm">SIS</dt>

<dd><p>Symbian installation file. A collection of executables and/or data
files packaged in a form suitable so that the Software Installer can install
them onto a device.</p>
</dd>



<dt class="dlterm">SWI </dt>

<dd><p>Software Installer.</p>
</dd>



<dt class="dlterm">System TZ data </dt>

<dd><p>Refers to the time zone database found in the TZ Server component and
the TZ localization resources found in the TZ Localization component.</p>
</dd>



<dt class="dlterm">TZID</dt>

<dd><p>Refers to the time zone database found in the TZ Server component and
the TZ localization resources found in the TZ Localization component.</p>
</dd>



<dt class="dlterm">TZ rules data</dt>

<dd><p>Refers to the TZ rules found in the TZ database, the TZ rules that
define the current/system TZ and the user-defined TZ rules.</p>
</dd>



<dt class="dlterm">User-defined TZ data</dt>

<dd><p>The TZ rules and TZ names (city name, region name and long/short standard
time name and long/short daylight time names). User-defined TZ data may be
added by the user of the device. </p>
</dd>



<dt class="dlterm">UTC </dt>

<dd><p>Universal Time Coordinated.</p>
</dd>


</dl>
</div>
</div>

<div class="section" id="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-4E5DB06A-4729-4008-BB03-9C3A27C4DE96"><a name="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-4E5DB06A-4729-4008-BB03-9C3A27C4DE96"><!-- --></a><h2 class="sectiontitle">Architectural relationships</h2><p>Alarm Server and Calendar
Server components depend on the latest TZ rules information. When notified
of changes to TZ rules data these components update their TZ-dependent data.
TZ conversion rules are used to convert between UTC and a time in the past,
present or future, for any time zone.</p>
<p>Time zone conversion allows you
to set the device time zone and to convert time between UTC and any time,
past, present or future, for any time zone, as long as a rule exists for the
conversion.  </p>
</div>

<div class="section" id="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-5C98F76D-C181-4D43-8784-1306830E4D7D"><a name="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-5C98F76D-C181-4D43-8784-1306830E4D7D"><!-- --></a><h2 class="sectiontitle">Time Zone Services interfaces </h2><p>The following classes
form the main interface to Time Zone Services:</p>

<div class="tablenoborder"><a name="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-F78AECCB-AEDE-4054-929C-DC756DA901AC"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-F78AECCB-AEDE-4054-929C-DC756DA901AC" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="28.999999999999996%" id="d988832e140"><p>Interface</p>
</th>

<th class="cellrowborder" valign="top" width="71%" id="d988832e144"><p>Description</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="d988832e140 "><p><samp class="codeph">CTzUserData</samp></p>
</td>

<td class="cellrowborder" valign="top" width="71%" headers="d988832e144 "><p>Allows a client to manage user-defined time zones.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="d988832e140 "><p><samp class="codeph">CTzUserNames</samp></p>
</td>

<td class="cellrowborder" valign="top" width="71%" headers="d988832e144 "><p>Contains the names for a user-defined time zone.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="d988832e140 "><p><samp class="codeph">CTzRules</samp></p>
</td>

<td class="cellrowborder" valign="top" width="71%" headers="d988832e144 "><p>Encapsulates a collection of time zone rules</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="d988832e140 "><p><samp class="codeph">CTzId</samp></p>
</td>

<td class="cellrowborder" valign="top" width="71%" headers="d988832e144 "><p>Contains a time zone identifier.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="d988832e140 "><p><samp class="codeph">RTz</samp></p>
</td>

<td class="cellrowborder" valign="top" width="71%" headers="d988832e144 "><p>Converts between UTC time and local time, and sets the current local
time zone.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="28.999999999999996%" headers="d988832e140 "><p><samp class="codeph">CTzConverter</samp></p>
</td>

<td class="cellrowborder" valign="top" width="71%" headers="d988832e144 "><p>Provides client-side caching for conversions in the local time zone.</p>
</td>

</tr>

</tbody>

</table>
</div>
<p>The following interfaces are also used: </p>
<ul>
<li><p>SWI service - see System TZ Data Update </p>
</li>

<li><p>Resource files - see User-defined TZ Data </p>
</li>

<li><p>Publish and Subscribe - see TZ Data Change Notification </p>
</li>

</ul>
<p><strong>System TZ data update</strong></p>
<p>The system TZ data can be updated
at run-time. The installation mechanism uses the standard SWI service to install
a SIS file containing the updated TZ data onto a device.</p>
<p>Once the system
TZ data has been updated using the SIS file, the device will automatically
make use of the updated data. This includes updating any cached data managed
by Symbian platform components and notifying all registered clients of the
system TZ data change.</p>
<p/>
<p><strong>User-defined TZ data</strong></p>
<p><samp class="codeph">CTzUserData</samp> provides
functions to create, read, update or delete user-defined TZ data. The API
also allows the TZIDs for all existing user-defined TZ data to be determined.
  </p>
<p><samp class="codeph">CTzUserNames</samp> is used to contain the names for user-defined
time zones. These include long/short standard time names, long/short daylight
time names, city name and region name.</p>
<p>TZID is a time zone identifier
contained in the <samp class="codeph">CTzId</samp> class. There are two components to
a TZID: a numeric identifier and a name identifier. </p>
<p><strong>TZ data change
notification</strong></p>
<p>The Time Zone Services APIs support several Publish
and Subscribe (P&amp;S) properties, some of which are described below. Clients
can attach and subscribe to these properties to allow them to be notified
of TZ data changes.</p>
<p> The Calendar uses the callback API <samp class="codeph">MCalChangeCallBack2</samp> for
asynchronous change notification.</p>
<ul>
<li><p><strong>Publish and Subscribe</strong> - The <samp class="codeph">NTzUpdate</samp> namespace
contains a property category and property keys. The property key <samp class="codeph">ETzRulesChange</samp> is
used to inform clients of changes to:</p>
<ul>
<li><p>the system TZ database </p>
</li>

<li><p>current and system TZ rules </p>
</li>

<li><p>user-defined rules.</p>
</li>

</ul>
<p>The property key <samp class="codeph">ETzNamesChange</samp> is responsible for
changes to the localized system TZ names and non-localized user-defined TZ
names. </p>
 </li>

<li><p><strong>Alarm Server client</strong> - The Alarm Server supports fixed UTC time
and floating local time to express the expiry time of an alarm. The TZ Server
then recalculates and sets the current UTC offset.</p>
<p>See <a href="GUID-9BE3DEBE-A1CE-5A2F-9746-1E6F2B5B050E.html">System
Time and Locale Changes</a>. </p>
</li>

<li><p><strong>Calendar client</strong> - The Calendar API allows a client to be notified
of changes to Calendar entries.</p>
<p>For more information, see <a href="GUID-3987D040-27F7-5226-96AC-D578ECA4C0A2.html">Callback
Interfaces</a>.</p>
</li>

</ul>
</div>

<div class="section" id="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-5102801C-87DC-4AC1-8733-F216C043A36F"><a name="GUID-676D1493-0035-4AD3-A0E5-A207B25809E4__GUID-5102801C-87DC-4AC1-8733-F216C043A36F"><!-- --></a><h2 class="sectiontitle">See also</h2><ul>
<li><p><a href="GUID-F0C71D6E-CAF1-49CC-A697-FC1A810DF1D5.html">Time zone services
tutorials</a></p>
</li>

<li><p><a href="GUID-A0E21681-F1EF-4E79-965A-040AC7D72A01.html">Time Zone Conversion
Overview</a></p>
</li>

</ul>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-4FCF605D-52D9-5B2D-80CF-80C940F680CA.html">Time Zone Services</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>