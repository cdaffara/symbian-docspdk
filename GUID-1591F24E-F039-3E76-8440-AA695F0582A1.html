<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="COMASuplPosSessionBase"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-1591F24E-F039-3E76-8440-AA695F0582A1"/>

<title>COMASuplPosSessionBase</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-1591F24E-F039-3E76-8440-AA695F0582A1"><a name="GUID-1591F24E-F039-3E76-8440-AA695F0582A1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2731347 id2865154 id2865294 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">COMASuplPosSessionBase Class Reference</h1>
	<table class="signature"><tr><td>class COMASuplPosSessionBase : public CBase</td></tr></table><div class="section"><div>
			<p>The base class for the POS Session to be defined by the POS Message plug-in.</p>

			<p>POS Session in the adaptation POS Message plug-in facilitates the computation of the location of the mobile terminal by forwarding control plane positioning protocol messages from and to the SUPL Framework. SUPL Framework provides the secure IP connection required to exchange the control plane positioning messages between the SET and network.</p>

			<div class="p">
				<dl class="since">
					
						<dt class="dlterm">Since</dt>

						<dd>Series 60 3.1u </dd>

					
				</dl>

			</div>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">COMASuplPosSessionBase<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-9C0A019F-E8DE-3EB1-9399-B8F9A0F39BC3">COMASuplPosSessionBase</a>(MOMASuplObserver *)</td></tr><tr class="bg"><td align="right" class="code"/><td><a href="#GUID-EA0D9E2C-0557-3E5C-A076-DC8CE9DFFA46">~COMASuplPosSessionBase</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-BC06A19D-7940-32F2-BFCB-EAAB0F65BBB3">CancelGetPosition</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-EA673254-4BE8-3C53-8D66-D7E164F4782B">CancelInitialize</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-CB9A5D22-F241-3907-A675-07061053332A">CancelSuplInfoRequest</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-9748A7AD-D110-3E98-80AE-89574F538653">GetPositionL</a>(<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a href="GUID-F0902A8A-F3B1-3DB8-B19B-B187D122057B.html">COMASuplPosition</a> *)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-20ED3D4D-08CA-3AF0-B38D-AD1641FE7669">GetSuplInfoL</a>(<a href="GUID-DB334CCF-1177-3E0E-B459-E596371183AA.html">COMASuplInfoRequestList</a> *, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D4001E65-395B-3822-A0E7-4A2BF0400304">GetSuplState</a>(<a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a> &amp;, <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-EB13706E-7261-3180-A1B5-9A5AF893061F">HandleSuplPosMessageL</a>(const <a href="GUID-F3EC556F-B2FF-3869-BDBB-B648243DBBBE.html">COMASuplPosPayload</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-7A67A9BF-4B73-3FE5-83B6-F03341F19FAF">InitializeL</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-AB772590-3526-3705-BFE8-D37649A18E9B">SessionEnd</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-30501F3A-EC52-309D-BA14-EA6987EC6FAA">SetPosMethodAndAllowedCapabilities</a>(<a href="GUID-94185B16-60FD-3F0D-8216-8CF293813F6B.html">TOMASuplAllowedCapabilities</a>, <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplPositioningMethod</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-503AECF2-0403-3CB6-91CE-A6C3D5C078CA">SetSLPAddressUsed</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0CBCADBD-90A2-3C00-AF85-5F1D525693E1">SetSuplState</a>(<a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a>, <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a>)</td></tr><tr><td align="right" class="code">IMPORT_C MOMASuplObserver *</td><td><a href="#GUID-0BB3FEE7-B4E6-31F7-934A-05D7F7E7ADFB">SuplObserver</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-D1AD8281-C134-3575-ADAB-67BD88064ACE">COMASuplPosSessionBase</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-76A5E2FC-CDB3-3EF7-8655-0680B8F62F75">TOMASuplMsg</a> { <br/><a href="#GUID-AE097460-B36F-34B0-979F-7D6CC8FF9576">EOMASuplStart</a> = 0, <a href="#GUID-A3F81084-C33C-3A65-974A-13BC1A1BE09C">EOMASuplResponse</a>, <a href="#GUID-3E4B9240-2B64-3521-8093-F38C1BB97DA8">EOMASuplInit</a>, <a href="#GUID-EFD103E8-8982-3191-BE2E-C9B65D8A9075">EOMASuplPosInit</a>, <a href="#GUID-0A013181-01BA-3309-BC23-6A21B8EBCD05">EOMASuplPos</a>, <a href="#GUID-77A668B1-16F2-3D21-8BC0-7E9BFE1EC9CA">EOMASuplEnd</a><br/> }</td></tr><tr class="bg"><td align="right" valign="top">enum</td><td><a href="#GUID-24C25BA7-867C-3510-8603-E7CB75C121AC">TOMASuplMsgState</a> { <a href="#GUID-5BA2A84F-C979-30C2-AA6A-2C75CDF1420C">EOMASuplGeneric</a> = 0, <a href="#GUID-7E76538F-3C66-31EA-B35C-3DC506B71F8E">EOMASuplSent</a>, <a href="#GUID-49FBD2E9-A490-3CA0-91A5-9A589B2AD3E9">EOMASuplReceived</a>, <a href="#GUID-031A2368-AE0A-3171-85D3-67A38321501F">EOMASuplCreating</a>, <a href="#GUID-2AC2D61E-C984-3EFF-A9EB-6EB2A9811799">EOMASuplError</a> }</td></tr><tr><td align="right" valign="top">enum</td><td><a href="#GUID-21D3EA9F-93C9-3579-A284-5B08752333B3">TOMASuplPositioningMethod</a> { <br/><a href="#GUID-1E7CA00A-ED0B-3627-A4FA-2D0884C6E896">EPositionUndefined</a> = 0, <a href="#GUID-CD49240B-5676-340C-B72F-45A1A42CFFEA">ENoPosition</a>, <a href="#GUID-94522E57-97D8-33F1-BB55-45F13C641E78">EGpsSETAssisted</a>, <a href="#GUID-F74FFE84-DF16-378F-AC41-FCC14FA6C4F5">EGpsSETBased</a>, <a href="#GUID-22A04D96-9BE6-3C4C-91E9-07F5AAE975BE">EGpsSETBasedPreferred</a>, <a href="#GUID-0F9CED51-16FE-3EAC-9683-A92F2E65677D">EAutonomousGps</a>, <a href="#GUID-78C895C6-AC5E-3AA4-B6B5-AFACE517CF03">EAFLT</a>, <a href="#GUID-228A59BB-804F-3795-9129-FF9ACB39FDED">EeOTD</a>, <a href="#GUID-7BA2D3E2-BB36-310D-B5EE-B515D60FF062">EoTDOA</a>, <a href="#GUID-149EE005-5F1F-32A3-B5AF-74C2913D4B07">EGpsSETAssistedPreferred</a><br/> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a>
				</td><td><a href="#GUID-79F4E7D3-02C1-3831-AFB9-D3AE11ABA3D3">iSuplMsg</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a>
				</td><td><a href="#GUID-E77C047D-4200-316F-BCF4-A0276C5776F2">iSuplMsgState</a></td></tr><tr><td align="right" valign="top">MOMASuplObserver *</td><td><a href="#GUID-58A07F71-5153-3ACA-A5F1-9C9BE40B42ED">iSuplObserver</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-9C0A019F-E8DE-3EB1-9399-B8F9A0F39BC3"><a name="GUID-9C0A019F-E8DE-3EB1-9399-B8F9A0F39BC3"><!-- --></a>
		<h2 class="topictitle2">COMASuplPosSessionBase(MOMASuplObserver *)</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>COMASuplPosSessionBase</td><td>(</td><td>MOMASuplObserver *</td><td>aSuplObserver</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>
					<a href="GUID-534E1420-FC43-31D7-B69B-A1370CC94815.html#GUID-534E1420-FC43-31D7-B69B-A1370CC94815">COMASuplPosHandlerBase</a> implementation should implement the overloaded constructor that takes the MOMASuplObserver as the parameter. The MOMASuplObserver from the <a href="GUID-534E1420-FC43-31D7-B69B-A1370CC94815.html#GUID-A5D20B97-17BA-3028-A66A-16BAA79175EE">COMASuplPosHandlerBase::CreateNewSessionL</a> should be set in <a href="GUID-534E1420-FC43-31D7-B69B-A1370CC94815.html#GUID-534E1420-FC43-31D7-B69B-A1370CC94815">COMASuplPosHandlerBase</a> implementation</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">MOMASuplObserver * aSuplObserver</td><td>The observer for the COMASuplPosHandlerBase implementation This is used to retrieve SUPL Version and POS Message plugin can terminate SUPL Session in SUPL Framework using this observer.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D1AD8281-C134-3575-ADAB-67BD88064ACE"><a name="GUID-D1AD8281-C134-3575-ADAB-67BD88064ACE"><!-- --></a>
		<h2 class="topictitle2">COMASuplPosSessionBase()</h2>
		<table class="signature"><tr><td>COMASuplPosSessionBase</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>By default, prohibit copy constructor </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-EA0D9E2C-0557-3E5C-A076-DC8CE9DFFA46"><a name="GUID-EA0D9E2C-0557-3E5C-A076-DC8CE9DFFA46"><!-- --></a>
		<h2 class="topictitle2">~COMASuplPosSessionBase()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~COMASuplPosSessionBase</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>A wrapper for ECom object destruction. Notifies the ECOM framework that specific instance is being destroyed. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-BC06A19D-7940-32F2-BFCB-EAAB0F65BBB3"><a name="GUID-BC06A19D-7940-32F2-BFCB-EAAB0F65BBB3"><!-- --></a>
		<h2 class="topictitle2">CancelGetPosition()</h2>
		<table class="signature"><tr><td>void</td><td>CancelGetPosition</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancellation method for GetPositionL. At any given point, for a particular SUPL Session, there can be one and only one outstanding request from SUPL Framework to POS Message Plug-in. If there is an abnormal termination of SUPL Session, SUPL Framework invokes the cancellation methods to cancel the outstanding request. If request cancellation is successful, POS Message plug-in completes the original request with KErrCancel. If there is no outstanding request, no action is taken. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-EA673254-4BE8-3C53-8D66-D7E164F4782B"><a name="GUID-EA673254-4BE8-3C53-8D66-D7E164F4782B"><!-- --></a>
		<h2 class="topictitle2">CancelInitialize()</h2>
		<table class="signature"><tr><td>void</td><td>CancelInitialize</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancellation method for InitializeL of POS Session . If request cancellation is successful, POS Message plug-in completes the original request with KErrCancel. If there is no outstanding request, no action is taken. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-CB9A5D22-F241-3907-A675-07061053332A"><a name="GUID-CB9A5D22-F241-3907-A675-07061053332A"><!-- --></a>
		<h2 class="topictitle2">CancelSuplInfoRequest()</h2>
		<table class="signature"><tr><td>void</td><td>CancelSuplInfoRequest</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancellation method for GetSuplInfoL.At any given point, for a particular SUPL Session, there can be one and only one outstanding request from SUPL Framework to POS Message Plug-in. If there is an abnormal termination of SUPL Session, the SUPL Framework invokes the cancellation methods to cancel the outstanding request. If request cancellation is successful, POS Message plug-in completes the original request with KErrCancel. If there is no outstanding request, no action is taken. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-9748A7AD-D110-3E98-80AE-89574F538653"><a name="GUID-9748A7AD-D110-3E98-80AE-89574F538653"><!-- --></a>
		<h2 class="topictitle2">GetPositionL(TRequestStatus &amp;, COMASuplPosition *)</h2>
		<table class="signature"><tr><td>void</td><td>GetPositionL</td><td>(</td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-F0902A8A-F3B1-3DB8-B19B-B187D122057B.html">COMASuplPosition</a> *</td><td>aPosition</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Asynchronous method to retrieve Position information from POS Message plug-in. SUPL Framework typically gets the position information in SUPL END message. However, position is an optional field in SUPL END and if position is not available in SUPL END, SUPL Framework requests the POS Message plug-in for position information.</p>

				<p>This method returns an object of <a href="GUID-F0902A8A-F3B1-3DB8-B19B-B187D122057B.html#GUID-F0902A8A-F3B1-3DB8-B19B-B187D122057B">COMASuplPosition</a> that contains the position information. Please note that SUPL Framework does not invoke this method to retrieve the position field in SUPL POS INIT message. Instead, GetSuplInfoL is invoked.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Status for the asynchronous request </td></tr><tr class="bg"><td class="parameter"><a href="GUID-F0902A8A-F3B1-3DB8-B19B-B187D122057B.html">COMASuplPosition</a> * aPosition</td><td>Position information to be filled by the POS Message plugin </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-20ED3D4D-08CA-3AF0-B38D-AD1641FE7669"><a name="GUID-20ED3D4D-08CA-3AF0-B38D-AD1641FE7669"><!-- --></a>
		<h2 class="topictitle2">GetSuplInfoL(COMASuplInfoRequestList *, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetSuplInfoL</td><td>(</td><td><a href="GUID-DB334CCF-1177-3E0E-B459-E596371183AA.html">COMASuplInfoRequestList</a> *</td><td>aInfoRequestList,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Asynchronous method that provides different POS parameters to SUPL Framework. GetSuplInfoL is an asynchronous method and is invoked by the SUPL framework to get information about location Capabilities supported by the control plane positioning protocol. Assistance Data Request, Velocity, Position estimates, POS Payload and Position are the other parameters that SUPL Framework requests for. The information provided by GetSuplInfoL is used in different SUPL messages.</p>

				<p>SUPL Framework can retrieve a list of information elements from the POS module using this method. For example, when SUPL Framework is generating SUPL START or SUPL POS INIT message, it requires the set of capabilities supported by the underlying control plane positioning protocol.</p>

				<div class="p">POS Message plug-in should handle the <a href="GUID-DB334CCF-1177-3E0E-B459-E596371183AA.html#GUID-DB334CCF-1177-3E0E-B459-E596371183AA">COMASuplInfoRequestList</a> as described below<ul><li><p>Iterate through the <a href="GUID-08BB88DC-1D75-3F19-958F-C859DD997FC8.html#GUID-08BB88DC-1D75-3F19-958F-C859DD997FC8">COMASuplInfoRequest</a> objects in <a href="GUID-DB334CCF-1177-3E0E-B459-E596371183AA.html#GUID-DB334CCF-1177-3E0E-B459-E596371183AA">COMASuplInfoRequestList</a></p>
</li>
<li><p>Determine the type of data object (<a href="GUID-08BB88DC-1D75-3F19-958F-C859DD997FC8.html#GUID-E0EBB4CF-5984-32FD-BF68-BAFD7A434359">COMASuplInfoRequest::iType</a>)</p>
</li>
<li><p>Use the Set method to fill up appropriate values in <a href="GUID-08BB88DC-1D75-3F19-958F-C859DD997FC8.html#GUID-08BB88DC-1D75-3F19-958F-C859DD997FC8">COMASuplInfoRequest</a></p>
</li>
<li><p>Complete the request once all the values are filled up</p>
</li>
</ul>
</div>

				<p>If the POS Message plug-in is in an inactive state due to a call to <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-AB772590-3526-3705-BFE8-D37649A18E9B">COMASuplPosSessionBase::SessionEnd()</a> and SUPL Framework invokes <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-20ED3D4D-08CA-3AF0-B38D-AD1641FE7669">GetSuplInfoL()</a>, then, POS Message plug-in should complete the GetSuplInfoL with KErrOMASuplPosInActive. When the status returned by GetSuplInfoL is KErrOMASuplPosInacive, SUPL Framework discards the different data type objects in <a href="GUID-DB334CCF-1177-3E0E-B459-E596371183AA.html#GUID-DB334CCF-1177-3E0E-B459-E596371183AA">COMASuplInfoRequestList</a>.</p>

				<p>If the POS Message plug-in is able to provide all the mandatory parameters for all the data types present in <a href="GUID-DB334CCF-1177-3E0E-B459-E596371183AA.html#GUID-DB334CCF-1177-3E0E-B459-E596371183AA">COMASuplInfoRequestList</a>, then, GetSuplInfoL should be completed with KErrNone.</p>

				<p>If the POS Message being sent is the last POS message, then, the request is completed with KErrNone and iReqStatus in <a href="GUID-08BB88DC-1D75-3F19-958F-C859DD997FC8.html#GUID-08BB88DC-1D75-3F19-958F-C859DD997FC8">COMASuplInfoRequest</a> is set to KErrOMASuplLastPosMsg </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-DB334CCF-1177-3E0E-B459-E596371183AA.html">COMASuplInfoRequestList</a> * aInfoRequestList</td><td>The List of data elements to be filled up by POS Message Plug-in </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Status for the asynchronous request </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D4001E65-395B-3822-A0E7-4A2BF0400304"><a name="GUID-D4001E65-395B-3822-A0E7-4A2BF0400304"><!-- --></a>
		<h2 class="topictitle2">GetSuplState(TOMASuplMsg &amp;, TOMASuplMsgState &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>GetSuplState</td><td>(</td><td><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a> &amp;</td><td>aSuplMsg,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a> &amp;</td><td>aSuplMsgState</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table><div class="section"><div>
				<p>POS Message plug-in can fetch SUPL Session state from the SUPL Framework by invoking <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-D4001E65-395B-3822-A0E7-4A2BF0400304">COMASuplPosSessionBase::GetSuplState</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a> &amp; aSuplMsg</td><td>indicates the SUPL Message currently being processed by the SUPL Framework </td></tr><tr class="bg"><td class="parameter"><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a> &amp; aSuplMsgState</td><td>provides the state of the message like Created, Sent, Received.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-EB13706E-7261-3180-A1B5-9A5AF893061F"><a name="GUID-EB13706E-7261-3180-A1B5-9A5AF893061F"><!-- --></a>
		<h2 class="topictitle2">HandleSuplPosMessageL(const COMASuplPosPayload *)</h2>
		<table class="signature"><tr><td>void</td><td>HandleSuplPosMessageL</td><td>(</td><td>const <a href="GUID-F3EC556F-B2FF-3869-BDBB-B648243DBBBE.html">COMASuplPosPayload</a> *</td><td>aPosPayload</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Method to handle the POS Payload in <a href="GUID-534E1420-FC43-31D7-B69B-A1370CC94815.html#GUID-534E1420-FC43-31D7-B69B-A1370CC94815">COMASuplPosHandlerBase</a> implementation. HandleSuplPosMessageL is a synchronous method and is invoked by the SUPL framework when it receives a SUPL POS message from the network. HandleSuplPosMessageL is responsible for processing the POS Payload in the SUPL POS Message.</p>

				<p>When SUPL Framework receives SUPL POS Message from the network, the POS Payload is forwarded to POS Message plug-in by invoking the HandleSuplPosMessageL method. HandleSuplPosMessageL is a synchronous method and POS Message plug-in should make a copy of the SUPL POS Payload and return control to SUPL Framework immediately to facilitate processing of other SUPL POS messages that the SUPL Framework may receive from the network. SUPL Framework destroys the SUPL POS message payload as soon as POS Message plug-in returns the HandleSuplPosMessageL call.</p>

				<p>As a guideline, if there is long processing involved in the implementation of HandleSuplPosMessageL, it should make use of active objects. The entire POS Payload is provided to the POS Message plug-in as an argument. HandleSuplPosMessageL does not have a return value and therefore, SUPL Framework does not handle any POS payload processing errors.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-F3EC556F-B2FF-3869-BDBB-B648243DBBBE.html">COMASuplPosPayload</a> * aPosPayload</td><td>POS Payload to be handled by the POS Message plug-in  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7A67A9BF-4B73-3FE5-83B6-F03341F19FAF"><a name="GUID-7A67A9BF-4B73-3FE5-83B6-F03341F19FAF"><!-- --></a>
		<h2 class="topictitle2">InitializeL(const TInt, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>InitializeL</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aRequestID,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Asynchronous method that initializes the <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-1591F24E-F039-3E76-8440-AA695F0582A1">COMASuplPosSessionBase</a> implementation. InitializeL is invoked by SUPL framework either after POS session object creation or when the POS session object needs re-initialization. There will be instances when the SUPL framework will re-use the POS session object with a new SUPL session. Under such conditions, SUPL framework re-initializes the POS session object with InitializeL method.</p>

				<p>When the SUPL protocol is used to tunnel the control plane location protocol, there is a RequestID sent to the SUPL subsystem through the SUPL Terminal Initiation API, by the licensee Initiation Client. SUPL Framework forwards this RequestID to the POS Message plug-in so that the SUPL Session meant to carry messages for a particular control plane session is identified.</p>

				<p>If the licensee Initiation Client does not initiate the SUPL Session, then SUPL Framework sets RequestID to a default value of zero.</p>

				<p>If the SUPL Framework wants to re-use an existing POS Session for a new SUPL Session, it re-initializes the POS Session object with a RequestID provided by SUPL Client. Soon after creation of SUPL POS Session, the SUPL Framework has to invoke <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-7A67A9BF-4B73-3FE5-83B6-F03341F19FAF">InitializeL()</a>. If SUPL Framework performs any operation before invoking <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-7A67A9BF-4B73-3FE5-83B6-F03341F19FAF">InitializeL()</a>, POS Message plug-n returns an error value, KErrOMASuplPosInActive.</p>

				<p>Similarly, when the SUPL Framework wants to re-use a terminated POS Session (<a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-AB772590-3526-3705-BFE8-D37649A18E9B">COMASuplPosSessionBase::SessionEnd()</a>) for a new SUPL Session, it has to invoke <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-7A67A9BF-4B73-3FE5-83B6-F03341F19FAF">InitializeL()</a> before performing any other operation on the POS Session. If SUPL Framework invokes any other method like <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-20ED3D4D-08CA-3AF0-B38D-AD1641FE7669">GetSuplInfoL()</a> on a terminated session, POS Session will return KErrOMASuplPosInActive as the error value.</p>

				<p>At any given instance of time, there can be one and only one outstanding asynchronous request from SUPL Framework to POS Message plug-in. When SUPL Framework wants to re-initialize a POS Session, SUPL Framework will cancel any possible outstanding request to POS Session and then invoke InitializeL.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aRequestID</td><td>A unique identifier that identifies the POS Session with a particular SUPL Session  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Staus for the Asynchronous request to indicate completion of InitializeL.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AB772590-3526-3705-BFE8-D37649A18E9B"><a name="GUID-AB772590-3526-3705-BFE8-D37649A18E9B"><!-- --></a>
		<h2 class="topictitle2">SessionEnd()</h2>
		<table class="signature"><tr><td>void</td><td>SessionEnd</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Method to End the SUPL POS Session. SessionEnd is a synchronous method invoked by SUPL framework to end the SUPL Session, during which the POS Session object may perform clean up operation for releasing the resources.</p>

				<p>If there is an outstanding asynchronous request from SUPL Framework, it is the responsibility of the POS Message plug-in to Cancel the request when SessionEnd is invoked</p>

				<p>SessionEnd method indicates that the SUPL Session has come to an end and the only operations that can be performed after this method call is InitializeL. When SUPL Framework invokes SessionEnd, the POS Message plugin should not delete the POS Session. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-30501F3A-EC52-309D-BA14-EA6987EC6FAA"><a name="GUID-30501F3A-EC52-309D-BA14-EA6987EC6FAA"><!-- --></a>
		<h2 class="topictitle2">SetPosMethodAndAllowedCapabilities(TOMASuplAllowedCapabilities, TOMASuplPositioningMethod)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetPosMethodAndAllowedCapabilities</td><td>(</td><td><a href="GUID-94185B16-60FD-3F0D-8216-8CF293813F6B.html">TOMASuplAllowedCapabilities</a></td><td>aAllowedCapabilities,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplPositioningMethod</a></td><td>aPosMethod</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table><div class="section"><div>
				<p>Synchronous method that is used to set the allowed capabilites and the positioning method. SetPosMethodAndAllowedCapabilities is a synchronous method and is invoked by the SUPL framework to set allowed capabilites and the positioning method.</p>

				<p>SUPL Framework can set the allowed capabilites and positioning method for use by the Pos Message Plugin using this method.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-94185B16-60FD-3F0D-8216-8CF293813F6B.html">TOMASuplAllowedCapabilities</a> aAllowedCapabilities</td><td>The allowed capabilites for the client. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplPositioningMethod</a> aPosMethod</td><td>The positioning method to be used when making the position request.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-503AECF2-0403-3CB6-91CE-A6C3D5C078CA"><a name="GUID-503AECF2-0403-3CB6-91CE-A6C3D5C078CA"><!-- --></a>
		<h2 class="topictitle2">SetSLPAddressUsed(const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetSLPAddressUsed</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aServerAddress</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Synchronous method that is used to set the SLP Address of the server used. SetSLPAddressUsed is a synchronous method and is invoked by the SUPL framework to set the SLP Address of the server being used in current session.</p>

				<p>SUPL Framework can set the SLP Address being used for this session for use by the Pos Message Plugin through this method.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aServerAddress</td><td>The SLP Address of the server that is being currently used for this session.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0CBCADBD-90A2-3C00-AF85-5F1D525693E1"><a name="GUID-0CBCADBD-90A2-3C00-AF85-5F1D525693E1"><!-- --></a>
		<h2 class="topictitle2">SetSuplState(TOMASuplMsg, TOMASuplMsgState)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetSuplState</td><td>(</td><td><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a></td><td>aSuplMsg,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a></td><td>aSuplMsgState</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Whenever there is a change in state of the SUPL Session in SUPL Framework, SUPL Framework sets the SUPL State in <a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html#GUID-1591F24E-F039-3E76-8440-AA695F0582A1">COMASuplPosSessionBase</a> using the SetSuplState method.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a> aSuplMsg</td><td>indicates the SUPL Message that is currently being processed by the SUPL Framework. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a> aSuplMsgState</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0BB3FEE7-B4E6-31F7-934A-05D7F7E7ADFB"><a name="GUID-0BB3FEE7-B4E6-31F7-934A-05D7F7E7ADFB"><!-- --></a>
		<h2 class="topictitle2">SuplObserver()</h2>
		<table class="signature"><tr><td>IMPORT_C MOMASuplObserver *</td><td>SuplObserver</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Method to retrive the Supl Observer set through the overloaded constructor </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-76A5E2FC-CDB3-3EF7-8655-0680B8F62F75"><a name="GUID-76A5E2FC-CDB3-3EF7-8655-0680B8F62F75"><!-- --></a>
		<h2 class="topictitle2">Enum TOMASuplMsg</h2>
		<div class="section"><div>
				<p>Enumeration for SUPL message type. SUPL Framework informs POS Message plug-in about the change in state of SUPL Session through a combination of values in TOMASuplMsg and TOMASuplMsgState. For example, when SUPL Framework sends SUPL START to SLP, SUPL Message type is set to EOMASuplStart and Message state is set to EOMASuplSent. SUPL Framework invokes SetSuplState to set the state of SUPL Session. POS Message plug-in can invoke GetSuplState the retrieve the state of SUPL Session in SUPL Framework </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EOMASuplStart = 0</td><td> </td></tr><tr class="bg"><td valign="top">EOMASuplResponse</td><td> </td></tr><tr><td valign="top">EOMASuplInit</td><td> </td></tr><tr class="bg"><td valign="top">EOMASuplPosInit</td><td> </td></tr><tr><td valign="top">EOMASuplPos</td><td> </td></tr><tr class="bg"><td valign="top">EOMASuplEnd</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-24C25BA7-867C-3510-8603-E7CB75C121AC"><a name="GUID-24C25BA7-867C-3510-8603-E7CB75C121AC"><!-- --></a>
		<h2 class="topictitle2">Enum TOMASuplMsgState</h2>
		<div class="section"><div>
				<p>Enumeration for SUPL message states. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EOMASuplGeneric = 0</td><td> </td></tr><tr class="bg"><td valign="top">EOMASuplSent</td><td> </td></tr><tr><td valign="top">EOMASuplReceived</td><td> </td></tr><tr class="bg"><td valign="top">EOMASuplCreating</td><td> </td></tr><tr><td valign="top">EOMASuplError</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-21D3EA9F-93C9-3579-A284-5B08752333B3"><a name="GUID-21D3EA9F-93C9-3579-A284-5B08752333B3"><!-- --></a>
		<h2 class="topictitle2">Enum TOMASuplPositioningMethod</h2>
		<div class="section"><div>
				<p>Enumeration for SUPL positioning method to be used. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EPositionUndefined = 0</td><td> </td></tr><tr class="bg"><td valign="top">ENoPosition</td><td> </td></tr><tr><td valign="top">EGpsSETAssisted</td><td> </td></tr><tr class="bg"><td valign="top">EGpsSETBased</td><td> </td></tr><tr><td valign="top">EGpsSETBasedPreferred</td><td> </td></tr><tr class="bg"><td valign="top">EAutonomousGps</td><td> </td></tr><tr><td valign="top">EAFLT</td><td> </td></tr><tr class="bg"><td valign="top">EeOTD</td><td> </td></tr><tr><td valign="top">EoTDOA</td><td> </td></tr><tr class="bg"><td valign="top">EGpsSETAssistedPreferred</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-79F4E7D3-02C1-3831-AFB9-D3AE11ABA3D3"><a name="GUID-79F4E7D3-02C1-3831-AFB9-D3AE11ABA3D3"><!-- --></a>
		<h2 class="topictitle2">
					TOMASuplMsg
				 iSuplMsg</h2>
		<table class="signature"><tr><td>
					<a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsg</a>
				</td><td>iSuplMsg</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-E77C047D-4200-316F-BCF4-A0276C5776F2"><a name="GUID-E77C047D-4200-316F-BCF4-A0276C5776F2"><!-- --></a>
		<h2 class="topictitle2">
					TOMASuplMsgState
				 iSuplMsgState</h2>
		<table class="signature"><tr><td>
					<a href="GUID-1591F24E-F039-3E76-8440-AA695F0582A1.html">TOMASuplMsgState</a>
				</td><td>iSuplMsgState</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-58A07F71-5153-3ACA-A5F1-9C9BE40B42ED"><a name="GUID-58A07F71-5153-3ACA-A5F1-9C9BE40B42ED"><!-- --></a>
		<h2 class="topictitle2">MOMASuplObserver * iSuplObserver</h2>
		<table class="signature"><tr><td>MOMASuplObserver *</td><td>iSuplObserver</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>