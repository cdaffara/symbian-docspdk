<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CTspClientMapper"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87"/>

<title>CTspClientMapper</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87"><a name="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2438551 id2438965 id2440153 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CTspClientMapper Class Reference</h1>
	<table class="signature"><tr><td>class CTspClientMapper : public CBase</td></tr></table><div class="section"><div>
			<div class="p">The tsp client mapper component is used to create mappings between remote control clients. The tsp client mapper is used in such cases where a client could not be correctly mapped by it's default information. For example if a remote control event is listened by the active audio client but the actual remote control client is in a different process than the one that is listening the remote control events. In this case a mapping has to be created between the active audio process and the remote control client. This mapping is created simply by setting the process identifier of the remote control client of the active audio to this api. Mapping types define the different states for the tsp clients. The states are defined in TTspClientMappingType. After one state is completed the mapping should be removed or set to another state. In the following an example where a value is set when a player is registered. <pre class="codeblock"> CTspClientMapper* mapper = CTspClientMapper::NewLC();
 RThread client;
 RMessage2&amp; message = aMessage;
 // Message from the client
 RProcess process;
 client.Process( process );
 TProcessId processId = proceess.Id();
 mapper-&gt;SetTspTargetClient( processId,
                             CTspClientMapper::ERegisteredClients );
 CleanupStack::PopAndDestroy( mapper );</pre>
</div>

			<p>An example of changing the state of the remote control client:</p>

			<div class="p">
				<pre class="codeblock"> CTspClientMapper* mapper = CTspClientMapper::NewLC();
 RThread client;
 RMessage2&amp; message = aMessage;
 // Message from the client
 RProcess process;
 client.Process( process );
 TProcessId processId = proceess.Id();
 mapper-&gt;SetTspTargetClientToOtherType( processId,
                                        CTspClientMapper::EPlayingClients );
 CleanupStack::PopAndDestroy( mapper );</pre>

			</div>

			<p>An example of removing a tsp mapping client:</p>

			<div class="p">
				<pre class="codeblock"> CTspClientMapper* mapper = CTspClientMapper::NewLC();
 RThread client;
 RMessage2&amp; message = aMessage;
 // Message from the client
 RProcess process;
 client.Process( process );
 TProcessId processId = proceess.Id();
 mapper-&gt;RemoveTspTargetClient( processId,
                                CTspClientMapper::EPlayingClients );
 CleanupStack::PopAndDestroy( mapper );</pre>

			</div>

			<div class="p">
				<dl class="since">
					
						<dt class="dlterm">Since</dt>

						<dd>S60 5.0 </dd>

					
				</dl>

			</div>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CTspClientMapper<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">CTspClientMapper</a> *</td><td><a href="#GUID-09516304-BC98-3627-A731-CCDF5E0F9AFC">NewL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">CTspClientMapper</a> *</td><td><a href="#GUID-BDFC104A-CA71-381E-ABF0-2ED7567A5232">NewLC</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-0B4EE32D-CCCB-3FB7-95B7-78FD7F171DC2">RemoveTspTargetClient</a>(<a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a>, <a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-10265132-27F0-387C-848A-293B41F65812">SetTspTargetClient</a>(<a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a>, <a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a>)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-C1D7CDC8-1C07-34BA-8670-8D2F7383DD10">SetTspTargetClientToOtherType</a>(<a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a>, <a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-2F859939-4F5C-3A08-BF04-A56FFE0F96A6">CTspClientMapper</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-0D577EAD-BD0D-38B4-8B20-3A0688A6498E">GetTspTargetClients</a>(<a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a>, <a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a> &gt; &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-F96B021A-7DD9-3089-B6A1-C2CF3F708717">TTspClientMappingType</a> { <a href="#GUID-4708AA82-CF06-34B2-804C-156A766C4FFC">EPlayingClients</a> = 0, <a href="#GUID-1A9CF6DE-5AD3-3808-BE93-DD9AD4195B77">ERegisteredClients</a>, <a href="#GUID-A45E7298-9107-3123-9EA7-281C93A6206D">EStoppedClients</a> }</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-2F859939-4F5C-3A08-BF04-A56FFE0F96A6"><a name="GUID-2F859939-4F5C-3A08-BF04-A56FFE0F96A6"><!-- --></a>
		<h2 class="topictitle2">CTspClientMapper()</h2>
		<table class="signature"><tr><td>CTspClientMapper</td><td>(</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Default Constructor </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-0D577EAD-BD0D-38B4-8B20-3A0688A6498E"><a name="GUID-0D577EAD-BD0D-38B4-8B20-3A0688A6498E"><!-- --></a>
		<h2 class="topictitle2">GetTspTargetClients(TTspClientMappingType, RArray&lt; TProcessId &gt; &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>GetTspTargetClients</td><td>(</td><td><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a></td><td>aMappingType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a> &gt; &amp;</td><td>aPidArray</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, pure virtual]</td></tr></table><div class="section"><div>
				<p>This function is used to get the audio clients that are currently playing audio. The function is used by TSP.</p>

				<p>TspClientMappingType </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a> aMappingType</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a> &gt; &amp; aPidArray</td><td>is given as a reference. The playing audio clients are added to this array.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-09516304-BC98-3627-A731-CCDF5E0F9AFC"><a name="GUID-09516304-BC98-3627-A731-CCDF5E0F9AFC"><!-- --></a>
		<h2 class="topictitle2">NewL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">CTspClientMapper</a> *</td><td>NewL</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Symbian two phased constructor. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-BDFC104A-CA71-381E-ABF0-2ED7567A5232"><a name="GUID-BDFC104A-CA71-381E-ABF0-2ED7567A5232"><!-- --></a>
		<h2 class="topictitle2">NewLC()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">CTspClientMapper</a> *</td><td>NewLC</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Symbian two phased constructor. Puts the instance to cleanup stack. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0B4EE32D-CCCB-3FB7-95B7-78FD7F171DC2"><a name="GUID-0B4EE32D-CCCB-3FB7-95B7-78FD7F171DC2"><!-- --></a>
		<h2 class="topictitle2">RemoveTspTargetClient(TTspClientMappingType, TProcessId)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>RemoveTspTargetClient</td><td>(</td><td><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a></td><td>aMappingType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a></td><td>aProcessId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>This function is used to remove a target client from TSP. This way Target Selector Plugin creates a mapping to the correct client. The process id's that are set to the tsp client mapper must be removed from the array after the state is finished with this function. The mappings aren't destroyed automatically in the destructor.</p>

				<p>TspClientMappingType </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a> aMappingType</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a> aProcessId</td><td>is the process identifier of the client  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-10265132-27F0-387C-848A-293B41F65812"><a name="GUID-10265132-27F0-387C-848A-293B41F65812"><!-- --></a>
		<h2 class="topictitle2">SetTspTargetClient(TTspClientMappingType, TProcessId)</h2>
		<table class="signature"><tr><td>void</td><td>SetTspTargetClient</td><td>(</td><td><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a></td><td>aMappingType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a></td><td>aProcessId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>This function is used to set a target client for TSP. This way Target Selector Plugin creates a mapping to the correct client.</p>

				<p>TspClientMappingType </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a> aMappingType</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a> aProcessId</td><td>is the process identifier of the client. If the process id is already in the array the process id that needs to be set is moved to the first place in the array.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C1D7CDC8-1C07-34BA-8670-8D2F7383DD10"><a name="GUID-C1D7CDC8-1C07-34BA-8670-8D2F7383DD10"><!-- --></a>
		<h2 class="topictitle2">SetTspTargetClientToOtherType(TTspClientMappingType, TProcessId)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>SetTspTargetClientToOtherType</td><td>(</td><td><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a></td><td>aMappingType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a></td><td>aProcessId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>This function is used to set a TSP target client for another type then it was originally set for. This way targets don't have to be removed from one type and then added to another.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7C949FA9-3A0E-3D79-8116-1C7B75674C87.html">TTspClientMappingType</a> aMappingType</td><td>is the type this client has to be set for  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a> aProcessId</td><td>is the process identifier of the client  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-F96B021A-7DD9-3089-B6A1-C2CF3F708717"><a name="GUID-F96B021A-7DD9-3089-B6A1-C2CF3F708717"><!-- --></a>
		<h2 class="topictitle2">Enum TTspClientMappingType</h2>
		<div class="section"><div>
				<p>Enumerations for tsp mapping types.</p>

				<p>EPlayingClients is used when the client is in playing state. ERegisteredClients is used when the client is in registered state. EStoppedClients is used when the client is in stopped state. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EPlayingClients = 0</td><td> </td></tr><tr class="bg"><td valign="top">ERegisteredClients</td><td> </td></tr><tr><td valign="top">EStoppedClients</td><td> </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>