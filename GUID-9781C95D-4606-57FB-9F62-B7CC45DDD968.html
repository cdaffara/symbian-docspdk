<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Flexible Memory Model Guide"/>
<meta name="abstract" content="Overview of the Symbian platform flexible memory model"/>
<meta name="description" content="Overview of the Symbian platform flexible memory model"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A16F9F31-182E-5301-B228-A457BD3530FE.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A16F9F31-182E-5301-B228-A457BD3530FE.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Flexible Memory Model Guide</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2399872 id2399880 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html" title="EKA2 is the principal Hardware and Kernel Services module. It manages the CPU and memory resources of a phone, and provides an architecture for device drivers to manage other hardware resources.">Kernel Architecture (EKA2)</a> &gt; <a href="GUID-A16F9F31-182E-5301-B228-A457BD3530FE.html" title="Describes the architecture and technology features of the Kernel that are important for a base port.">Concepts</a> &gt; </div>
<h1 class="topictitle1">Flexible
Memory Model Guide</h1>
<div><p>Overview of the Symbian platform flexible memory model</p>

<div class="section" id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-8F4D5E77-D4CC-48DD-AA11-77191A19C6FE"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-8F4D5E77-D4CC-48DD-AA11-77191A19C6FE"><!-- --></a><h2 class="sectiontitle">Design</h2> <p>The flexible memory model implements the
address space using these objects: </p>
 <ul>
<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-416CE3F1-C16C-5686-BAAD-79CAD188DC28"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-416CE3F1-C16C-5686-BAAD-79CAD188DC28"><!-- --></a><p>memory objects, </p>
 </li>

<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-512A3E93-FAF3-593B-A490-5BB8C7A0925D"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-512A3E93-FAF3-593B-A490-5BB8C7A0925D"><!-- --></a><p>memory managers, </p>
 </li>

<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-31E356AA-A82F-5BDD-BEB5-1F97596BC642"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-31E356AA-A82F-5BDD-BEB5-1F97596BC642"><!-- --></a><p>memory mappings, and </p>
 </li>

<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-E67E19A3-E970-575E-9D80-FD50F756EB8B"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-E67E19A3-E970-575E-9D80-FD50F756EB8B"><!-- --></a><p>address space objects. </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-50C7D629-8818-4863-AE74-EF9835D1BC97"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-50C7D629-8818-4863-AE74-EF9835D1BC97"><!-- --></a><h2 class="sectiontitle">Memory Objects</h2><p>A memory object abstracts physical
memory. It represents storage for chunks, code and thread stacks. A memory
object is implemented as an array of physical page addresses. Attributes such
as 'cached', 'uncached', 'device' and 'strongly ordered' are common to all
the memory in the object. </p>
</div>

<div class="section" id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-F1B26B2A-87F8-4363-902A-525B6AB92F8E"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-F1B26B2A-87F8-4363-902A-525B6AB92F8E"><!-- --></a><h2 class="sectiontitle">Memory Managers</h2><p>A memory manager performs operations
on memory objects such as allocating and freeing memory. Different types of
memory have different kinds of memory manager, for instance paged and unpaged
memory. </p>
</div>

<div class="section" id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-A2CEF774-C4E9-4401-81A7-EB038C52BDC6"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-A2CEF774-C4E9-4401-81A7-EB038C52BDC6"><!-- --></a><h2 class="sectiontitle">Memory Mappings</h2><p>Memory mappings exist to map virtual
memory on to physical memory. One or more memory mappings are associated with
one or more memory objects and their managers. Permissions, sharing and pinning
are implemented at the level of the memory mapping. Permissions include read/write
permissions, user/supervisor permissions and execute/no-execute permissions. </p>
</div>

<div class="section" id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-FA9AD4F3-863F-4471-9DB4-AFAF3525D657"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-FA9AD4F3-863F-4471-9DB4-AFAF3525D657"><!-- --></a><h2 class="sectiontitle">Address Space Objects</h2><p>Address space objects model
the address space of a process, that is the virtual address region used by
the process. An address space contains a list of memory mappings through which
the corresponding physical memory is accessed. </p>
</div>

<div class="section" id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-B810FD8F-9C64-40D7-ABCD-87708A7EDBB0"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-B810FD8F-9C64-40D7-ABCD-87708A7EDBB0"><!-- --></a><h2 class="sectiontitle">Changes</h2> <p>Kernel developers need to know about certain
differences between the flexible memory model and the multiple memory model
which was used in previous versions of Symbian platform. </p>
 <p>In the multiple
memory model, memory was managed at the level of the chunk. Chunks were wrapped
round page tables of 1Mb and permissions and sharing were properties of the
chunk. Address space was partitioned into local, shareable and code memory
and shared memory had to be reserved at this level (that is, in units of 1Mb). </p>
 <p>The
transition to the flexible memory model involved two important changes. </p>
 <ul>
<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-F1BA82A1-FC0B-5D27-8106-61313B0FC7C8"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-F1BA82A1-FC0B-5D27-8106-61313B0FC7C8"><!-- --></a><p>Two processes sharing
the same chunk may use different virtual addresses to access it. Old code
which assumes that a chunk has a single virtual address may need to be rewritten. </p>
 </li>

<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-FB107346-DB07-5BC6-AA04-A94E0E62F958"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-FB107346-DB07-5BC6-AA04-A94E0E62F958"><!-- --></a><p>The kernel no longer
creates chunks to store thread stacks and static data for each process. </p>
 </li>

</ul>
 <p>In two other respects the multiple memory model and the flexible
memory model are exactly the same: </p>
 <ul>
<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-FB17CC7E-7187-5857-A124-4BA7E08F68ED"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-FB17CC7E-7187-5857-A124-4BA7E08F68ED"><!-- --></a><p>Hardware chunks are
addressed globally. </p>
 </li>

<li id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-34F3B419-D83A-5EFB-BDAA-2D518E78EC20"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-34F3B419-D83A-5EFB-BDAA-2D518E78EC20"><!-- --></a><p>Shared chunks have fixed
kernel addresses which are accessible in supervisor mode. </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-23B4066A-C3B1-47D9-834E-45F4F17C7222"><a name="GUID-9781C95D-4606-57FB-9F62-B7CC45DDD968__GUID-23B4066A-C3B1-47D9-834E-45F4F17C7222"><!-- --></a><h2 class="sectiontitle">See Also</h2> <p> <a href="GUID-DB3A6401-D25E-57E7-A8BF-3B9E0DE3B1D6.html" title="Describes how to enable Flexible Memory Model in the baseport.">Flexible
Memory Model Tutorial</a>  </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-A16F9F31-182E-5301-B228-A457BD3530FE.html" title="Describes the architecture and technology features of the Kernel that are important for a base port.">Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>