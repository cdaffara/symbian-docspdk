<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MNcdQuery"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED"/>

<title>MNcdQuery</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED"><a name="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2366923 id2363114 id2363119 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MNcdQuery Class Reference</h1>
	<table class="signature"><tr><td>class MNcdQuery : public MCatalogsBase</td></tr></table><div class="section"><div>
			<p>Describes a query.</p>

			<p>The Catalogs Engine may send queries to the client as part of specific operations, or as general callbacks.</p>

			<p>Querys consist of a message and query items. A query can have just a message or just a range of query items or both.</p>

			<p>The query message can be for example a disclaimer or a plain iformation message. The query message is intented to be shown separate from the query items.</p>

			<p>If the query demands some input from the user it will contain query items. A query item defines one element of a whole query e.g. credit card number in a purchase information query.</p>

			<p>Query objects can be used to query a wide variety of things from the client: disclaimers, user acceptance for web-connection usage, credit card information etc.</p>

			<p>Example:</p>

			<p>message: "Please enter creditcard information to complete the purchase" queryitem: "Creditcard owner:" queryitem: "Creditcard expiration date:" queryitem: "Creditcard number:"</p>

			<p>Querys can be sent from a server at any time so the client needs to be prepared to handle them.</p>

			<p>Most operations use querys when user interaction is needed.</p>

			<div class="p">
				<div class="note"><span class="notetitle">Note:</span> 
					<p>Query objects don't do any validity checks for input data.</p>

					<p>: Querys are simple objects that have no connection to Catalogs Engine of their own. The object that sent the query may need to be notified of the completion of the query (e.g. MNcdOperation::QueryCompleted).</p>

				</div>
MNcdQueryItem <a href="GUID-E660C335-F843-353A-BD24-6F0A1EA4EFE7.html#GUID-E660C335-F843-353A-BD24-6F0A1EA4EFE7">MNcdOperation</a> <a href="GUID-D58DE69C-C283-3F07-BE38-EC6032EA96DE.html#GUID-D58DE69C-C283-3F07-BE38-EC6032EA96DE">MNcdProviderObserver</a> </div>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">MNcdQuery<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-6474E1D5-0DDD-3032-9004-AF74E806C81B">IsOptional</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-207AF18E-A987-3C33-9BEE-0352A36B6157">IsSecureConnection</a>()</td></tr><tr><td align="right" class="code">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><a href="#GUID-D75193C1-AF1B-3550-B817-93506D4F9B4E">MessageBody</a>()</td></tr><tr class="bg"><td align="right" class="code">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><a href="#GUID-E42C7198-1442-33BA-B877-E09C80F768A1">MessageTitle</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-3651D378-6521-3B13-B75D-6AEF1D198702.html">RCatalogsArray</a>&lt; MNcdQueryItem &gt;</td><td><a href="#GUID-C19092FF-E009-3979-9B84-88A6E4548ACD">QueryItemsL</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED.html">TResponse</a>
				</td><td><a href="#GUID-8B99BAEA-B596-304D-97B1-25F3A457A9F3">Response</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED.html">TSemantics</a>
				</td><td><a href="#GUID-9DFE1F93-21C4-324D-B9F6-94A04DAED765">Semantics</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-CAA3DA45-07B0-3F28-BA6F-0486B4CC31D8">SetResponseL</a>(<a href="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED.html">TResponse</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-49554C1D-D775-3C2F-867C-634232AC5585">~MNcdQuery</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::AddRef()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::QueryInterfaceL()</a></td></tr><tr><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::QueryInterfaceL()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::QueryInterfaceL(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::QueryInterfaceLC()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::QueryInterfaceLC()const</a></td></tr><tr><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::Release()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase::~MCatalogsBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-AEBB988B-A1D8-3331-B8EC-26DD8390A0C0">TResponse</a> { <a href="#GUID-BF40AD50-A80A-3426-97AD-D34EC6310A7D">ENoResponse</a>, <a href="#GUID-8D6CB038-CA71-318A-85EA-EEF6206479A6">EAccepted</a>, <a href="#GUID-2166AF6E-44B9-3372-8625-ADE930A7586D">ERejected</a> }</td></tr><tr class="bg"><td align="right" valign="top">enum</td><td><a href="#GUID-D5485B6A-58F2-3E38-B836-F6116F3C26B1">TSemantics</a> { <br/><a href="#GUID-D1C33CAF-9D00-37BE-8F62-EFAE07EFE510">ESemanticsNone</a>, <a href="#GUID-2BCD527D-CDA2-3388-8721-89D7C3B41844">ESemanticsUnknown</a>, <a href="#GUID-422E4BF1-48C7-35B3-A729-92EEE1A5680A">ESemanticsInfoMessage</a>, <a href="#GUID-4556E1C9-DC60-31EC-B11B-08BA1DF4EE4B">ESemanticsErrorMessage</a>, <a href="#GUID-790817D7-C127-3C49-85A8-8C67B8D5B107">ESemanticsDisclaimer</a>, <a href="#GUID-EEB424DA-99DB-35F4-ADE3-22199B77B5F0">ESemanticsOperatorQuery</a>, <a href="#GUID-89FF7B6E-41A0-3BB8-9993-3A96DD759008">ESemanticsLanguageQuery</a>, <a href="#GUID-DD1684BE-6B36-3C9A-B9AE-E4661FF9C50B">ESemanticsRegistrationQuery</a>, <a href="#GUID-41E5B5DF-BC31-3F55-8349-4AEF8B339D9D">ESemanticsAuthenticationQuery</a>, <a href="#GUID-8647CF96-E54A-3971-A781-BDB90EF687C4">ESemanticsReviewQuery</a>, <a href="#GUID-A9B3FC51-8ADB-33D0-AA7A-8658D9D02610">ESemanticsPaymentMethodSelectionQuery</a>, <a href="#GUID-A37C93E6-8C1F-3CB4-A0A9-A90557D2D6C4">ESemanticsConfirmationQuery</a>, <a href="#GUID-CE364D99-BB7B-37E8-87AC-167DFEFC8DDE">ESemanticsAdvertisementMessage</a>, <a href="#GUID-C0E736E2-3561-3DBD-B2AF-24B0044A5993">ESemanticsPaymentQuery</a><br/> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html">MCatalogsBase:@46</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-49554C1D-D775-3C2F-867C-634232AC5585"><a name="GUID-49554C1D-D775-3C2F-867C-634232AC5585"><!-- --></a>
		<h2 class="topictitle2">~MNcdQuery()</h2>
		<table class="signature"><tr><td>~MNcdQuery</td><td>(</td><td>)</td><td>[protected, inline, virtual]</td></tr></table><div class="section"><div>
				<p>Destructor.</p>

				<p>
					<a href="GUID-4B1EA5D2-9557-36A1-BB27-7259ED141581.html#GUID-0959C59B-0A1F-3D94-ACB6-97A4D0889B4B">MCatalogsBase::~MCatalogsBase</a> </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-6474E1D5-0DDD-3032-9004-AF74E806C81B"><a name="GUID-6474E1D5-0DDD-3032-9004-AF74E806C81B"><!-- --></a>
		<h2 class="topictitle2">IsOptional()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>IsOptional</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Checks whether this query is optional.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-207AF18E-A987-3C33-9BEE-0352A36B6157"><a name="GUID-207AF18E-A987-3C33-9BEE-0352A36B6157"><!-- --></a>
		<h2 class="topictitle2">IsSecureConnection()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>IsSecureConnection</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Checks whether the query response will be sent over a secure connection.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-D75193C1-AF1B-3550-B817-93506D4F9B4E"><a name="GUID-D75193C1-AF1B-3550-B817-93506D4F9B4E"><!-- --></a>
		<h2 class="topictitle2">MessageBody()</h2>
		<table class="signature"><tr><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>MessageBody</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Getter for query message body. If available, should always be shown to the user e.g. as a separate dialog.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-E42C7198-1442-33BA-B877-E09C80F768A1"><a name="GUID-E42C7198-1442-33BA-B877-E09C80F768A1"><!-- --></a>
		<h2 class="topictitle2">MessageTitle()</h2>
		<table class="signature"><tr><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>MessageTitle</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Getter for query message title. Intented be shown with the message body if available.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-C19092FF-E009-3979-9B84-88A6E4548ACD"><a name="GUID-C19092FF-E009-3979-9B84-88A6E4548ACD"><!-- --></a>
		<h2 class="topictitle2">QueryItemsL()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-3651D378-6521-3B13-B75D-6AEF1D198702.html">RCatalogsArray</a>&lt; MNcdQueryItem &gt;</td><td>QueryItemsL</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Returns the query items.</p>

				<div class="p">
					<dl class="exception">
						
							<dt class="dlterm">Exceptions</dt>

							<dd>
								<table cellpadding="4" cellspacing="0" summary="" border="0" class="simpletableborder"><tr>
										<td valign="top">Leave</td>

										<td valign="top">
											<p>System wide error code. </p>

										</td>

									</tr>
</table>

							</dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-8B99BAEA-B596-304D-97B1-25F3A457A9F3"><a name="GUID-8B99BAEA-B596-304D-97B1-25F3A457A9F3"><!-- --></a>
		<h2 class="topictitle2">Response()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED.html">TResponse</a>
				</td><td>Response</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets the query response.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-9DFE1F93-21C4-324D-B9F6-94A04DAED765"><a name="GUID-9DFE1F93-21C4-324D-B9F6-94A04DAED765"><!-- --></a>
		<h2 class="topictitle2">Semantics()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED.html">TSemantics</a>
				</td><td>Semantics</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Semantics of the query.</p>

				<p>This can be used to act differently for semantically different querys (disclaimer, information message etc).</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-CAA3DA45-07B0-3F28-BA6F-0486B4CC31D8"><a name="GUID-CAA3DA45-07B0-3F28-BA6F-0486B4CC31D8"><!-- --></a>
		<h2 class="topictitle2">SetResponseL(TResponse)</h2>
		<table class="signature"><tr><td>void</td><td>SetResponseL</td><td>(</td><td><a href="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED.html">TResponse</a></td><td>aResponse</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Sets the query response.</p>

				<p>Query response accepts or rejects the query as a whole (including all query items). Query response must be set before the query is completed.</p>

				<div class="p">
					<div class="note"><span class="notetitle">Note:</span> 
						<p>All non-optional query items need to be set before the query can be accepted (response set to EAccepted). </p>

					</div>

					<dl class="exception">
						
							<dt class="dlterm">Exceptions</dt>

							<dd>
								<table cellpadding="4" cellspacing="0" summary="" border="0" class="simpletableborder"><tr>
										<td valign="top">KErrNotReady</td>

										<td valign="top">
											<p>Query cannot be accepted, there are non-optional query items whose value has not been set. </p>

										</td>

									</tr>
</table>

							</dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BCDC0EAB-033C-3C1F-9A7B-455CDF5C7DED.html">TResponse</a> aResponse</td><td>Either MNcdQuery::EAccepted or MNcdQuery::ERejected  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-AEBB988B-A1D8-3331-B8EC-26DD8390A0C0"><a name="GUID-AEBB988B-A1D8-3331-B8EC-26DD8390A0C0"><!-- --></a>
		<h2 class="topictitle2">Enum TResponse</h2>
		<div class="section"><div>
				<p>Query response states. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ENoResponse</td><td>
							<p>No response has been set. </p>

						 </td></tr><tr class="bg"><td valign="top">EAccepted</td><td>
							<p>Query has been accepted. </p>

						 </td></tr><tr><td valign="top">ERejected</td><td>
							<p>Query has been rejected. </p>

						 </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D5485B6A-58F2-3E38-B836-F6116F3C26B1"><a name="GUID-D5485B6A-58F2-3E38-B836-F6116F3C26B1"><!-- --></a>
		<h2 class="topictitle2">Enum TSemantics</h2>
		<div class="section"><div>
				<p>Query semantics </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ESemanticsNone</td><td>
							<p>No specific semantics specified </p>

						 </td></tr><tr class="bg"><td valign="top">ESemanticsUnknown</td><td>
							<p>Unknown/unsupported semantics specified </p>

						 </td></tr><tr><td valign="top">ESemanticsInfoMessage</td><td>
							<p>Information (just show) </p>

						 </td></tr><tr class="bg"><td valign="top">ESemanticsErrorMessage</td><td>
							<p>Error (just show) </p>

						 </td></tr><tr><td valign="top">ESemanticsDisclaimer</td><td>
							<p>Disclaimer (show, request user acceptance) </p>

						 </td></tr><tr class="bg"><td valign="top">ESemanticsOperatorQuery</td><td>
							<p>Operator selection </p>

						 </td></tr><tr><td valign="top">ESemanticsLanguageQuery</td><td>
							<p>Language selection </p>

						 </td></tr><tr class="bg"><td valign="top">ESemanticsRegistrationQuery</td><td>
							<p>
								<a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> registration </p>

						 </td></tr><tr><td valign="top">ESemanticsAuthenticationQuery</td><td>
							<p>
								<a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> authentication </p>

						 </td></tr><tr class="bg"><td valign="top">ESemanticsReviewQuery</td><td>
							<p>Review query (e.g. a review score for an item) </p>

						 </td></tr><tr><td valign="top">ESemanticsPaymentMethodSelectionQuery</td><td>
							<p>Payment method selection </p>

						 </td></tr><tr class="bg"><td valign="top">ESemanticsConfirmationQuery</td><td>
							<p>Confirmation query (yes/no) </p>

						 </td></tr><tr><td valign="top">ESemanticsAdvertisementMessage</td><td>
							<p>Advertisement (just show) </p>

						 </td></tr><tr class="bg"><td valign="top">ESemanticsPaymentQuery</td><td>
							<p>Payment input fields </p>

						 </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>