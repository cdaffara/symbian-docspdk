<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Graphics Device Interface (GDI) Component Overview"/>
<meta name="abstract" content="The GDI component provides abstract base classes that represent the graphics device and the context through which graphics and text can be drawn to it. The context maintains 'settings', such as the pen and brush colors and styles in use, and provides a rich API of drawing commands for creating graphical and textual output. The component also provides abstract device-independent APIs for a variety of graphics-related functions, such as for handling fonts, pictures and printers."/>
<meta name="description" content="The GDI component provides abstract base classes that represent the graphics device and the context through which graphics and text can be drawn to it. The context maintains 'settings', such as the pen and brush colors and styles in use, and provides a rich API of drawing commands for creating graphical and textual output. The component also provides abstract device-independent APIs for a variety of graphics-related functions, such as for handling fonts, pictures and printers."/>
<meta name="DC.Relation" scheme="URI" content="GUID-B6D4AEE9-5C17-51D9-BBDE-7CCB5218279D.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E89F034F-C807-5FF9-B06B-F7CCD2441041.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B6D4AEE9-5C17-51D9-BBDE-7CCB5218279D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1C3455BE-2082-504D-9157-88D8C72B1B80.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E68A78A-52E5-5DF7-B540-85C7194E4617.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B6D4AEE9-5C17-51D9-BBDE-7CCB5218279D.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Graphics Device Interface (GDI) Component Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2385294 id2386642 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-E89F034F-C807-5FF9-B06B-F7CCD2441041.html" title="The Graphics Device Interface (GDI) collection provides important functionality within the Graphics subsystem. The functionality includes graphics device abstraction, linear digital differential analysis, font description and information, printer devices abstraction, line breaking and text rendering.">Graphics Device Interface (GDI) Collection</a> &gt; <a href="GUID-B6D4AEE9-5C17-51D9-BBDE-7CCB5218279D.html" title="The GDI component provides abstract interfaces for drawing to devices, such as screens and printers.">GDI Component</a> &gt; </div>
<h1 class="topictitle1"> Graphics Device Interface (GDI) Component Overview</h1>
<div><p>The GDI component provides abstract base classes that represent the graphics device and the context through which graphics and text can be drawn to it. The context maintains 'settings', such as the pen and brush colors and styles in use, and provides a rich API of drawing commands for creating graphical and textual output. The component also provides abstract device-independent APIs for a variety of graphics-related functions, such as for handling fonts, pictures and printers. </p>
<p>The API's embedding functionality provides a concept of a picture object, independent of whether it is a bitmap or drawing, and support for storing and restoring pictures. In device families that support document embedding, as defined in the Application Architecture Framework API, a picture is used to draw a representation of the embedded document's content (called a glass door). Rich text, as defined in the Text And Text Attributes API, can also contain pictures. </p>
 <p>The API also provides printing to printer devices. Printing is treated as drawing to a graphics context, with the printer represented by a specialized graphics device. An application that supports printing should store its view data in (device-independent) twips, only converting into pixels when drawing to either the screen or a printer. Symbian can print to a range of printers, and has a framework for providing printer drivers. This API allows the installed drivers to be listed, and the appropriate one selected. UI variants may provide stock printing dialogs for users to initiate and control print jobs. It is normal for applications that provide printing to supply print job setup (from the Print Framework API) and their printing implementation (the band printing interface described below) to these dialogs, which can then use them as appropriate. </p>
 <div class="section"><h2 class="sectiontitle">Architectural relationships</h2> <p>The Font and Bitmaps Server provides bitmap storage and bitmap fonts. The Window Server Client Side API extends the API's classes in turn for drawing in windows (the normal case). For some applications, this polymorphism can be important, as it allows shared code for screen drawing and printing. </p>
 <p>Most drawing takes place within a control, as defined in the UI Control Framework. That API provides support functions for using graphics contexts. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Description</h2> <p><strong>Graphics device </strong> </p>
 <p>A graphics device represents the medium being drawn to. It is the provider of graphics contexts through which drawing is done. </p>
 <p>The base class for graphics devices is <a href="GUID-500FC564-35E9-3B66-A0C2-1269371A2EA0.html"><span class="apiname">CGraphicsDevice</span></a>. Concrete devices implement derived classes. </p>
 <p><strong>Bitmap graphics device </strong> </p>
 <p>This specializes a graphics device (<a href="GUID-500FC564-35E9-3B66-A0C2-1269371A2EA0.html"><span class="apiname">CGraphicsDevice</span></a>) for bitmaps graphics. </p>
 <p>The abstract interface is defined by <samp class="codeph">CBitmapDevice</samp>. The <a href="GUID-DC5E8C7D-D697-53E8-87F4-344301430E61.html" title="The Window Server client-side library provides client applications with access to the screen and input devices.">Window Server Client-Side API</a> provides one implementation, <a href="GUID-30479BE3-296E-3B4D-914D-B080ABD733E4.html"><span class="apiname">CWsScreenDevice</span></a>, for screen drawing. The <a href="GUID-EAAD1719-C02C-5705-A5C3-993E36441BE6.html">BitGDI component</a> provides the <a href="GUID-71D27EBD-26B8-3D51-9798-1EAD461BCBCF.html"><span class="apiname">CFbsBitmapDevice</span></a> implementation for drawing to in-memory bitmaps and the <a href="GUID-B229156F-2344-3F46-8542-AC65882D80DE.html"><span class="apiname">CFbsScreenDevice</span></a> implementation, which is used (rarely) to access the screen directly, without the mediation of the Window Server. </p>
 <p><strong>Graphics context </strong> </p>
 <p>A graphics context provides a large number of drawing operations, with some state settings defining how the drawing is performed. The settings are: </p>
 <ul><li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-0E356741-F861-5FB5-9559-5FDE99C46601"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-0E356741-F861-5FB5-9559-5FDE99C46601"><!-- --></a><p>a pen, for drawing shape outlines and text, with color, line size and style settings </p>
 </li>
 <li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-B8E6303A-E98B-58A0-8E4B-CF5DD8B30F0D"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-B8E6303A-E98B-58A0-8E4B-CF5DD8B30F0D"><!-- --></a><p>a brush, for filling areas, with color, style and origin settings </p>
 </li>
 <li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-F60A8400-DA9F-5AC5-9B58-17AFBE31394E"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-F60A8400-DA9F-5AC5-9B58-17AFBE31394E"><!-- --></a><p>for text, a current font and justification mode </p>
 </li>
 <li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-0205A7FA-CA6F-5861-A8B3-998629F7F273"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-0205A7FA-CA6F-5861-A8B3-998629F7F273"><!-- --></a><p>a drawing mode, which controls how colors drawn interact with the screen color </p>
 </li>
 <li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-27534CB0-7321-55AB-A5F9-91141F8A78D4"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-27534CB0-7321-55AB-A5F9-91141F8A78D4"><!-- --></a><p>a co-ordinate origin, typically the top left corner of the screen </p>
 </li>
 <li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-A8292E3D-A086-5715-848C-D6CA70403B83"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-A8292E3D-A086-5715-848C-D6CA70403B83"><!-- --></a><p>an internal drawing position, for relative drawing operations </p>
 </li>
 </ul>
 <p>Operations include drawing shapes (points, lines, polylines, arcs, rectangles, polygons, ellipses, rounded rectangles and pie slices), text, and bitmaps. </p>
 <p>The base class for graphics contexts is <a href="GUID-DAD09DCF-3123-38B4-99E9-91FB24B92138.html"><span class="apiname">CGraphicsContext</span></a>. Concrete devices provide derived classes that can provide additional operations suitable to the device. </p>
 <p><strong>Bitmap graphics context </strong> </p>
 <p>This specializes a graphics context (<a href="GUID-DAD09DCF-3123-38B4-99E9-91FB24B92138.html"><span class="apiname">CGraphicsContext</span></a>) for bitmaps graphics. It provides additional operations for clearing and copying rectangular areas, and bitmap block transfer. </p>
 <p>The abstract interface is defined by <a href="GUID-FC746873-0570-3900-AD89-42B205FDC0D3.html"><span class="apiname">CBitmapContext</span></a>. The <a href="GUID-DC5E8C7D-D697-53E8-87F4-344301430E61.html" title="The Window Server client-side library provides client applications with access to the screen and input devices.">Window Server Client-Side API</a> provides one implementation, <a href="GUID-0AEE5955-C530-35F1-A904-69183331B294.html"><span class="apiname">CWindowGc</span></a>, used for screen drawing. The <a href="GUID-EAAD1719-C02C-5705-A5C3-993E36441BE6.html">BitGDI component</a> provides another implementation, <a href="GUID-4A501086-7EFF-376D-8901-6D9B2EB4EFF2.html"><span class="apiname">CFbsBitGc</span></a> for drawing to in-memory bitmaps. </p>
 <p><strong>Basic geometry classes </strong> </p>
 <p>Point: a pair of (x,y) co-ordinates. It is provided by <a href="GUID-339EC4C5-89DC-3972-9579-6DD38D418317.html"><span class="apiname">TPoint</span></a>. </p>
 <p>Size: a width and height. It is provided by <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html"><span class="apiname">TSize</span></a>. </p>
 <p>Rectangle: described by the co-ordinates of its top-left and bottom-right corners, or by its top-left hand corner and its size. It is provided by <a href="GUID-101762DC-E498-3325-88AB-B0FF17DC62B6.html"><span class="apiname">TRect</span></a>. </p>
 <p>Region: defines an area made up of a collection of rectangles. They are handled by a family of classes derived from <a href="GUID-740A218E-76FB-31BF-BD91-BA6780AC4DEE.html"><span class="apiname">TRegion</span></a>. </p>
 <p><strong>Color </strong> </p>
 <p>A color is specified by a 24-bit color value. The system then maps these values into device-level values. The color class is <a href="GUID-F84C7F40-6DEB-39D1-B172-CB0CC3918E27.html"><span class="apiname">TRgb</span></a>. </p>
 <p><strong>Units conversion and zooming </strong> </p>
 <p>Graphics code can be written in a device-independent way by handling lengths/positions using twips (1/1440th inch), and only converting into pixels when actually drawing. Graphic devices implement a twips/pixels mapping interface for this conversion. The interface is defined by <a href="GUID-4791F2C1-C351-3824-8784-3161F5B65DCA.html"><span class="apiname">MGraphicsDeviceMap</span></a>. </p>
 <p>You might want drawing code to draw at different possible levels of magnification (zoom). In that case, the mapping is performed by a <a href="GUID-DDE4C9C0-7218-385E-B239-0DEFDE19FCCC.html"><span class="apiname">TZoomFactor</span></a>, which also implements <a href="GUID-4791F2C1-C351-3824-8784-3161F5B65DCA.html"><span class="apiname">MGraphicsDeviceMap</span></a>. </p>
 <p><strong>Font specification </strong> </p>
 <p>A font specification is used to specify a desired font in device-independent terms. This can include the typeface, font style (posture, weight, and position), and height. </p>
 <p>It is provided by <a href="GUID-052E4F6B-71C5-304C-B387-07A2F6F9900B.html"><span class="apiname">TFontSpec</span></a>. The font style is provided by <a href="GUID-E35C6B6B-CF60-3B91-A174-1B09077CBD76.html"><span class="apiname">TFontStyle</span></a>. </p>
 <p><strong>Device-independent font interface </strong> </p>
 <p>Applications obtain font objects from a graphics device by providing a font specification. The interface is device-independent, and is implemented by providers of fonts for particular devices. </p>
 <p>The interface is <a href="GUID-2A12FE3B-47F2-3016-8161-A971CA506491.html"><span class="apiname">CFont</span></a>. Obtained fonts can be cached for quick retrieval through <a href="GUID-B68B7BC8-CFBA-32F4-A0BE-8378F0C105DA.html"><span class="apiname">CFontCache</span></a>. </p>
 <p><strong>Typeface </strong> </p>
 <p>A typeface is a group of related fonts of various sizes that share the same typeface name and typeface attributes (e.g. proportional/non-proportional, serif/sans-serif). </p>
 <p>Typeface information is encapsulated in a <a href="GUID-BC6BFC0A-B748-3545-8A14-D79F98338CBA.html"><span class="apiname">TTypefaceSupport</span></a>, including a <a href="GUID-91F0F645-F565-3B8A-8FB1-FF4751AB0928.html"><span class="apiname">TTypeface</span></a> class member. </p>
 <p><strong>Typeface store </strong> </p>
 <p>A typeface store allows you to discover the typefaces provided by a graphics device. </p>
 <p>A device-independent interface is defined by <a href="GUID-0CA79D2D-827F-3A20-A10C-1CC9C576E803.html"><span class="apiname">CTypefaceStore</span></a>. The <a href="GUID-A03FB1BF-F67B-519D-A904-74CA3F8375D9.html" title="The Font and Bitmap Server collection contains only one componentâ€”the Font and Bitmap Server. As its name suggests, the Font and Bitmap Server manages fonts and bitmaps.">Font and Bitmap Server component</a> provides bitmap fonts and implements this interface for bitmap devices. </p>
 <p><strong>Picture </strong> </p>
 <p>The picture interface defines a drawable item that can be stored and restored, and possibly cropped and scaled. Derived classes implement the interface for particular types of picture. </p>
 <p>The interface is provided by <a href="GUID-829D57CD-9659-347B-AAE9-5F0A0ECD555C.html"><span class="apiname">CPicture</span></a>. The capabilities class, <a href="GUID-912E395D-934D-39B0-89D7-520BB8A04424.html"><span class="apiname">TPictureCapability</span></a>, encapsulates whether the picture supports cropping and scaling. </p>
 <p><strong>Picture header </strong> </p>
 <p>When a picture is stored, a picture header must be as well. The header identifies (through a UID) which concrete picture class should be used to restore the picture's data, and how to access the picture's data (through a swizzle). </p>
 <p>The picture header is provided by <a href="GUID-B92F8FF8-6940-389D-96F4-2271ECCF15D1.html"><span class="apiname">TPictureHeader</span></a>. </p>
 <p><strong>Picture factory </strong> </p>
 <p>The picture factory is an abstract interface for instantiating and restoring new <a href="GUID-829D57CD-9659-347B-AAE9-5F0A0ECD555C.html"><span class="apiname">CPicture</span></a> -derived objects. A concrete derived class creates pictures of one or more specific types. Supplied with information from a picture header, a picture factory creates an instance of the appropriate picture class, and tells the instance to InternalizeL the picture data from the store. </p>
 <p>The interface is provided by <a href="GUID-F991FEDD-DF42-390F-97E4-4204EB05AAB8.html"><span class="apiname">MPictureFactory</span></a>. </p>
 <p><strong>Printer model list </strong> </p>
 <p>The printer model list gives the possible printers, obtained from the installed printer drivers. To create a printer device, a particular model must be chosen. </p>
 <p>The printer model list is provided by <a href="GUID-9A34F369-5968-376F-A758-4ED310FD84E9.html"><span class="apiname">CPrinterModelList</span></a>. An entry in the list is a <a href="GUID-5283437A-25EA-330E-9B93-F4288907A6E2.html"><span class="apiname">TPrinterModelEntry</span></a>. </p>
 <p><strong>Printer device </strong> </p>
 <p>This encapsulates the printer being used as a graphics device. Applications draw to this device to print their output. It has: </p>
 <ul><li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-22E300DB-2DD2-58ED-84D9-2359B5E6C0EC"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-22E300DB-2DD2-58ED-84D9-2359B5E6C0EC"><!-- --></a><p>a page specification, giving the page orientation and the size (<a href="GUID-EAD42D35-CABC-3E21-AF87-DD87EF5BF835.html"><span class="apiname">TPageSpec</span></a>) </p>
 </li>
 <li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-892B884E-6E1D-5963-99B9-A583F4A688A6"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-892B884E-6E1D-5963-99B9-A583F4A688A6"><!-- --></a><p>a printer control, which controls the progress and termination of the print job (<a href="GUID-2E0F522C-2A42-3E2E-ADE8-43398BB86906.html"><span class="apiname">CPrinterControl</span></a>) </p>
 </li>
 <li id="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-5B89E00F-24C6-54CD-9F55-396627EE56E1"><a name="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B__GUID-5B89E00F-24C6-54CD-9F55-396627EE56E1"><!-- --></a><p>possibly, associated custom print setup dialogs (base class <a href="GUID-409C6A2C-1F51-36AA-8ADA-2B8657A111B1.html"><span class="apiname">CPrinterDriverUI</span></a>) </p>
 </li>
 </ul>
 <p>It is provided by <a href="GUID-02E9DA67-8CC0-3785-B917-A14C8AA7E714.html"><span class="apiname">CPrinterDevice</span></a>. </p>
 <p><strong>Printer port </strong> </p>
 <p>Some printer models require a port to be specified (e.g. file, serial, parallel). The base class for ports is <a href="GUID-4ED9EBF1-D6CB-3075-9E61-E4F26FD3DF15.html"><span class="apiname">CPrinterPort</span></a>. </p>
 <p><strong>Band printing interface </strong> </p>
 <p>Pages are printed in regions of a page, called bands. An application implements the band printing interface to draw the requested region to the printer device. The class is <a href="GUID-2C4DA17D-16ED-35C7-B936-1FF121C86FB2.html"><span class="apiname">MPageRegionPrinter</span></a>. The attributes of the band to be printed are passed in a <a href="GUID-32521573-2959-31BD-A7AD-F62AC649BE33.html"><span class="apiname">TBandAttributes</span></a> object. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-B6D4AEE9-5C17-51D9-BBDE-7CCB5218279D.html" title="The GDI component provides abstract interfaces for drawing to devices, such as screens and printers.">GDI Component</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-1C3455BE-2082-504D-9157-88D8C72B1B80.html" title="This section introduces some important GDI concepts, such as the graphics context (GC), pictures (which in this context are objects that can be drawn to a graphics context and can be stored and restored), and twips and zooming.">GDI Concepts</a></div>
<div><a href="GUID-1E68A78A-52E5-5DF7-B540-85C7194E4617.html" title="This section provides examples of working with the GDI API to perform various drawing operations, to store and restore pictures and to zoom.">GDI Tutorials</a></div>
<div><a href="GUID-B6D4AEE9-5C17-51D9-BBDE-7CCB5218279D.html" title="The GDI component provides abstract interfaces for drawing to devices, such as screens and printers.">GDI
                Component</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>