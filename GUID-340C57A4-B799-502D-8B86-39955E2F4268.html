<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Creating an ESK File Tutorial"/>
<meta name="abstract" content="This topic describes how to create an ESK file."/>
<meta name="description" content="This topic describes how to create an ESK file."/>
<meta name="DC.Relation" scheme="URI" content="GUID-C003FB53-05EF-529B-8892-3013A9A5B609.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B144EAB9-53AB-579B-9E12-B16518E4FC01.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-82438A0F-819C-5CDC-81DC-A8BFE3AA4A6A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2466CE3D-48B1-58A5-AA63-C76B47FF950E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C003FB53-05EF-529B-8892-3013A9A5B609.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6998404B-CC51-5337-B04F-8444C32B99C9.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-340C57A4-B799-502D-8B86-39955E2F4268"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Creating an ESK File Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-340C57A4-B799-502D-8B86-39955E2F4268"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2398162 id2398330 id2398460 id2398485 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-B144EAB9-53AB-579B-9E12-B16518E4FC01.html" title="Networking Services provides a standard framework for accessing network services and actual implementations of network protocols. The components of the Networking Services are closely related to the framework provided by the Communications Framework module.">Networking Services Guide</a> &gt; <a href="GUID-82438A0F-819C-5CDC-81DC-A8BFE3AA4A6A.html" title="This collection is a set of plugins to the Sockets Server. The plugins implement network protocols. The network protcocols can be accessed through a sockets type interface.">Network Protocols</a> &gt; <a href="GUID-2466CE3D-48B1-58A5-AA63-C76B47FF950E.html" title="IP Hook provides a standard hook interface and standard flow behaviour for the TCP/IPv4 and TCP/IPv6 protocols.">IP Hook</a> &gt; <a href="GUID-C003FB53-05EF-529B-8892-3013A9A5B609.html" title="This section describes how to write an IPHook plug-in.">Tutorials</a> &gt; </div>
<h1 class="topictitle1"> Creating
an ESK File Tutorial</h1>
<div><p>This topic describes how to create an ESK file. </p>


<div class="section" id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-C40428B0-C6A8-4FAA-8943-2FC8BC98D8D5"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-C40428B0-C6A8-4FAA-8943-2FC8BC98D8D5"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>An <samp class="codeph">ESK</samp> file is a
text file that specifies the order of the protocol modules. The socket server
loads the protocol modules. </p>
 <p>The <samp class="codeph">ESK</samp> file has two
sections. The first section specifies the name of the new hook. The second
section specifies the name of the file. The name of the file must have the
extension and cannot have the full path name. </p>
 </div>

<div class="section" id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-F7164347-5807-4A2F-A64C-0B9B1E4E90C9"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-F7164347-5807-4A2F-A64C-0B9B1E4E90C9"><!-- --></a><h2 class="sectiontitle">Location of the ESK file </h2> <p>The location of the ESK
file is based on the OS version and the kernel architecture. In the Emulator,
the ESK file is found in the location <samp class="codeph">winscw\c\private\101F7989\ESock\</samp>.
On the hardware, the ESK file is found in the location <samp class="codeph">Z:\private\101F7989\ESock\</samp>. </p>
 <p>Symbian
platform supports only EKA2 architecture and <samp class="codeph">101F7989</samp> specifies
the Secure Identifier (SID). </p>
 </div>

<div class="section" id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-22DC0270-E891-4468-B7EA-868C8F9F4457"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-22DC0270-E891-4468-B7EA-868C8F9F4457"><!-- --></a><h2 class="sectiontitle">Procedure</h2> <a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-ACE2F663-AFFE-544F-84B3-22BDA622240D"><!-- --></a><ol id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-ACE2F663-AFFE-544F-84B3-22BDA622240D">
<li id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-DED4A791-FFA9-54DC-AC5D-2286CFC4D397"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-DED4A791-FFA9-54DC-AC5D-2286CFC4D397"><!-- --></a><p>Create a new <samp class="codeph">ESK</samp> file
for every hook that binds the hook to another hook. </p>
 </li>

<li id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-B578104C-3971-59F8-B1E1-1672A1209B22"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-B578104C-3971-59F8-B1E1-1672A1209B22"><!-- --></a><p>To bind the hook to
other protocols <samp class="codeph">bindto</samp> and <samp class="codeph">bindfrom</samp> directives
must be used. The <samp class="codeph">bindto</samp> directive forward data packets from
one hook to other hooks and upper layer protocols. The <samp class="codeph">bindfrom</samp> directive
receives the data packets from IP6. </p>
 </li>

</ol>
  </div>

<div class="example"><h2 class="sectiontitle">ESK file example</h2> <p>The following code is an example
of an <samp class="codeph">ESK</samp> file: </p>
 <pre class="codeblock" id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-93D2CD8F-504F-5588-B4E6-741E0EE69BE6"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-93D2CD8F-504F-5588-B4E6-741E0EE69BE6"><!-- --></a>
[yourhook]
protocols= tcp,ip

[ip]
filename=tcpip6.prt
index=1
</pre>
 </div>

<div class="section" id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-C338C04F-C3C6-4F83-8CB4-AECD41F0515B"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-C338C04F-C3C6-4F83-8CB4-AECD41F0515B"><!-- --></a><h2 class="sectiontitle">How to Create an ESK file</h2> <p>The following code is
an example to create an <samp class="codeph">ESK</samp> file to bind a new hook called
myhook: </p>
 <pre class="codeblock" id="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-0D7F9FD9-53C6-5ED8-B2A6-C2CCEEE4F121"><a name="GUID-340C57A4-B799-502D-8B86-39955E2F4268__GUID-0D7F9FD9-53C6-5ED8-B2A6-C2CCEEE4F121"><!-- --></a>
[sockman]
protocols=myhook,ip6
    
[myhook]
filename=myhook.prt
index=2
bindfrom=ip6
</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-C003FB53-05EF-529B-8892-3013A9A5B609.html" title="This section describes how to write an IPHook plug-in.">Tutorials</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-6998404B-CC51-5337-B04F-8444C32B99C9.html" title="This topic describes how to write an inbound hook.">Writing an
Inbound                 Hook</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>