<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Open C Producer Consumer Example"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Open C Producer Consumer Example</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A"><a name="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2381193 id2381201 id2381554 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html">Generic Open Libraries</a> &gt; <a href="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html">Open Environment Core (P.I.P.S.)</a> &gt; <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">P.I.P.S. Examples</a> &gt; </div>
<h1 class="topictitle1">Open
C Producer Consumer Example</h1>
<div>
<p>OpenCProducerConsumerEx is a hybrid application that depicts solution for
producer consumer problem using Open C. This application uses main() as an
entry point for the application. It uses <samp class="codeph">libc</samp> and <samp class="codeph">libpthread</samp> </p>

<div class="section" id="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A__GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-1-12-1-14-1-1-5-1-3-1-11-1-13-1-2-2"><a name="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A__GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-1-12-1-14-1-1-5-1-3-1-11-1-13-1-2-2"><!-- --></a><h2 class="sectiontitle">Download</h2> <p>Click
on the following link to download the example: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-b9259541-c444-400a-8f6e-8daaa5381a79.zip" target="_blank">opencproducerconsumerex.zip</a></p>
<p>Click: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-b9259541-c444-400a-8f6e-8daaa5381a79.html">browse</a> to view the example code. </p>
 </div>

<div class="section" id="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A__GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-1-12-1-14-1-1-5-1-3-1-11-1-13-1-2-3"><a name="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A__GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-1-12-1-14-1-1-5-1-3-1-11-1-13-1-2-3"><!-- --></a><h2 class="sectiontitle">Design and
Implementation</h2> <p>The following sections provide information about
the implementation of the example. </p>
 <p><strong>Capabilities</strong> </p>
 The program
capability is defined in: <span class="filepath">ProducerConsumer.mmp</span> (EXE -
application):<samp class="codeph"> CAPABILITY NONE</samp>. <p><strong>Implementation details
of EXE</strong> </p>
This is a simple console based application. Main thread of
the application will create a thread named as Producer that will produce the
item and push it on to the stack. There will be N consumers which want to
consume some N(i) items from the Producer. Producer will produce N items at
a time and pushes them to the stack and totally it will produce sum(N(i))
items. The consumer thread will try to pop items from the stack and each consumer
will pop N(i) items from the stack. The application will create one thread
for each consumer. Producer and all the consumer threads will be synchronized
using a semaphore. The main thread, Producer and the consumer codes are pure
C-code. the stack used by Producer and the consumer threads is Standard C++
code. Apart from these threads, there is another thread named as Observer
that is created using Symbian platform API. Producer and the consumers will
establish a message queue with this thread and Observer will read message
from all other threads and will log them to a file wich is opened/written
using Symbian APIs. Hence, this application is a hybrid application with:
 <p>Standard C code -&gt; <span class="filepath">Consumer.c</span>, <span class="filepath">Producer.c</span>, <span class="filepath">ProducerConsumer.c</span>, <span class="filepath">CommanHeader.h</span> </p>
<p>Standard C++ code -&gt; <span class="filepath">Stack.cpp</span>,<span class="filepath">Stack.h</span>, <span class="filepath">CommanHeader.h</span></p>
<p>Symbian
platform code that uses <samp class="codeph">libc</samp> APIs and Observer.cpp.</p>
<p> 
The application has its own icon and can be launched from the UI both in the
emulator and in the device. </p>
<p><strong>API Usage</strong></p>
<p><samp class="codeph">string APIs</samp> </p>
<p><samp class="codeph">IPC
APIs (message queue and semaphore)</samp> </p>
<p> <samp class="codeph">Threading APIs
(from pthread)</samp> </p>
<p><samp class="codeph">console I/O APIs</samp>  </p>
<p><samp class="codeph">File
APIs of Symbian platform</samp></p>
<p> <samp class="codeph">Threading APIs of Symbian
platform</samp></p>
</div>

<div class="section" id="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A__GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-1-12-1-14-1-1-5-1-3-1-11-1-13-1-2-4"><a name="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A__GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-1-12-1-14-1-1-5-1-3-1-11-1-13-1-2-4"><!-- --></a><h2 class="sectiontitle">Building and
Using</h2> To build the OpenCProducerConsumerEx application, go to the
OpenCProducerConsumerEx\group directory and build the application. The definition
for the whole application can be found in the<span class="filepath"> bld.inf</span>in
the group subdirectory of the applications main directory. <p>The application
is simple console based application. It has its own default icon and can be
launched from the UI both in the emulator and in the device. The application
can be launched by: Executing OpenCProducerConsumerEx from eshell. Clicking
default icon with display text OpenCProducerConsumerEx within the install
folder launcher application. </p>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">P.I.P.S. Examples</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>