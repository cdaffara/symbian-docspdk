<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CTelephonyAudioRoutingManager"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C75C5199-DECB-3EA3-AB3F-311B72316034"/>

<title>CTelephonyAudioRoutingManager</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-C75C5199-DECB-3EA3-AB3F-311B72316034"><a name="GUID-C75C5199-DECB-3EA3-AB3F-311B72316034"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2865498 id2469233 id2470360 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CTelephonyAudioRoutingManager Class Reference</h1>
	<table class="signature"><tr><td>class CTelephonyAudioRoutingManager : public CBase</td></tr></table><div class="section"><div>
			<p>Used by Adaptation to notify server regarding changes in audio output.</p>

			<div class="p">TelephonyAudioRoutingManager.lib <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series 60 3.1 </dd>
</dl>
</div>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CTelephonyAudioRoutingManager<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-AB1D273A-1D43-343E-B505-C82E78479BD4">~CTelephonyAudioRoutingManager</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E09C6FA9-2566-3008-A402-59001645859E">AvailableOutputsChanged</a>(const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-C75C5199-DECB-3EA3-AB3F-311B72316034.html">CTelephonyAudioRoutingManager</a> *</td><td><a href="#GUID-FE6555E5-B6AC-3704-AE34-39D239B0BC59">NewL</a>(<a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp;, const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-91F83349-AED6-372C-8CDF-EB97A4EBBF7C">OutputChangeRequestCompleted</a>(<a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-11B61CAC-098F-3A9E-80AA-87699CAAC2EF">OutputChanged</a>(<a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-AE17593B-24BC-3E50-B86A-63A3A1A67C3B">CTelephonyAudioRoutingManager</a>(<a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-820DCD02-64E2-3E14-9A70-D34CE34CD66A">ConstructL</a>(const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-251551C0-FC05-3F9B-A5AC-368FD74CD7D4">StartServer</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-C770B0B8-1667-337C-A325-B903991E8A4D.html">RTelephonyAudioRoutingManagerSession</a> *</td><td><a href="#GUID-BD3C0639-E4C1-3432-9380-73498B711423">iMgrSession</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp;</td><td><a href="#GUID-611335FD-6D37-380F-956B-B254A6AD7764">iObserver</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-B0E661BC-4058-3256-B9C3-5A4FD52F6DE5.html">RThread</a>
				</td><td><a href="#GUID-AA5E152F-6188-302D-86F5-0849CBACE5ED">iServer</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-AE17593B-24BC-3E50-B86A-63A3A1A67C3B"><a name="GUID-AE17593B-24BC-3E50-B86A-63A3A1A67C3B"><!-- --></a>
		<h2 class="topictitle2">CTelephonyAudioRoutingManager(MTelephonyAudioRoutingPolicyObserver &amp;)</h2>
		<table class="signature"><tr><td>CTelephonyAudioRoutingManager</td><td>(</td><td><a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp;</td><td>aObserver</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>C++ default constructor. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp; aObserver</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AB1D273A-1D43-343E-B505-C82E78479BD4"><a name="GUID-AB1D273A-1D43-343E-B505-C82E78479BD4"><!-- --></a>
		<h2 class="topictitle2">~CTelephonyAudioRoutingManager()</h2>
		<table class="signature"><tr><td>~CTelephonyAudioRoutingManager</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Destructor. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-E09C6FA9-2566-3008-A402-59001645859E"><a name="GUID-E09C6FA9-2566-3008-A402-59001645859E"><!-- --></a>
		<h2 class="topictitle2">AvailableOutputsChanged(const TArray&lt; CTelephonyAudioRouting::TAudioOutput &gt; &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>AvailableOutputsChanged</td><td>(</td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp;</td><td>aArray</td><td>)</td><td/></tr></table><div class="section"><div>
				<div class="p">Notify the server that available audio outputs have changed. Adaptation will call this when list of available outputs changes. The array contains list of following outputs depending on whether the output is available or not:<ul><li><p>EHandset</p>
</li>
<li><p>ELoudspeaker</p>
</li>
<li><p>EWiredAudioAccessory,</p>
</li>
<li><p>EBTAudioAccessory</p>
</li>
<li><p>ETTY</p>
</li>
</ul>
</div>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>Series 60 3.1 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp; aArray</td><td>: Array of currently active outputs.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-820DCD02-64E2-3E14-9A70-D34CE34CD66A"><a name="GUID-820DCD02-64E2-3E14-9A70-D34CE34CD66A"><!-- --></a>
		<h2 class="topictitle2">ConstructL(const TArray&lt; CTelephonyAudioRouting::TAudioOutput &gt; &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp;</td><td>aArray</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>2nd Phase constructor. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp; aArray</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-FE6555E5-B6AC-3704-AE34-39D239B0BC59"><a name="GUID-FE6555E5-B6AC-3704-AE34-39D239B0BC59"><!-- --></a>
		<h2 class="topictitle2">NewL(MTelephonyAudioRoutingPolicyObserver &amp;, const TArray&lt; CTelephonyAudioRouting::TAudioOutput &gt; &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-C75C5199-DECB-3EA3-AB3F-311B72316034.html">CTelephonyAudioRoutingManager</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp;</td><td>aObserver,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp;</td><td>aArray</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Factory interface returning a new instance of <a href="GUID-C75C5199-DECB-3EA3-AB3F-311B72316034.html#GUID-C75C5199-DECB-3EA3-AB3F-311B72316034">CTelephonyAudioRoutingManager</a>.</p>

				<div class="p">Instantiate Manager with initial list of available outputs. The array contains list of following outputs depending on whether the output is available or not at the time instance creation:<ul><li><p>EHandset</p>
</li>
<li><p>ELoudspeaker</p>
</li>
<li><p>EWiredAudioAccessory,</p>
</li>
<li><p>EBTAudioAccessory</p>
</li>
<li><p>ETTY</p>
</li>
</ul>
</div>

				<p>Only one instance of Manager can exist in the system.</p>

				<p>Leaves on failure. Call to this function to create a second instance will leave with KErrAlreadyExists.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>Series 60 3.1 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp; aObserver</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-399F3F71-FF53-3D9A-9A9A-0E1B20F4B21A.html">TArray</a>&lt; <a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> &gt; &amp; aArray</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-91F83349-AED6-372C-8CDF-EB97A4EBBF7C"><a name="GUID-91F83349-AED6-372C-8CDF-EB97A4EBBF7C"><!-- --></a>
		<h2 class="topictitle2">OutputChangeRequestCompleted(CTelephonyAudioRouting::TAudioOutput, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>OutputChangeRequestCompleted</td><td>(</td><td><a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a></td><td>aOutput,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Notify the server that <a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html#GUID-5005EED2-EFA8-3164-93EA-CA2D22AA5588">MTelephonyAudioRoutingPolicyObserver::OutputChangeRequested</a> request from client has be serviced. If output requested by client is set active, aError will be KErrNone. If for any reason the output requested by the client is not set, Adaptation will call this with active output and reason for not setting the requested output.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>Series 60 3.1 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> aOutput</td><td>: Currently active output  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>KErrNone if aOutput was requested by client, else system wide error code.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-11B61CAC-098F-3A9E-80AA-87699CAAC2EF"><a name="GUID-11B61CAC-098F-3A9E-80AA-87699CAAC2EF"><!-- --></a>
		<h2 class="topictitle2">OutputChanged(CTelephonyAudioRouting::TAudioOutput)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>OutputChanged</td><td>(</td><td><a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a></td><td>aOutput</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Notify the server that active output has changed.</p>

				<div class="p">This function will be called by Adaptation only if:<ul><li><p>EBTAudioAccessory - In-call audio is routed from the device to BT audio accessory by the user via long key press. (Audio is automatically routed by Audio subsystem).</p>
</li>
<li><p>ENone - In call audio is currently routed to BT audio accessory and Audio link between device and BT audio accessory is destroyed by the user via long key press. Audio is not routed anywhere and BT audio accessory is still a valid output.</p>
</li>
</ul>
</div>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>Series 60 3.1 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5A257E6C-FA09-3EAA-B8C4-76FCA2C071CE.html">CTelephonyAudioRouting::TAudioOutput</a> aOutput</td><td>: ENone or EBTAudioAccessory.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-251551C0-FC05-3F9B-A5AC-368FD74CD7D4"><a name="GUID-251551C0-FC05-3F9B-A5AC-368FD74CD7D4"><!-- --></a>
		<h2 class="topictitle2">StartServer()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>StartServer</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Start the TelephonyAudioRoutingServer </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-BD3C0639-E4C1-3432-9380-73498B711423"><a name="GUID-BD3C0639-E4C1-3432-9380-73498B711423"><!-- --></a>
		<h2 class="topictitle2">
					RTelephonyAudioRoutingManagerSession * iMgrSession</h2>
		<table class="signature"><tr><td>
					<a href="GUID-C770B0B8-1667-337C-A325-B903991E8A4D.html">RTelephonyAudioRoutingManagerSession</a> *</td><td>iMgrSession</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-611335FD-6D37-380F-956B-B254A6AD7764"><a name="GUID-611335FD-6D37-380F-956B-B254A6AD7764"><!-- --></a>
		<h2 class="topictitle2">
					MTelephonyAudioRoutingPolicyObserver &amp; iObserver</h2>
		<table class="signature"><tr><td>
					<a href="GUID-5050A88B-F506-3FEC-A5DE-E59DD8DCFBA9.html">MTelephonyAudioRoutingPolicyObserver</a> &amp;</td><td>iObserver</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-AA5E152F-6188-302D-86F5-0849CBACE5ED"><a name="GUID-AA5E152F-6188-302D-86F5-0849CBACE5ED"><!-- --></a>
		<h2 class="topictitle2">
					RThread
				 iServer</h2>
		<table class="signature"><tr><td>
					<a href="GUID-B0E661BC-4058-3256-B9C3-5A4FD52F6DE5.html">RThread</a>
				</td><td>iServer</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>