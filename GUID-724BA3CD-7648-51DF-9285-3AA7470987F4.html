<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Optimising Repository Access"/>
<meta name="abstract" content="This topic describes Central Repository access. The optimisation can improve the performance of the applications using Central Repository."/>
<meta name="description" content="This topic describes Central Repository access. The optimisation can improve the performance of the applications using Central Repository."/>
<meta name="DC.Relation" scheme="URI" content="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1C683226-C142-5C7B-BD20-060058352B08.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E87018CD-01B4-5886-87FC-CD25EE90587D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-998DCA78-2488-5D6D-B5B3-D86C52F32823.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Optimising Repository Access</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4"><a name="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860178 id2860209 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html" title="The persistent storage collection.">Persistent Storage</a> &gt; <a href="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html" title="Provides persistance for application data, such as default filenames, locale settings and user preferences, between sessions.">Central Repository</a> &gt; </div>
<h1 class="topictitle1">Optimising Repository Access</h1>
<div><p>This topic describes Central Repository access. The optimisation can improve the performance of the applications using Central Repository. </p>
<div class="section"><h2 class="sectiontitle">Caching</h2> <p>The performance of applications which use the Central Repository can be improved by fine tuning the use of cache memory. The Central Repository supports caching by default but you can achieve further improvement by modifying the settings of the cache configuration file. This file is called cenrep.ini and is located either on the system drive or on the Z drive. Its contents look like this. </p>
 <pre class="codeblock" id="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-889AFB4B-7F70-5909-85D2-45C12F1A1B2F"><a name="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-889AFB4B-7F70-5909-85D2-45C12F1A1B2F"><!-- --></a>
[CoarseGrainedCache]
size= 100000
timeout= 500000
</pre>
 <p>The two parameters which can be configured are: </p>
 <ul><li id="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-936A5320-1B6B-58E8-82FD-739AF20FE718"><a name="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-936A5320-1B6B-58E8-82FD-739AF20FE718"><!-- --></a><p> <samp class="codeph">size</samp> (the number of bytes reserved for caching) </p>
 </li>
 <li id="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-E28F2AE7-7B2B-58F9-99CC-E55674A5027B"><a name="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-E28F2AE7-7B2B-58F9-99CC-E55674A5027B"><!-- --></a><p> <samp class="codeph">timeout</samp> (the time in microseconds to hold repositories in the cache) </p>
 </li>
 </ul>
 <p>The timeout parameter controls a countdown during which a repository is held in the cache. The countdown begins when a repository ceases to be in any session of a CRepository object, unless you specify a notify-only client optimisation as discussed below. It ends when the value timeout is reached: the repository is then evicted from the cache. </p>
 <p>The purpose of configuring centrep.ini is to improve performance of the Central Repository as a whole, rather than of applications individually. The optimum values of the parameters must be established by trial and error. </p>
 <p><strong>Notify-only client optimisations </strong> </p>
 <p>The behaviour of the timeout can be modified by specifying a notify-only client optimisation. This means that the countdown during which a repository is cached begins after the last access operation of any type on that repository, even if the session is still in progress. </p>
 <p>A notify-only client optimisation is specified by including the system-wide macro </p>
 <pre class="codeblock" id="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-9B5DDD2F-D9BE-58A1-91B9-D3E74B1F75A6"><a name="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-9B5DDD2F-D9BE-58A1-91B9-D3E74B1F75A6"><!-- --></a>#define SYMBIAN_CENTREP_NOC</pre>
 <p><strong>Disabling caching </strong> </p>
 <p>You can disable caching altogether by setting a cache size of 0 in centrep.ini </p>
 <pre class="codeblock" id="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-6E8A8BFF-2A6D-52B7-B833-CDC5261D0983"><a name="GUID-724BA3CD-7648-51DF-9285-3AA7470987F4__GUID-6E8A8BFF-2A6D-52B7-B833-CDC5261D0983"><!-- --></a>
[CoarseGrainedCache]
size= 0
timeout= 0
</pre>
 </div>
 <div class="section"><h2 class="sectiontitle">Backup</h2> <p>To provide for backup of a repository you must identify an owner application responsible for backup. This must have a suitable backup registration file (as used for all backup). By default, repository data is not backed up: you must also write the repository initialisation file to enable backup. In the initialisation file you specify the owner application by SID in the owner section and use the metadata values to specify the settings to be backed up. A setting is backed up if bit 25 of its metadata value is set. You can set this bit for the whole repository in the defaultMeta section or individually for settings and groups of settings using the metadata fields of the main section. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html" title="Provides persistance for application data, such as default filenames, locale settings and user preferences, between sessions.">Central Repository</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-1C683226-C142-5C7B-BD20-060058352B08.html">Central Repository Guide</a></div>
<div><a href="GUID-E87018CD-01B4-5886-87FC-CD25EE90587D.html">Central Repository
                Transactions</a></div>
<div><a href="GUID-998DCA78-2488-5D6D-B5B3-D86C52F32823.html">Modifications to
                Keyspaces</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>