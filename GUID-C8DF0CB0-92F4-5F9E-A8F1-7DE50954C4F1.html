<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Debugging the PRM"/>
<meta name="abstract" content="This document describes how to debug the PRM using internal macros."/>
<meta name="description" content="This document describes how to debug the PRM using internal macros."/>
<meta name="DC.Relation" scheme="URI" content="GUID-4804B6E0-9199-5F3E-984A-4B00B3984E45.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3773A78D-F491-52EB-AA1D-201636497F28.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4804B6E0-9199-5F3E-984A-4B00B3984E45.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2ECF13A1-9D56-5740-A09F-8267E6A45DD9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B1CE51BC-B452-5FC9-9C00-35447AF40671.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-66FD040B-133E-57CF-80DD-9369F62709C6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E7F91A65-235D-589C-9A8C-0B207D19A24B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-66E5F769-1156-54CA-94BC-8912159A1240.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Debugging the PRM</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1"><a name="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2399872 id2400380 id2400389 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html" title="EKA2 is the principal Hardware and Kernel Services module. It manages the CPU and memory resources of a phone, and provides an architecture for device drivers to manage other hardware resources.">Kernel Architecture (EKA2)</a> &gt; <a href="GUID-3773A78D-F491-52EB-AA1D-201636497F28.html" title="This topic describes how to implement a power controller in a base port.">Power Management Tutorials</a> &gt; <a href="GUID-4804B6E0-9199-5F3E-984A-4B00B3984E45.html" title="This tutorial describes the steps needed to successfully port the PRM for a particular device.">Porting the Power Resource Manager</a> &gt; </div>
<h1 class="topictitle1">Debugging
the PRM</h1>
<div><p>This document describes how to debug the PRM using internal macros.</p>

<div class="section" id="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-CA939F43-E904-4285-9CBA-BB0D9767555A"><a name="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-CA939F43-E904-4285-9CBA-BB0D9767555A"><!-- --></a><h2 class="sectiontitle">Purpose</h2> <p>Use the provided KTrace and BTrace macros
to debug your PRM implementation. </p>
 <p><strong>Introduction</strong> </p>
 <p>These
kernel services allow you to generate and capture trace information in a manner
designed to minimise the impact on a running system. </p>
 </div>

<div class="section" id="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-86D96673-D319-4791-9256-E3C79B8CCA26"><a name="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-86D96673-D319-4791-9256-E3C79B8CCA26"><!-- --></a><h2 class="sectiontitle">Using KTrace </h2> <p>Use the <a href="GUID-C4D86928-8806-3FF4-AE84-F2846B846B73.html"><span class="apiname">KTRACE</span></a> macro
with <samp class="codeph">KRESMANAGER</samp> for debug print messages in the code. </p>
 <pre class="codeblock" id="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-D193E79B-5908-5419-AAD1-69C1FA223B08"><a name="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-D193E79B-5908-5419-AAD1-69C1FA223B08"><!-- --></a>__KTRACE_OPT(KRESMANAGER,Kern::Printf("&gt;DH4PowerResourceController::DoInitController\n‚Äù))</pre>
 </div>

<div class="section" id="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-4476C500-FAB6-5A2F-B3E0-F85A171A59B3"><a name="GUID-C8DF0CB0-92F4-5F9E-A8F1-7DE50954C4F1__GUID-4476C500-FAB6-5A2F-B3E0-F85A171A59B3"><!-- --></a><h2 class="sectiontitle">Using the kernel
trace tool</h2> <p>The <samp class="codeph">BTRACE</samp> category, <a href="GUID-24FEA283-108A-3693-8DA6-C2A85CB11DB0.html#GUID-24FEA283-108A-3693-8DA6-C2A85CB11DB0__GUID-3E994A9D-6849-31FB-80B6-088ED5E0C7B9"><span class="apiname">TCategory::EResourceManager</span></a>,
and a number of sub categories are defined and used to trace the progress
of all operations on the PRM. All tracing sub categories are wrapped with
a macro definition. Implement macro definitions in <span class="filepath">e32\include\drivers\rescontrol_trace.h</span> to
replace <samp class="codeph">BTrace</samp> with other tracing methods. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-4804B6E0-9199-5F3E-984A-4B00B3984E45.html" title="This tutorial describes the steps needed to successfully port the PRM for a particular device.">Porting the Power Resource Manager</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-2ECF13A1-9D56-5740-A09F-8267E6A45DD9.html" title="This tutorial describes how to port the Platform Specific Layer (PSL) of the Power Resource Manager (PRM) and how to modify clients, such as device drivers, to use the PRM framework.">Porting the
Power Resource Manager</a></div>
<div><a href="GUID-B1CE51BC-B452-5FC9-9C00-35447AF40671.html" title="This document describes how to write and use power resources.">Implement
the controllable power resources</a></div>
<div><a href="GUID-66FD040B-133E-57CF-80DD-9369F62709C6.html" title="This document describes how to implement the Platform Specific Layer for the Power Resource Manager.">Implement
the PSL for the target</a></div>
<div><a href="GUID-E7F91A65-235D-589C-9A8C-0B207D19A24B.html" title="This document describes how to port client drivers to use the PRM.">Port client
drivers to use the PRM</a></div>
<div><a href="GUID-66E5F769-1156-54CA-94BC-8912159A1240.html" title="This document describes using the test suite for the PRM.">Testing the
PRM PSL</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>