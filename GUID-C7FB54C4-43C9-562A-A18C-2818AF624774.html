<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Permanent File Store"/>
<meta name="abstract" content="A permanent file store implements most of the operations defined by the store abstract framework."/>
<meta name="description" content="A permanent file store implements most of the operations defined by the store abstract framework."/>
<meta name="DC.Relation" scheme="URI" content="GUID-C9D8D913-C65F-5A69-A606-30F59BFB38E2.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3FAB9077-3EC3-5539-B391-D11456362513.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C9D8D913-C65F-5A69-A606-30F59BFB38E2.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0414BDC-06FD-5E3C-93F7-DD3467CAA75E.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Permanent File Store</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860178 id2533897 id2533912 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html" title="The persistent storage collection.">Persistent Storage</a> &gt; <a href="GUID-3FAB9077-3EC3-5539-B391-D11456362513.html" title="Store provides structured data storage.">Store</a> &gt; <a href="GUID-C9D8D913-C65F-5A69-A606-30F59BFB38E2.html" title="Provides permanent, direct and dictionary file stores as well as file stream stores.">File Stores</a> &gt; </div>
<h1 class="topictitle1">Permanent
File Store</h1>
<div><p>A permanent file store implements most of the operations defined
by the store abstract framework. </p>

<p>Streams in a permanent file store can be:</p>

<ul>
<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-5D731E0A-C4B7-56CE-AC27-25118A58506A"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-5D731E0A-C4B7-56CE-AC27-25118A58506A"><!-- --></a><p>overwritten</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-13FF892F-8241-59A6-A39F-D0F2705F79A0"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-13FF892F-8241-59A6-A39F-D0F2705F79A0"><!-- --></a><p>replaced</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-A8E9E699-6017-58FA-BC54-155B7838A172"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-A8E9E699-6017-58FA-BC54-155B7838A172"><!-- --></a><p>deleted</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-95C70244-4BE3-5E20-83FA-1B1DCFB03F49"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-95C70244-4BE3-5E20-83FA-1B1DCFB03F49"><!-- --></a><p>created in advance of
being written to.</p>
 </li>

</ul>

<p>A permanent file store is useful for the type of application which treats
the data in the store as its prime copy. Typically, the object network comprising
the application’s data is structured so that sections of data can be loaded
in, and, if changed, written back to the store. Memory is used as a workplace
for changing data. Such an application never replaces the entire store. This
approach requires a sophisticated structure and greater sophistication within
the application.</p>

<p>Typically, a permanent file store is used by an application, such as a
database, which maintains all its data in a file, but occasionally edits some
entries in that database.</p>

<p> In this paradigm:</p>

<ul>
<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-56E7EE36-B74F-57B4-9CD6-FCA87D987B89"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-56E7EE36-B74F-57B4-9CD6-FCA87D987B89"><!-- --></a><p>the database file is
initially created</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-4BA53AA2-0304-581A-AD48-2411C9986F69"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-4BA53AA2-0304-581A-AD48-2411C9986F69"><!-- --></a><p>when an entry is created,
it as added to the database</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-70E72107-4ADE-5BF0-8199-C7B904CA72EB"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-70E72107-4ADE-5BF0-8199-C7B904CA72EB"><!-- --></a><p>the program maintains
an internal, non-persistent, copy of the indexes in the database file</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-EB9EAF48-6D8A-5D6F-BC63-C2036FAC61D4"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-EB9EAF48-6D8A-5D6F-BC63-C2036FAC61D4"><!-- --></a><p>when an entry is selected
for display or editing, its data is retrieved from the database; all such
entries’ data are maintained in an internal, non-persistent, form</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-C455382A-F50F-5C92-B59B-A5E5FC966C93"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-C455382A-F50F-5C92-B59B-A5E5FC966C93"><!-- --></a><p>when an entry is edited
and saved, just that single entry is replaced in the database</p>
 </li>

<li id="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-3BE61AA6-BA20-577B-88AD-8798A12B9F52"><a name="GUID-C7FB54C4-43C9-562A-A18C-2818AF624774__GUID-3BE61AA6-BA20-577B-88AD-8798A12B9F52"><!-- --></a><p>when the application
exits, there is nothing to do to the database, since there should be no data
that was not already saved (except, perhaps, the current entry if it was being
edited)</p>
 </li>

</ul>

<p>Such an application never replaces the entire store. The database file
itself is permanent; it is not erased when an entry is saved. Because of this,
much more care is needed when maintaining this type of store. All links within
the database must be maintained without corruption, and no stream subnetworks
in the database should become inaccessible, otherwise space is wasted. The
order in which streams are written to a permanent file store is not important
as streams can be changed and rewritten. </p>

<p>Overwriting an existing stream does not change its length. However, attempting
to write beyond the end of the stream fails and results in a leave. Replacing
a stream can result in a stream which is longer or shorter than the original.</p>

<p>Note the difference between a persistent store (one that can be closed
and re-opened), and a permanent file store (it is not replaced wholesale;
rather, its individual entries are edited, inserted and deleted, but the store
itself is permanent). A permanent file store is, of course, persistent.</p>

<p>When the content of a permanent file store is naturally represented by
a relational database, it is usually much more convenient to manipulate it
using the relational database manager.</p>

<p>Permanent file stores are encapsulated by the <samp class="codeph">CPermanentFileStore</samp> class.</p>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-C9D8D913-C65F-5A69-A606-30F59BFB38E2.html" title="Provides permanent, direct and dictionary file stores as well as file stream stores.">File Stores</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-C0414BDC-06FD-5E3C-93F7-DD3467CAA75E.html" title="DBMS is the proprietary database management system developed for Symbian platform. Use this section to learn more about DBMS database engine and server.">DBMS</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>