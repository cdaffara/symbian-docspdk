<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="LBS System Clock Synchronisation Overview"/>
<meta name="abstract" content="This topic describes how LBS synchronises the system clock with time data received as part of the GPS signal."/>
<meta name="description" content="This topic describes how LBS synchronises the system clock with time data received as part of the GPS signal."/>
<meta name="DC.Relation" scheme="URI" content="GUID-9B31F685-0E00-5614-AC6D-9B1FF00497D6.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-55F5F029-6A00-5894-8892-90836DE4BA40.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-45980E0C-4DA4-5AC1-8721-490442DA7F3C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9B31F685-0E00-5614-AC6D-9B1FF00497D6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F0BDE1EC-5042-5328-9290-22BB2189F6B4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A5510456-A5EB-59EC-B146-74D58A118875"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>LBS System Clock Synchronisation Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-A5510456-A5EB-59EC-B146-74D58A118875"><a name="GUID-A5510456-A5EB-59EC-B146-74D58A118875"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2402946 id2402960 id2403132 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-55F5F029-6A00-5894-8892-90836DE4BA40.html" title="The Location Management collection contains components to manage location requests and to interface with a network. It also contains several common core LBS libraries that are used by many components of the LBS subsystem.">Location Management</a> &gt; <a href="GUID-45980E0C-4DA4-5AC1-8721-490442DA7F3C.html" title="Location Admin is an LBS component that contains several common LBS libraries grouped for convenience in a single system component.">Location Admin</a> &gt; <a href="GUID-9B31F685-0E00-5614-AC6D-9B1FF00497D6.html">LBS System Clock Synchronisation</a> &gt; </div>
<h1 class="topictitle1">LBS
System Clock Synchronisation Overview</h1>
<div><p>This topic describes how LBS synchronises the system clock with
time data received as part of the GPS signal. </p>

<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>The GPS signal contains accurate time
data. LBS can use this data to synchronise the system clock with GPS. The
system clock is synchronised with GPS at regular intervals if the difference
between GPS time and the system clock time exceeds a threshold time difference. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Key concepts</h2> <dl>

<dt class="dlterm">System clock</dt>

<dd><p>The mobile device clock that keeps system time. </p>
 </dd>



<dt class="dlterm">Set clock plug-in DLL</dt>

<dd><p>An optional licensee ECom plug-in DLL used by LBS to set the system
clock. Symbian provides a default class that sets the system clock by calling <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D__GUID-145F52E6-2A29-3FF1-8AD1-7009BE0074D7"><span class="apiname">User::SetUTCTime()</span></a>. </p>
 <p>It
is only necessary to implement a set clock plug-in DLL if a licensee requires
to set the system clock by some means other than by calling <samp class="codeph">User::SetUTCTime()</samp>. </p>
 <p>Whether
LBS uses a plug-in DLL or the Symbian default class is configured through
the <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS administration
service</a>. </p>
 </dd>



<dt class="dlterm">UTC</dt>

<dd><p>Co-ordinated Universal Time. A worldwide time standard. UTC is derived
from the GPS signal and is the time standard used to set the system clock. </p>
 </dd>


</dl>
 </div>

<div class="section"><h2 class="sectiontitle">API Summary</h2> <p>There are two separate APIs involved
with LBS system clock adjustment: </p>
 <ul>
<li id="GUID-A5510456-A5EB-59EC-B146-74D58A118875__GUID-C8F1C9F9-E1D8-5F93-B6EC-6FDA8D81D5E8"><a name="GUID-A5510456-A5EB-59EC-B146-74D58A118875__GUID-C8F1C9F9-E1D8-5F93-B6EC-6FDA8D81D5E8"><!-- --></a><p>The LBS Set Clock Plug-in
Interface </p>
 <p>Licensees can derive from the interface to create an implementation
class. The class is packaged as an ECom plug-in DLL which is loaded at startup
and used to set the system clock. </p>
 </li>

<li id="GUID-A5510456-A5EB-59EC-B146-74D58A118875__GUID-ED0758AB-DC45-5EE7-97D3-FFAA9CB1CE3E"><a name="GUID-A5510456-A5EB-59EC-B146-74D58A118875__GUID-ED0758AB-DC45-5EE7-97D3-FFAA9CB1CE3E"><!-- --></a><p>Automatic clock synchronisation </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">The LBS Set Clock Plug-in Interface</h2> <p>LBS defines
an interface class that is used to create a set clock plug-in DLL. </p>
 <p>The
interface <a href="GUID-E5ED4ACA-5EC4-3AE2-862A-AC204DCA83B5.html"><span class="apiname">CGPSSetClockBase</span></a> is shown in figure 2. </p>
 <div class="fignone" id="GUID-A5510456-A5EB-59EC-B146-74D58A118875__GUID-EEA7FD08-77F2-563F-BD94-DC74DC1A96DE"><a name="GUID-A5510456-A5EB-59EC-B146-74D58A118875__GUID-EEA7FD08-77F2-563F-BD94-DC74DC1A96DE"><!-- --></a><span class="figcap">Figure 1.               Figure 2. CGPSSetClockBase is the interface for LBS set
clock plug-in              classes.            </span>

<img src="GUID-9BA295BC-627C-5B82-B669-F4F7B55E3F82_d0e451314_href.png"/>
</div>
 <p>To create a set clock plug-in, licensees create a class that derives
from <a href="GUID-E5ED4ACA-5EC4-3AE2-862A-AC204DCA83B5.html"><span class="apiname">CGPSSetClockBase</span></a> and package it as an ECom DLL. </p>
 <p>See <a href="GUID-F0BDE1EC-5042-5328-9290-22BB2189F6B4.html" title="This topic describes how to implement a LBS set clock plug-in class.">How to implement a LBS set
clock plug-in DLL </a> for more information. </p>
 </div>

<div class="section"><h2 class="sectiontitle"> Automatic clock synchronisation</h2> <p>LBS can perform
automatic synchronisation of the system clock. LBS administration settings
configure automatic clock synchronisation. The settings define the frequency
of automatic clock synchronisation and by how much the system clock and UTC
can differ before the clock is synchronised. </p>
 </div>

<div class="section"><h2 class="sectiontitle">LBS system clock settings</h2> <p><a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS
administration</a> describes how to configure LBS system clock synchronisation
settings using either the LBS Administration API or a repository initialisation
file. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-9B31F685-0E00-5614-AC6D-9B1FF00497D6.html">LBS System Clock Synchronisation</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-F0BDE1EC-5042-5328-9290-22BB2189F6B4.html" title="This topic describes how to implement a LBS set clock plug-in class.">How to Implement
an LBS Set Clock Plug-in DLL</a></div>
<div><a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS Administration</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>