<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Network Privacy API"/>
<meta name="abstract" content="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module."/>
<meta name="description" content="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module."/>
<meta name="DC.Relation" scheme="URI" content="GUID-B27F6C1D-6815-5DF5-B3F8-449260030B3D.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-01C03839-C88B-5FC3-9E0E-686415888B63.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B27F6C1D-6815-5DF5-B3F8-449260030B3D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-746866CE-809A-5598-BA60-2947763E5EE9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6526C440-34EA-50C2-B550-2C655DCC2ED8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0BF06E5D-BEEF-5E15-894E-FA605FA12E33.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Network Privacy API</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2403195 id2403210 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-01C03839-C88B-5FC3-9E0E-686415888B63.html" title="The Network Adaptation collection contains Protocol Module ECOM plug-ins that can be used by the Network Gateway to support location and privacy requests.">Network Adaptation</a> &gt; <a href="GUID-B27F6C1D-6815-5DF5-B3F8-449260030B3D.html" title="The Privacy Protocol Module (PPM) is an optional LBS component that allows the LBS subsystem to process privacy requests from the device domestic OS. The privacy request may have been received from the network or from an installed application.">Privacy Protocol Module</a> &gt; </div>
<h1 class="topictitle1">Network Privacy API</h1>
<div><p>The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the <samp class="codeph">Privacy
        Protocol Module</samp>. </p>
<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>The Network Privacy API supports device creators who wish to use the Symbian LBS subsystem to handle only privacy requests but not to perform position fix calculations. </p>
 <p>The Network Privacy API is intended to be used to process privacy requests received from the network. To process multiple privacy requests from local applications, it is recommended that the Privacy Request API be used. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Description</h2> <p>The Network Privacy API is implemented on the client-side by the Network Privacy Client DLL. This DLL is the interface to the Privacy Protocol Module. </p>
 <p>The Network Privacy API does not guarantee performance in low memory conditions for which a privacy request may fail. For this reason the Privacy Protocol Module must not be used when there is a need to support emergency services privacy requests from the network (MT-LR or NI-LR). A Protocol Module that handles location requests must be used if emergency services requests must be supported. </p>
 <p>Figure 1 shows the Network Privacy Client DLL in the context of the LBS subsystem. The most important points to note are: </p>
 <ul><li id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-7C4EBECC-F64C-5A5C-908C-F3F3A452B43B"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-7C4EBECC-F64C-5A5C-908C-F3F3A452B43B"><!-- --></a><p>The Network Privacy Client DLL exposes the Network Privacy API which is described in this document. The DLL is used to send privacy requests into the Symbian LBS subsystem from a component running in the licensee's domestic OS (outside of the Symbian platform). </p>
 </li>
 <li id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-3AE2940E-C6B2-5512-99DB-0F9EFC42D2C0"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-3AE2940E-C6B2-5512-99DB-0F9EFC42D2C0"><!-- --></a><p>The Network Privacy Client DLL connects to a server implementation in the Privacy Protocol Module. </p>
 </li>
 <li id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-1B984C37-C187-5927-9660-1C5C7F232F0C"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-1B984C37-C187-5927-9660-1C5C7F232F0C"><!-- --></a><p>A device creator does not create their own implementation of the Network Privacy Client DLL or the Privacy Protocol Module. A device creator chooses to build a ROM containing the Privacy Protocol Module and the Network Privacy Client DLL. See <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">LBS Integration and Configuration Guide</a> for more information about building and configuring the LBS subsystem. </p>
 </li>
 <li id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-AA6B5EB8-5F24-5747-9311-0A79DC13E2CD"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-AA6B5EB8-5F24-5747-9311-0A79DC13E2CD"><!-- --></a><p>To use the Network Privacy API a device creator must implement some kind of client process in their domestic operating system which uses the Network Privacy API. </p>
 <p>The Network Privacy API client process must implement the API observer interface to receive privacy responses. The client process, and not Symbian LBS is responsible for sending these privacy responses to the network. </p>
 </li>
 </ul>
 <div class="fignone" id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-707F7508-95E6-5700-A39C-3DE5DF745F51"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-707F7508-95E6-5700-A39C-3DE5DF745F51"><!-- --></a><span class="figcap">Figure 1. 
             Figure 1. The Network Privacy API and the Privacy Protocol Module. 
          </span> <img src="GUID-1B07A953-D652-59A7-8863-32875955B837_d0e453152_href.png"/></div>
 </div>
 <div class="section"></div>
 <div class="example"><h2 class="sectiontitle">Network Privacy Client DLL responsibilities</h2> <p>The Network Privacy Client DLL communicates with the Privacy Protocol Module via standard Symbian client-server IPC calls. The DLL performs <em>two</em> distinct functions: </p>
 <a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-C6EC3041-31A5-53CC-BF07-60D3BA52E20D"><!-- --></a><ol id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-C6EC3041-31A5-53CC-BF07-60D3BA52E20D"><li id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-F1E9C4FD-C3C0-5F34-9943-786F119EF8FB"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-F1E9C4FD-C3C0-5F34-9943-786F119EF8FB"><!-- --></a><p>It starts up the LBS subsystem if it is not already running when the first privacy request is received via the Network Privacy API. <a href="GUID-746866CE-809A-5598-BA60-2947763E5EE9.html" title="This section describes the dynamic behaviour of the Network Privacy API using a set of sequence diagrams.">Network Privacy API reference</a> contains sequences describe startup and shutdown behaviour. </p>
 </li>
 <li id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-06FD4BCA-BA94-5AFD-9399-817EBE6AC040"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-06FD4BCA-BA94-5AFD-9399-817EBE6AC040"><!-- --></a><p>It packages the Network Privacy API, which forwards privacy requests from a licensee client process into the Symbian LBS subsystem. Privacy responses returned from a Privacy Controller or Privacy Notifiers are returned to the client. </p>
 </li>
 </ol>
 </div>
 <div class="section"><h2 class="sectiontitle">Network Privacy API description</h2> <p>Figure 2 shows the classes of the Network Privacy API. </p>
 <div class="fignone" id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-77AA24D8-875F-5447-B9F6-BFC5A0F8A7A3"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-77AA24D8-875F-5447-B9F6-BFC5A0F8A7A3"><!-- --></a><span class="figcap">Figure 2. 
             Figure 2. Network Privacy API classes 
          </span> <img src="GUID-EFC72FB6-5FA0-537C-978D-50FC67A6F857_d0e453195_href.png"/></div>
 <p>The following table lists the classes and types that define the Network Privacy API. Further details can be found by following the links to other sections of this document and to Symbian Developer Library reference documentation. </p>
 <p>The Network Privacy API has <samp class="codeph">publishedPartner</samp> interface access. </p>
 
<div class="tablenoborder"><a name="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-2BB6D675-FE67-57CA-95E8-424DA0C2196A"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726__GUID-2BB6D675-FE67-57CA-95E8-424DA0C2196A" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d1646082e140">Class name</th>
 <th class="cellrowborder" valign="top" id="d1646082e143">Description</th>
 <th class="cellrowborder" valign="top" id="d1646082e146">Header file</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d1646082e140 "><p> <a href="GUID-F5E959D8-3457-3385-9978-96FDD917D767.html"><span class="apiname">CPosNetworkPrivacy</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e143 "><p>Main interface class of the Network Privacy API </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e146 "><p> <span class="filepath">EPos_CPosNetworkPrivacy.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1646082e140 "><p> <a href="GUID-9A3406EF-3FEF-3F6F-9CB1-DFC1D09782B6.html"><span class="apiname">MPosVerificationObserver</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e143 "><p>Observer class to be implemented by an API client </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e146 "><p> <span class="filepath">EPos_MPosVerificationObserver.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1646082e140 "><p> <a href="GUID-B747E435-087F-3130-8847-25B83067F404.html"><span class="apiname">CPosNetworkPrivacyRequestInfo</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e143 "><p>Abstract base class for privacy request information </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e146 "><p> <span class="filepath">EPos_CPosNetworkPrivacyRequestInfo.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1646082e140 "><p> <a href="GUID-32DA9EFC-D11D-3A56-A70E-045F7F0E849A.html"><span class="apiname">CPosGSMPrivacyRequestInfo</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e143 "><p>Request info class for requests from a GSM network </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e146 "><p> <span class="filepath">EPos_CPosGSMPrivacyRequestInfo.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1646082e140 "><p> <a href="GUID-1C0102CD-2F1C-3E8C-9357-06CFED618936.html"><span class="apiname">CPosSUPLPrivacyRequestInfo</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e143 "><p>Request info class for requests received via SUPL </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e146 "><p> <span class="filepath">EPos_CPosSUPLPrivacyRequestInfo.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1646082e140 "><p> <a href="GUID-0B022E16-132F-3B4F-B598-C5B83BA91E39.html"><span class="apiname">TPosNetworkPrivacyPanic</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e143 "><p>Panic codes used by the API </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1646082e146 "><p> <span class="filepath">EPos_NetworkPrivacyPanic.h</span>  </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 <div class="section"><h2 class="sectiontitle">Libraries</h2> <p>The Network Privacy API is packaged in <span class="filepath">eposnwprv.dll</span>. Clients link to <span class="filepath">eposnwprv.lib</span>. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Capabilities</h2> <p>To use the Network Privacy API a client requires the following capabilities: <samp class="codeph">Location</samp>, <samp class="codeph">NetworkServices</samp> and <samp class="codeph">ReadDeviceData</samp>. </p>
 <p>To maintain backwards compatibility with existing clients of the Network Privacy API the alternative capability <samp class="codeph">CommDD</samp> is also supported. However, new clients should be created to have the three capabilities listed above. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">LBS configuration</h2> <p>The Network Privacy API is only available when the Privacy Protocol Module is included in an LBS subsystem. See <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">LBS Integration and Configuration Guide</a> for details about how to build a ROM image that supports the Network Privacy API. </p>
 <p><strong>Multiple simultaneous privacy requests</strong> </p>
 <p>The LBS subsystem can be configured to handle multiple simultaneous privacy requests from the Network Privacy API. The <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS Administration</a> setting <a href="GUID-6D5954C5-3B6A-3BAA-AB75-D1ECE90BAEDB.html"><span class="apiname">KLbsSettingMaximumExternalLocateRequests</span></a> defines the maximum number of privacy requests that can be handled simultaneously by the LBS subsystem. </p>
 <p>If an additional privacy request is sent into the LBS subsystem such that the total number of requests exceeds <samp class="codeph">KLbsSettingMaximumExternalLocateRequests</samp>, the additional request is always rejected i.e. the LBS subsystem calls <a href="GUID-9A3406EF-3FEF-3F6F-9CB1-DFC1D09782B6.html#GUID-9A3406EF-3FEF-3F6F-9CB1-DFC1D09782B6__GUID-D1BDF319-CCFD-33CB-8779-CF56849BAA5B"><span class="apiname">MPosVerificationObserver::HandleVerifyComplete()</span></a> with <samp class="codeph">aCompletionCode = KErrAccessDenied.</samp>  </p>
 <p><strong>Maximum number of API sessions</strong> </p>
 <p>The <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS Administration</a> setting <a href="GUID-8C74590B-658A-384F-B260-50DEB0263646.html"><span class="apiname">KLbsSettingPrivacyMaxNetworkSessions</span></a> defines the maximum number of concurrent sessions allowed with the Network Privacy API. </p>
 <p><strong>Session timeouts</strong> </p>
 <p>The <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS Administration</a> setting <a href="GUID-F725725F-195A-33E8-A804-AB48689F2003.html"><span class="apiname">KLbsSettingPrivacyConnectionTimeout</span></a> controls the connection timeout for sessions using the Network Privacy API. This value can be overriden by an API client by calling <a href="GUID-F5E959D8-3457-3385-9978-96FDD917D767.html#GUID-F5E959D8-3457-3385-9978-96FDD917D767__GUID-73993FA4-ABB9-3126-AADF-97BCBC64FBAC"><span class="apiname">CPosNetworkPrivacy::SetConnectionTimeout()</span></a>. </p>
 <p><strong>LBS shutdown delay</strong> </p>
 <p>The LBS subsystem is transient when it is built to include a Privacy Protocol Module and the Network Privacy API. The <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS Administration</a> setting <a href="GUID-6DBF0A21-011D-38B2-BEF5-824C2A77871F.html"><span class="apiname">KLbsSettingPrivacyShutdownDelay</span></a> sets the delay between closure of the last client connection and LBS subsystem shutdown. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-B27F6C1D-6815-5DF5-B3F8-449260030B3D.html" title="The Privacy Protocol Module (PPM) is an optional LBS component that allows the LBS subsystem to process privacy requests from the device domestic OS. The privacy request may have been received from the network or from an installed application.">Privacy Protocol Module</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-0BF06E5D-BEEF-5E15-894E-FA605FA12E33.html" title="The Privacy Protocol Module (PPM) is an optional LBS component that allows the LBS subsystem to process privacy requests from the device domestic OS. The privacy request may have been received from the network or from an installed application.">Privacy
                Protocol Module Overview</a></div>
<div><a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy
                Request API</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-6526C440-34EA-50C2-B550-2C655DCC2ED8.html" title="This document describes how to use the Network Privacy API.">Network
                Privacy API Tutorial</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a href="GUID-746866CE-809A-5598-BA60-2947763E5EE9.html" title="This section describes the dynamic behaviour of the Network Privacy API using a set of sequence diagrams.">Network
                Privacy API Reference</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>