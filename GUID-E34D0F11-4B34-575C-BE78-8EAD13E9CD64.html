<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Starting and Closing a Management Plane session: Tutorial"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E9E2783E-44A0-5BA6-BBF3-D13C8D67B53E.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2139B04C-6ED6-599B-A018-D92451B8353E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E9E2783E-44A0-5BA6-BBF3-D13C8D67B53E.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Starting and Closing a Management Plane session: Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64"><a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2682451 id2518388 id2518454 id2518515 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" title="The Communications Framework is the base for all communications, network and telephony services that Symbian platform provides. The Communications Framework manages the communications threads and the flow of information between those threads. The Framework also manages and stores the communications related settings.">Communications Framework Guide</a> &gt; <a href="GUID-2139B04C-6ED6-599B-A018-D92451B8353E.html">Data Communications Server</a> &gt; <a href="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD.html">Socket Server</a> &gt; <a href="GUID-E9E2783E-44A0-5BA6-BBF3-D13C8D67B53E.html">Socket Server Tutorials</a> &gt; </div>
<h1 class="topictitle1"> Starting
and Closing a Management Plane session: Tutorial</h1>
<div>


<div class="p"><p> This tutorial shows how an application connects to
the Sockets Server to access the Management Plane functionality. The Management
Plane functionality allows an application to access the Access Points. The
Management Plane uses a different API to other Sockets Server connections.
 </p>
<p> The <a href="GUID-55FE59B7-4FA9-3B1A-BD4C-9B7611FE75C2.html"><span class="apiname">RConnectionServ</span></a> API is accessed through the <a href="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD.html">Sockets Server</a> client
API, so you need to ensure that <span class="filepath">esock.lib</span> is included
in the MMP file.  </p>
<p>The user must supply a valid Tier ID when the connection
is made. Tier's are discussed in the topic <a href="GUID-4841AEDF-D22C-57D0-872D-7BD8B6A29CF5.html" title="This topic describes the concepts of a Tier and a Tier Manager in the Communications Framework.">Tiers
Manager</a>. Use the <a href="GUID-387A8240-0765-52F2-98A4-8F9FC809E03E.html#GUID-387A8240-0765-52F2-98A4-8F9FC809E03E__GUID-437C4AE0-D16B-50B7-8AD8-A4E8FA5F15E5">Tier
Table</a> in the Communications Database to find the Tier IDs. </p>
<p>The
high level steps to connect to the Management Plane are:</p>
 </div>

<a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-F9A14241-7E5B-5DAD-BD7D-35C84380392F"><!-- --></a><ol id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-F9A14241-7E5B-5DAD-BD7D-35C84380392F"><li class="stepexpand" id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-712ED667-E5F7-5817-BF7E-8BE4A62ECE50"><a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-712ED667-E5F7-5817-BF7E-8BE4A62ECE50"><!-- --></a><span>Determine which
Tier ID to supply </span>
</li>
<li class="stepexpand" id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-E852EB65-63E0-59F2-8477-7BBEBFE104A3"><a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-E852EB65-63E0-59F2-8477-7BBEBFE104A3"><!-- --></a><span/><br/>
 Call the <a href="GUID-55FE59B7-4FA9-3B1A-BD4C-9B7611FE75C2.html"><span class="apiname">RConnectionServ::Connect(TUint
                aTierId)</span></a> function with the Tier ID. This will connect
to the Management Plane. 
 By default, <samp class="codeph">aTierId</samp> is Null to indicate all Tiers are
available. The <samp class="codeph">aTierId</samp> must specify a valid tier. The <samp class="codeph">RConnectionServ</samp> API
does not have any functionality if the default value for <samp class="codeph">aTierId</samp> is
used. 
</li>
<li class="stepexpand" id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-76388961-E75A-5BAD-ABCF-DAD394DE30FD"><a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-76388961-E75A-5BAD-ABCF-DAD394DE30FD"><!-- --></a><span/><br/>
 Perform operations on the Tier. All actions on this <a href="GUID-55FE59B7-4FA9-3B1A-BD4C-9B7611FE75C2.html"><span class="apiname">RConnectionServ</span></a> connection
will depend on the specified Tier. 
</li>
<li class="stepexpand" id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-B13476C2-ADB9-5102-A754-1C024E6D0C36"><a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-B13476C2-ADB9-5102-A754-1C024E6D0C36"><!-- --></a><span/><br/>
 Call the <a href="GUID-55FE59B7-4FA9-3B1A-BD4C-9B7611FE75C2.html"><span class="apiname">RConnectionServ::Close()</span></a> function
to end the connection with the Management Plane. 
 The <samp class="codeph">Close()</samp> function ends the <a href="GUID-55FE59B7-4FA9-3B1A-BD4C-9B7611FE75C2.html"><span class="apiname">RConnectionServ</span></a> session
with the Tier specified using the <samp class="codeph">Connect()</samp> function. 
</li>
</ol>

<div class="example" id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-4922B67C-A24B-592A-96A4-26ABAB232E16"><a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-4922B67C-A24B-592A-96A4-26ABAB232E16"><!-- --></a><h2 class="sectiontitle">Connect and
Close example</h2> <p>The following example shows how to start and close
a session. </p>
 <pre class="codeblock" id="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-6919C0BC-3D4A-52F7-B3AB-3B54E656F60D"><a name="GUID-E34D0F11-4B34-575C-BE78-8EAD13E9CD64__GUID-6919C0BC-3D4A-52F7-B3AB-3B54E656F60D"><!-- --></a>
#include &lt;comms-infras/es_connectionserv.h&gt;
#include &lt;sometechnology.h&gt; // for KSomeTierId

using namespace ConnectionServ;

// Assumption: RConnectionServ is owned as an attribute of some working object
protected:
  RConnectionServ iConnServ;

// Start the session
User::LeaveIfError(iConnServ.Connect(KSomeTierId));

// Close the session
iConnServ.Close();
</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-E9E2783E-44A0-5BA6-BBF3-D13C8D67B53E.html">Socket Server Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>