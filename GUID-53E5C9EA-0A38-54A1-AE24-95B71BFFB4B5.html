<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="CenRep Converter Tool Tutorial"/>
<meta name="abstract" content="This topic describes the Central Repository Converter (CenRepConv) tool. The CenRepConv tool is used to convert text files into binary files."/>
<meta name="description" content="This topic describes the Central Repository Converter (CenRepConv) tool. The CenRepConv tool is used to convert text files into binary files."/>
<meta name="DC.Relation" scheme="URI" content="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>CenRep Converter Tool Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860178 id2860209 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html" title="The persistent storage collection.">Persistent Storage</a> &gt; <a href="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html" title="Provides persistance for application data, such as default filenames, locale settings and user preferences, between sessions.">Central Repository</a> &gt; </div>
<h1 class="topictitle1">CenRep
Converter Tool Tutorial</h1>
<div><p>This topic describes the Central Repository Converter (<samp class="codeph">CenRepConv</samp>)
tool. The CenRepConv tool is used to convert text files into binary files. </p>

<div class="section" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-D103CC8D-6871-46D1-B41E-85F5632324DC"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-D103CC8D-6871-46D1-B41E-85F5632324DC"><!-- --></a><h2 class="sectiontitle">Overview</h2> <p>The <samp class="codeph">CenRepConv</samp> is an
emulator based tool. The <samp class="codeph">CenRepConv</samp> tool can be used to convert
binary files to text files for debugging. The central repository initialisation
files are used to register the repositories with central repository. The initialisation
files can be either in text or binary format, although binary format is recommended
for better efficiency. For example, the loading time of a repository with
2000 settings on a H2 development board is 41ms for binary files and 485ms
for text files. </p>
 <p>The tool uses the file extension to identify the fomats. <samp class="codeph">TXT</samp> is
used for the text file extension and <samp class="codeph">CRE</samp> is used as the binary
file extension </p>
 </div>

<div class="section" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-89B11338-F42A-4704-9795-84A706DE12BB"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-89B11338-F42A-4704-9795-84A706DE12BB"><!-- --></a><h2 class="sectiontitle">Command line syntax</h2> <p>The syntax for text to binary
conversion is: </p>
 <pre class="codeblock" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-B6AF4E5C-A007-5E23-A30E-8F006461A6C1"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-B6AF4E5C-A007-5E23-A30E-8F006461A6C1"><!-- --></a>CentRepConv  [-nowait]  [-o output_path]  [input_path\]&lt;repository_uid&gt;.txt</pre>
 <p>where, </p>
 <ul>
<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-3434EDE7-D5F9-5A0A-B67F-A37918304247"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-3434EDE7-D5F9-5A0A-B67F-A37918304247"><!-- --></a><p> <samp class="codeph"> repository_uid</samp> is
the UID of repository in hexadecimal format, for example 00000001 </p>
 </li>

<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-DE6793EF-7069-55AD-AEF2-5EFED65BD209"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-DE6793EF-7069-55AD-AEF2-5EFED65BD209"><!-- --></a><p> <samp class="codeph">output_path</samp> –
Optional, default is <samp class="codeph">C:\</samp>. Note that if the user specifies
the output filename, then the extension must be .cre and the filename must
match the &lt;repository_uid&gt; of the input file. </p>
 </li>

<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-AA6CB0CD-8931-588F-B27A-E7EC60576B5D"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-AA6CB0CD-8931-588F-B27A-E7EC60576B5D"><!-- --></a><p> <samp class="codeph"> -nowait</samp> option
should be used when CentRepConv is invoked as part of an automated process
such as from a build script. It instructs CentRepConv not to wait for user
acknowledgement. Without this option the tool will wait for up to 30 seconds
for acknowledgement </p>
 </li>

</ul>
 <p>The syntax for bianary to text conversion is: </p>
 <pre class="codeblock" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-F814EA9C-3063-5715-98F1-550E512BE023"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-F814EA9C-3063-5715-98F1-550E512BE023"><!-- --></a>CentRepConv  [-nowait]  [-o output_path]  [input_path\]&lt;repository_uid&gt;.cre</pre>
 <p>where, </p>
 <ul>
<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-2EEC6C18-2CC6-530A-9B3F-6F86769D7E64"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-2EEC6C18-2CC6-530A-9B3F-6F86769D7E64"><!-- --></a><p> <samp class="codeph"> repository_uid</samp> is
the UID of repository in hexadecimal format, for example 00000001 </p>
 </li>

<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-A8A8D7A7-64B3-5D06-A514-216CB0F7CA7D"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-A8A8D7A7-64B3-5D06-A514-216CB0F7CA7D"><!-- --></a><p> <samp class="codeph"> input_path</samp> is
optional, default is <samp class="codeph">C:\</samp>. Note that location of path must
be a Symbian path, not a path of the PC’s native OS. </p>
 </li>

<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-6F952102-D662-56AD-AF06-72FE7188DADF"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-6F952102-D662-56AD-AF06-72FE7188DADF"><!-- --></a><p> <samp class="codeph"> output_path</samp> is
optional, default is <samp class="codeph">C:\</samp>. Note that if the user specifies
the output filename, then the extension must be .txt and the filename must
match the &lt;repository_uid&gt; of the input file. </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-E26646C2-2194-403C-ADAB-A8DBA5C3E88D"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-E26646C2-2194-403C-ADAB-A8DBA5C3E88D"><!-- --></a><h2 class="sectiontitle">Integrating CenRepConv tool</h2> <p>This section describes
how to automate text to binary conversion whislt building the ROM. The group
folder must contain bld.inf file, extension makefile, script to invoke the
cenRepConv tool and the initialisation text file. </p>
 <a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-31B7B304-6B48-5DAA-A72B-62260048CA3F"><!-- --></a><ol id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-31B7B304-6B48-5DAA-A72B-62260048CA3F">
<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-D4D0CB8F-0FCE-52A8-87A6-435B9E44876C"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-D4D0CB8F-0FCE-52A8-87A6-435B9E44876C"><!-- --></a><p>The bld.inf file must
contain: </p>
 <pre class="codeblock" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-4DA91F35-AEE2-5D48-9E71-31A9FE613C66"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-4DA91F35-AEE2-5D48-9E71-31A9FE613C66"><!-- --></a>PRJ_PLATFORMS
DEFAULT

PRJ_MMPFILES
gnumakefile CreateBinaryRep.mk
</pre>
 </li>

<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-FF85D695-8733-58D7-BACC-BCB185045392"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-FF85D695-8733-58D7-BACC-BCB185045392"><!-- --></a><p>The extension makefile
is configured as: </p>
 <pre class="codeblock" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-C2BF6EC5-C293-5BF9-A5BF-4C4DB15B03CC"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-C2BF6EC5-C293-5BF9-A5BF-4C4DB15B03CC"><!-- --></a>do_nothing :
    rem do_nothing

MAKMAKE : do_nothing

RESOURCE : do_nothing

SAVESPACE : BLD

BLD : do_nothing

FREEZE : do_nothing

LIB : do_nothing

CLEANLIB : do_nothing

FINAL : 
    CreateBinaryRep.cmd build

CLEAN : 
    CreateBinaryRep.cmd clean

RELEASABLES :
    CreateBinaryRep.cmd releasables
</pre>
 </li>

<li id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-1429DD28-07C3-5501-A644-B23ABEBD32E0"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-1429DD28-07C3-5501-A644-B23ABEBD32E0"><!-- --></a><p>The script file is used
to move the text files to the emulators folder, invoke the CenRepConv tool
and copy the binary folders into the central repository private folder. </p>
 <pre class="codeblock" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-EEB8A24A-0357-5FE2-8FF8-E4583E3A9E4F"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-EEB8A24A-0357-5FE2-8FF8-E4583E3A9E4F"><!-- --></a>@ECHO OFF
SET RETURNCODE=0

IF /I "%1"=="build" goto BUILD

IF /I "%1"=="clean" goto CLEAN

IF /I "%1"=="releasables" goto WHAT

echo error: unknown option %1 &gt;&amp;2
SET RETURNCODE=1
goto END

:WHAT
echo %EPOCROOT%epoc32\release\winscw\udeb\Z\private\10202BE9\1027431B.cre
goto END

:CLEAN
ERASE %EPOCROOT%epoc32\release\winscw\udeb\Z\private\10202BE9\1027431B.cre 2&gt;NUL
goto END

:BUILD
ERASE %EPOCROOT%epoc32\winscw\c\1027431B.cre 2&gt;NUL
ERASE %EPOCROOT%epoc32\release\winscw\udeb\z\private\10202BE9\1027431B.cre 2&gt;NUL
COPY 1027431B.txt %EPOCROOT%epoc32\winscw\c
CALL %EPOCROOT%epoc32\release\winscw\udeb\CentRepConv -nowait -o C:\1027431B.cre C:\1027431B.txt
IF exist %EPOCROOT%epoc32\winscw\c\1027431B.cre goto BLDSUCCESS
SET RETURNCODE=1
ECHO error: build fail &gt;&amp;2
goto END

:BLDSUCCESS
ERASE %EPOCROOT%epoc32\winscw\c\1027431B.txt
MOVE %EPOCROOT%epoc32\winscw\c\1027431B.cre %EPOCROOT%epoc32\release\winscw\udeb\z\private\10202BE9\1027431B.cre
goto END

:END
EXIT /B %RETURNCODE%
</pre>
 </li>

</ol>
 </div>

<div class="section" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-CD798B16-86D7-48E1-B40F-907B251A33CD"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-CD798B16-86D7-48E1-B40F-907B251A33CD"><!-- --></a><h2 class="sectiontitle">Error codes</h2> <p>The following are the error codes that
may occur during the text to binary conversion and vice versa. </p>
 
<div class="tablenoborder"><a name="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-B1A7F8DE-37AA-519F-8A87-EDB3DF80F99A"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-53E5C9EA-0A38-54A1-AE24-95B71BFFB4B5__GUID-B1A7F8DE-37AA-519F-8A87-EDB3DF80F99A" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d846699e178">Error condition</th>

<th class="cellrowborder" valign="top" id="d846699e181">Leave Code</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Input file corrupted </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-253F06EA-F14E-3A8E-BA4C-8E787B5F0670.html"><span class="apiname">KErrCorrupt</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Input file is not a Direct File Store </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-253F06EA-F14E-3A8E-BA4C-8E787B5F0670.html"><span class="apiname">KErrCorrupt</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>No input file specified </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-0BEA3647-7888-3612-A2D3-7E27AC405E29.html"><span class="apiname">KErrArgument</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Bad input file extension (not .txt or .cre) </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-0BEA3647-7888-3612-A2D3-7E27AC405E29.html"><span class="apiname">KErrArgument</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Input filename is not a valid UID </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-0BEA3647-7888-3612-A2D3-7E27AC405E29.html"><span class="apiname">KErrArgument</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Output filename does not match input filename </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-0BEA3647-7888-3612-A2D3-7E27AC405E29.html"><span class="apiname">KErrArgument</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Extension of output filename does not match extension of input filename
(if one is .txt and the other must be .cre) </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-0BEA3647-7888-3612-A2D3-7E27AC405E29.html"><span class="apiname">KErrArgument</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Output directory is in read only drive </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-0BEA3647-7888-3612-A2D3-7E27AC405E29.html"><span class="apiname">KErrArgument</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Cannot access input file because it is in private data cage </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-298F3C28-48F5-34EA-8843-C75E2ECF0480.html"><span class="apiname">KErrAccessDenied</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Cannot write output file because it is in private data cage </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-298F3C28-48F5-34EA-8843-C75E2ECF0480.html"><span class="apiname">KErrAccessDenied</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d846699e178 "><p>Input file does not exist </p>
 </td>

<td class="cellrowborder" valign="top" headers="d846699e181 "><p> <a href="GUID-298F3C28-48F5-34EA-8843-C75E2ECF0480.html"><span class="apiname">KErrAccessDenied</span></a>  </p>
 </td>

</tr>

</tbody>

</table>
</div>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html" title="Provides persistance for application data, such as default filenames, locale settings and user preferences, between sessions.">Central Repository</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>