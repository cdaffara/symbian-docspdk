<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Escape Encoding and Decoding"/>
<meta name="DC.Relation" scheme="URI" content="GUID-96837414-3041-5E1E-A2E9-C18EECCF86D9.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-96837414-3041-5E1E-A2E9-C18EECCF86D9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-853BFDC0-1993-5EFC-AA68-C9EA496EEF3F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E0DC9706-AAC5-5950-86E8-D667A7AFCD49.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Escape Encoding and Decoding</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF"><a name="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2381979 id2382016 id2382053 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html">Generic Services</a> &gt; <a href="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382.html">HTTP Utilities Library</a> &gt; <a href="GUID-96837414-3041-5E1E-A2E9-C18EECCF86D9.html">HTTP Utilities Library Tutorials</a> &gt; </div>
<h1 class="topictitle1">Escape
Encoding and Decoding</h1>
<div>
<p>This tutorial describes the steps to escape encoding and decoding. </p>

<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>Reserved, unsafe and unreserved characters
present a possibility of being interpreted incorrectly when used in the URIs.
To avoid this, these characters must be escape encoded and decoded. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Escape encoding </h2><p>URI encoding of a character consists
of a "%" symbol, followed by two hexadecimal digits representing the octet
code. For example, Space = decimal code point 32 in the ISO-Latin set. 32
decimal = 20 in hexadecimal. The URI encoded representation will be "%20" </p>
 <p> <a href="GUID-9CC256C4-D4A2-3534-9B3C-2FBF1AAE5F51.html#GUID-9CC256C4-D4A2-3534-9B3C-2FBF1AAE5F51__GUID-26C9B121-B619-33EF-98A3-E65787C3A9BF"><span class="apiname">EscapeUtils::EscapeEncodeL()</span></a> escape
encodes the invalid and reserved characters in the data as escape triples.
The reserved characters and the set of excluded characters specified by <a href="http://www.ietf.org/rfc/rfc2396.txt" target="_blank">RFC 2396</a> (refer
to the above table) form the entire set of excluded data. </p>
 <p>The following
code fragment checks for the invalid and reserved characters in the authority
component of an URI and returns the string with these characters escape encoded.
For other modes as defined in <a href="GUID-0B61C1D3-7DAB-3149-932F-1F96A84EDF42.html"><span class="apiname">TEscapeMode</span></a>, refer to the
table in <a href="GUID-E0DC9706-AAC5-5950-86E8-D667A7AFCD49.html#GUID-E0DC9706-AAC5-5950-86E8-D667A7AFCD49__GUID-B5EB7F55-60AF-5703-96F6-0C42A3D433EE">Reservered
characters</a> section. </p>
 <pre class="codeblock" id="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF__GUID-D0CBCEA3-59F2-50E0-AC4D-473FC5DF24E9"><a name="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF__GUID-D0CBCEA3-59F2-50E0-AC4D-473FC5DF24E9"><!-- --></a>HBufC16* encode = EscapeUtils::EscapeEncodeL(*decode,  EscapeUtils::EEscapeAuth);
CleanupStack::PushL(encode);//encode contains %20%3C%3E%23%25%22%7B%7D%7C%5C%5E%60

......//use encode here

CleanupStack::PopAndDestroy(encode);
</pre>
 <p>Escape encoding is ideal during creation of URI from the components. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Escape decoding </h2><p> <a href="GUID-9CC256C4-D4A2-3534-9B3C-2FBF1AAE5F51.html#GUID-9CC256C4-D4A2-3534-9B3C-2FBF1AAE5F51__GUID-B4149EF0-0E1D-3F80-9974-165DF17105E9"><span class="apiname">EscapeUtils::EscapeDecodeL()</span></a> escape
decodes the data. This code escape decodes the data '<samp class="codeph">%20%3C%3E%23%25%22%7B%7D%7C%5C%5E%60</samp>'
to '<samp class="codeph">&lt;&gt;#%\"{}|\\^</samp>'. </p>
 <pre class="codeblock" id="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF__GUID-F0A7F46E-F5DF-52CE-8334-AD7789208F97"><a name="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF__GUID-F0A7F46E-F5DF-52CE-8334-AD7789208F97"><!-- --></a>_LIT(KEscapeEncoded, %20%3C%3E%23%25%22%7B%7D%7C%5C%5E%60);        //data to decode
HBufC16* decode = EscapeUtils::EscapeDecodeL(KEscapeEncoded); //contains &lt;&gt;#%\"{}|\\^`
CleanupStack::PushL(decode);
...........................
CleanupStack::PopAndDestroy(decode);
          </pre>
 <p>The URI must be split into its components before
the escaped characters within the components are safely decoded. </p>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-96837414-3041-5E1E-A2E9-C18EECCF86D9.html">HTTP Utilities Library Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723.html">HTTP Utilities
Library Overview</a></div>
<div><a href="GUID-853BFDC0-1993-5EFC-AA68-C9EA496EEF3F.html">Converting
between Unicode and Utf8</a></div>
<div><a href="GUID-E0DC9706-AAC5-5950-86E8-D667A7AFCD49.html">Reserved
and unreserved characters</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>