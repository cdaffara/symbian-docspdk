<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Specific header formats"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Specific header formats</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387372 id2387380 id2387389 id2387497 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html">High Level Internet Protocols Guide</a> &gt; <a href="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html">Application Layer Protocols</a> &gt; <a href="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html">Using HTTP Client</a> &gt; <a href="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html">Headers</a> &gt; </div>
<h1 class="topictitle1">Specific
header formats</h1>
<div>
<p>This section describes the headers that have specific support for encoding
or decoding using parts and parameters. Other headers not listed are encoded
and decoded using a default mechanism that assumes the header field has a
single part with a string value. </p>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-210B3CBF-2885-434C-A8DF-418D5A986088"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-210B3CBF-2885-434C-A8DF-418D5A986088"><!-- --></a><h2 class="sectiontitle">Accept</h2> <p>This
is a client request header. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-1AB0D534-093B-5B81-A80D-D9002A5BA886"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-1AB0D534-093B-5B81-A80D-D9002A5BA886"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Setting a single media range with no parameter, i.e. Accept: text/html 
RStringF textHtml = iStrTb.OpenFStringL(_L8("text/html")); 
CleanupClosePushL(textHtml);
THTTPHdrVal accVal(textHtml); 
hdr.SetFieldL(iStrTb.String(HTTP::EAccept,RHTTPSession::GetTable()), accVal); 
CleanupStack::PopAndDestroy(&amp;textHtml);
// Setting several media ranges with no parameters, i.e. Accept: text/html; text/vnd.wap.wml 
RStringF textHtml = iStrTb.OpenFStringL(_L8("text/html")); 
CleanupClosePushL(textHtml);
RStringF textWml  = iStrTb.OpenFStringL(_L8("text/vnd.wap.wml")); 
CleanupClosePushL(textWml);
THTTPHdrVal accVal(textHtml);
hdr.SetFieldL(iStrTb.String(HTTP::EAccept,RHTTPSession::GetTable()), accVal); 
accVal.SetStr(textWml); 
hdr.SetFieldL(iStrTb.String(HTTP::EAccept,RHTTPSession::GetTable()), accVal); 
CleanupStack::PopAndDestroy(&amp;textHtml);
CleanupStack::PopAndDestroy(&amp;textWml);
// Setting a media range with a 'q' parameter,  Accept: text/html; q=0.8 
RStringF textHtml  = iStrTb.OpenFStringL(_L8("text/html")); 
CleanupClosePushL(textHtml);
THTTPHdrVal accVal(textHtml); 
THTTPHdrVal q(THTTPHdrVal::TQConv(0.8)); 
hdr.SetFieldL(iStrTb.String(HTTP::EAccept,RHTTPSession::GetTable()), accVal, iStrTb.String(HTTP::EQ,RHTTPSession::GetTable()), q); 
CleanupStack::PopAndDestroy(&amp;textHtml);
// Using an accept extension,  Accept: text/html; extended=value 
RStringF textHtml  = iStrTb.OpenFStringL(_L8("text/html")); 
CleanupClosePushL(textHtml);
RStringF extended  = iStrTb.OpenFStringL(_L8("extended")); 
CleanupClosePushL(extended);
RStringF extendVal = iStrTb.OpenFStringL(_L8("value")); 
CleanupClosePushL(extendVal);

THTTPHdrVal accVal(textHtml); 
THTTPHdrVal extVal(extendVal); 

hdr.SetFieldL(iStrTb.String(HTTP::EAccept,RHTTPSession::GetTable()), accVal, extended, extVal); 
CleanupStack::PopAndDestroy(3); // textHtml, extended, extendVal</pre>
 
   </div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-37A82EFB-820A-4BD0-BA38-F3507F709E73"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-37A82EFB-820A-4BD0-BA38-F3507F709E73"><!-- --></a><h2 class="sectiontitle">Accept-Charset</h2><p>This is a client request header. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-EE14D9C1-1EEE-56FF-91F0-2B3BB8455A65"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-EE14D9C1-1EEE-56FF-91F0-2B3BB8455A65"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Setting up two accepted character sets, i.e.  Accept-Charset: us-ascii, utf-8 
RStringF usAscii = iStrTb.OpenFStringL(_L8("us-ascii"));
CleanupClosePushL(usAscii);
RStringF utf8 = iStrTb.OpenFStringL(_L8("utf-8"));
CleanupClosePushL(utf8);
THTTPHdrVal accChSetVal(usAscii);
hdr.SetFieldL(iStrTb.String(HTTP::EAcceptCharset,RHTTPSession::GetTable()), accChSetVal);
// sets the first part accChSetVal.(SetStrutf8);
hdr.SetFieldL(iStrTb.String(HTTP::EAcceptCharset,RHTTPSession::GetTable()), accChSetVal);
// adds an additional part usAscii.Close();
CleanupStack::PopAndDestroy(2);</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-28FB5629-78CC-4229-B30D-6EF40F8E3C33"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-28FB5629-78CC-4229-B30D-6EF40F8E3C33"><!-- --></a><h2 class="sectiontitle">Authorisation</h2><p>This is a client request header. <strong>Note:</strong> The
client need not set this header for most normal requests. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-5D430FE4-8EE4-5537-818F-B7C9EBFC923D"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-5D430FE4-8EE4-5537-818F-B7C9EBFC923D"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Setting an authorization credential, i.e. Authorization: Basic c3ltYmlhbjpmMXN5bmNtbA== 
RStringF basicCred = iStrTb.OpenFStringL(_L8("c3ltYmlhbjpmMXN5bmNtbA=="));
CleanupClosePushL(basicCred);
THTTPHdrVal authVal(iStrTb.String(HTTP::EBasic,RHTTPSession::GetTable()));
hdr.SetFieldL(iStrTb.String(HTTP::EAuthorization,RHTTPSession::GetTable()), authVal);
authVal.(SetStrbasicCred);
hdr.SetFieldL(iStrTb.String(HTTP::EAuthorization,RHTTPSession::GetTable()), authVal);
CleanupStack::PopAndDestroy(&amp;basicCred);</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-64B95F8D-3E6D-48F6-A7E1-C997C69F5C6A"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-64B95F8D-3E6D-48F6-A7E1-C997C69F5C6A"><!-- --></a><h2 class="sectiontitle">Connection</h2><p>This is a general header, that is, it
applies to the connection between client and server. <strong>Note:</strong> The client
need not set this header for normal, persistent HTTP/1.1 requests. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-96A98445-2D81-555B-A727-CA364F906F04"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-96A98445-2D81-555B-A727-CA364F906F04"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Indicate that the connection is to close, i.e. Connection: close 
THTTPHdrVal closeVal(iStrTb.String(HTTP::EClose,RHTTPSession::GetTable()));
hdr.SetFieldL(iStrTb.String(HTTP::EConnection,RHTTPSession::GetTable()), closeVal);
</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8F6F6A87-0C05-4635-BBCD-72B5E4AFB3CC"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8F6F6A87-0C05-4635-BBCD-72B5E4AFB3CC"><!-- --></a><h2 class="sectiontitle">Content-Length</h2><p>This is an entity header, that is,
it applies to the body present in a request or a response. <strong>Note:</strong> The
client should not set this header for any request: it will be ignored. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-58334818-7616-50EA-9862-2701610EB12D"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-58334818-7616-50EA-9862-2701610EB12D"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Set a content length of 12345, i.e. Content-Length: 12345 
THTTPHdrVal lengthVal(12345);
hdr.SetFieldL(iStrTb.String(HTTP::EContentLength,RHTTPSession::GetTable()), lengthVal);
</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-6639232A-25C9-4CB6-9FF3-7F1EF3D8E148"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-6639232A-25C9-4CB6-9FF3-7F1EF3D8E148"><!-- --></a><h2 class="sectiontitle">Content-Type</h2><p>This is an entity header, that is,
it applies to the body present in a request or a response. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8BCE3E31-E6A6-5908-AF87-A1CA6591D223"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8BCE3E31-E6A6-5908-AF87-A1CA6591D223"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Set a content type of text/html, i.e. Content-Type: text/html 
THTTPHdrVal contTypeVal(iStrTb.String(HTTP::ETextHtml,RHTTPSession::GetTable()));
hdr.SetFieldL(iStrTb.String(HTTP::EContentType,RHTTPSession::GetTable()), contTypeVal);
</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-897C8418-2567-4739-8AFE-BE14A2FBC07D"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-897C8418-2567-4739-8AFE-BE14A2FBC07D"><!-- --></a><h2 class="sectiontitle">Date</h2><p>This is a general header, that is, it applies
to the connection between client and server. All three date formats specified
in RFC2616 are supported in responses. Requests will be made using the RFC1123
format only. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-DE554314-FFAD-5807-B83E-70151BE366B0"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-DE554314-FFAD-5807-B83E-70151BE366B0"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Set a date of 9th August 2001, time 13:45:00.000, i.e. Date: Thu, 09 Aug 2001 13:45:00 GMT 
THTTPHdrVal dateVal(TDateTime(2001, EAugust, 8, 13, 45, 0, 0));
// note, the day starts at 0 
hdr.SetFieldL(iStrTb.String(HTTP::EDate,RHTTPSession::GetTable()), dateVal);
</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-D1120183-9158-44D6-B64B-A9D8263B7174"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-D1120183-9158-44D6-B64B-A9D8263B7174"><!-- --></a><h2 class="sectiontitle">Host</h2><p>This is a client request header. <strong>Note:</strong> The
client should not set this header for any request unless the URL is relative. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-A20C80EF-185A-57EF-9F36-D547D5E458C0"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-A20C80EF-185A-57EF-9F36-D547D5E458C0"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Set a host 'www.symbian.com', i.e. Host: www.symbian.com 
_LIT8(host, "www.symbian.com");
RStringF hostValStr = iStrTb.OpenFStringL(host);
CleanupClosePushL(hostValStr);   
THTTPHdrVal hostVal(hostValStr);    
hdr.SetFieldL(hostStr, hostVal);
CleanupStack::PopAndDestroy(&amp;hostValStr);</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8AA02D22-54A6-4250-9350-D9DE3B0E93B5"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8AA02D22-54A6-4250-9350-D9DE3B0E93B5"><!-- --></a><h2 class="sectiontitle">Transfer-Encoding</h2><p>This is a general header, that
is, it applies to the connection between client and server. <strong>Note:</strong> The
client should not set this header for any request, as it will be ignored. </p>
<pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-868090A3-4534-54DE-8B46-B19BA4077B10"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-868090A3-4534-54DE-8B46-B19BA4077B10"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Set the transfer encoding to be 'chunked', i.e. Transfer-Encoding: chunked 
THTTPHdrVal xferEncVal;
xferEncVal.SetStrF(iStrTb.StringF(HTTP::EChunked,RHTTPSession::GetTable()));
hdr.SetFieldL(iStrTb.StringF(HTTP::ETransferEncoding,RHTTPSession::GetTable()), xferEncVal);
</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-E3C924A2-E426-496E-BFDD-BA6E85E40F09"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-E3C924A2-E426-496E-BFDD-BA6E85E40F09"><!-- --></a><h2 class="sectiontitle">User-Agent</h2><p>This is a client request header. </p>
 <pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-987775EF-4346-57C3-84DB-4C05683DD5D8"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-987775EF-4346-57C3-84DB-4C05683DD5D8"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
// Set up a user agent with two part, i.e. User-Agent: CERN-LineMode/2.15 libwww/2.17b3 
RStringF ua1Str = iStrP.OpenFStringL(_L8("CERN-LineMode/2.15"));
CleanupClosePushL(ua1Str);
RStringF ua2Str = iStrP.OpenFStringL(_L8("libwww/2.17b3"));
CleanupClosePushL(ua2Str);
RStringF uaStr = iStrP.StringF(HTTP::EUserAgent,RHTTPSession::GetTable());
THTTPHdrVal uaVal(ua1Str);
hdr.SetFieldL(uaStr, uaVal);
// sets part 1 uaVal.SetStrF(ua2Str);
hdr.SetFieldL(uaStr, uaVal);
// sets part 2
CleanupStack::PopAndDestroy(2);</pre>
</div>

<div class="section" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8127BB03-00A9-4815-83F8-69838862B17A"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-8127BB03-00A9-4815-83F8-69838862B17A"><!-- --></a><h2 class="sectiontitle">WWW-Authenticate</h2><p>This is a server response header. <strong>Note:</strong> The
client need not read this header for most normal responses. </p>
 <pre class="codeblock" id="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-5ED4C598-80E5-5514-A616-AFCA5D1D4002"><a name="GUID-7800A00C-5BD3-46FA-9D0A-9DF29A5C057E__GUID-5ED4C598-80E5-5514-A616-AFCA5D1D4002"><!-- --></a>RHTTPHeaders hdr = aReq.GetHeaderCollection();
...
// Display realm for WWW-Authenticate header 
RStringF wwwAuth = strP.StringF(HTTP::EWWWAuthenticate,RHTTPSession::GetTable());
            if (fieldNameStr == wwwAuth)
                {
                // check the auth scheme is 'basic'
                RStringF basic = strP.StringF(HTTP::EBasic,RHTTPSession::GetTable());
                RStringF realm = strP.StringF(HTTP::ERealm,RHTTPSession::GetTable());
                THTTPHdrVal realmVal;
                if ((fieldVal.StrF() == basic) &amp;&amp; 
                    (!hdr.GetParam(wwwAuth, realm, realmVal)))
                    {
                    RStringF realmValStr = strP.StringF(realmVal.StrF());
                    fieldVal16.Copy(realmValStr.DesC());
                    iUtils.Test().Printf(_L("Realm is: %S\n"), &amp;fieldVal16);
                    realmValStr.Close();
                    }
                basic.Close();
                realm.Close();
                }
            wwwAuth.Close();
hdr.Close();</pre>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html">Headers</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>