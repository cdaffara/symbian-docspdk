<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Privacy Notifiers"/>
<meta name="abstract" content="Privacy Notifiers notify a user of privacy requests received from the network. A licensee must implement either Privacy Notifiers as described in this document, or a Privacy Controller to handle privacy requests."/>
<meta name="description" content="Privacy Notifiers notify a user of privacy requests received from the network. A licensee must implement either Privacy Notifiers as described in this document, or a Privacy Controller to handle privacy requests."/>
<meta name="DC.Relation" scheme="URI" content="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-710BC22B-E4F0-5E16-B970-E2D21F5571FC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CE970F0F-C922-516F-9D7E-EA1F4754A205.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CDE5CC9D-F6DE-5A21-97C3-59A2F3398A15.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Privacy Notifiers</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2402671 id2402731 id2402745 id2402754 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-710BC22B-E4F0-5E16-B970-E2D21F5571FC.html" title="The Location Request Management collection contains components that handle requests for location request information both from installed applications and from the network.">Location Request Management</a> &gt; <a href="GUID-CE970F0F-C922-516F-9D7E-EA1F4754A205.html" title="The Network Request Handler processes privacy and location requests received from the network.">Network Request Handler</a> &gt; <a href="GUID-CDE5CC9D-F6DE-5A21-97C3-59A2F3398A15.html" title="A privacy request is a request for permission to obtain the mobile device's location. Privacy requests are usually sent from the network to the mobile device as part of an MT-LR.">Privacy Requests</a> &gt; <a href="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html" title="This section contains documents the describe privacy request concepts and the components that licensees create to handle them.">Privacy Request Concepts</a> &gt; </div>
<h1 class="topictitle1">Privacy Notifiers</h1>
<div><p>  Privacy Notifiers notify a user of privacy requests received from the network. A licensee must implement either Privacy Notifiers as described in this document, or a Privacy Controller to handle privacy requests. </p>
<div class="section"><h2 class="sectiontitle">Purpose</h2> <p>This document describes LBS privacy notifiers and the data types that licensees can use to create notifiers to notify a user of privacy requests. A licensee must implement either a Privacy Controller or the Privacy Notifiers described in this document to handle privacy requests. See <a href="GUID-2E565B8E-D262-5769-96E6-A532154D57E6.html#GUID-2E565B8E-D262-5769-96E6-A532154D57E6__GUID-47C88C54-6BDC-5777-A661-A3EB7162A89E">LBS privacy requests overview</a> for more information. </p>
 <p>Note that use of the LBS Privacy Notifiers described in this document is the recommended way of creating notifiers for LBS. The alternative Privacy Q&amp;N Notifiers are deprecated. </p>
 <p>Some knowledge of the <a href="GUID-E049772D-A96F-592F-AF59-C9B69E8D24C1-GENID-1-12-1-4-1-1-4-1-4-1.html">Extended Notifier Framework</a> is required to understand the notifiers described in this document. </p>
 <p> <a href="GUID-CE53062F-6748-547C-BB9E-7861CDA066EE.html#GUID-CE53062F-6748-547C-BB9E-7861CDA066EE__GUID-CB586AC2-E690-5F90-9D75-3B2DCC4DB70B">How to create Privacy Notifiers</a> has examples of how to create LBS Privacy Notifiers using the API described in this document. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Contents</h2> <ul><li id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-037E3DD8-4CD8-52D5-9B77-3FC209CB57F4"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-037E3DD8-4CD8-52D5-9B77-3FC209CB57F4"><!-- --></a><p><a href="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23.html#GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-4B6731DE-72CD-575C-A372-A82BB23CD81E">Introduction</a>  </p>
 </li>
 <li id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-22D4D0B5-7F69-566A-86C1-346A482E526A"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-22D4D0B5-7F69-566A-86C1-346A482E526A"><!-- --></a><p><a href="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23.html#GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-94E75514-D19B-5B8E-8089-ED72E65F088C">Privacy Notifiers API description</a>  </p>
 </li>
 <li id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-E6E10A2E-1072-582F-9825-D72DE755AE92"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-E6E10A2E-1072-582F-9825-D72DE755AE92"><!-- --></a><p><a href="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23.html#GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-3F6A41FB-19CD-5BA7-A6CE-43197CAB5164">See also</a>  </p>
 </li>
 </ul>
 </div>
 <div class="section" id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-4B6731DE-72CD-575C-A372-A82BB23CD81E"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-4B6731DE-72CD-575C-A372-A82BB23CD81E"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>Figure 1 shows the LBS Privacy Notifiers within the context of the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Full LBS configuration</a>. The LBS Privacy Notifiers are standard Symbian notifier plug-ins that use LBS Privacy Request Data Types to package the request and response data that is sent between the LBS subsystem and the notifiers. </p>
 <p>To use the LBS Privacy Notifiers, a licensee must implement two notifiers: </p>
 <ul><li id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-5F470714-F41B-5D59-9095-62E5B182FF80"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-5F470714-F41B-5D59-9095-62E5B182FF80"><!-- --></a><p>A <em>Privacy Verification Notifier</em> that receives a privacy verification request from the LBS subsystem and returns a privacy response. This notifier is used to obtain user approval to send the location. </p>
 </li>
 <li id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-5FC2CE8D-4829-5CB6-B157-42CB9BF25F00"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-5FC2CE8D-4829-5CB6-B157-42CB9BF25F00"><!-- --></a><p>A <em>Privacy Notification Notifier</em> that receives a privacy notification request from the LBS subsystem and does not return any response. This notifier is used simply to notify the user that their location is being sent. </p>
 </li>
 </ul>
 <div class="fignone" id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-5A63514F-3CB0-50FB-B3F7-F54BF70391D4"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-5A63514F-3CB0-50FB-B3F7-F54BF70391D4"><!-- --></a><span class="figcap">Figure 1. 
             Figure 1. The Privacy Notifiers and part of the LBS subsystem. 
          </span> <img src="GUID-C2C9C55E-C09F-534A-9A00-A7BCE3BC1650_d0e434072_href.png"/></div>
 </div>
 <div class="section" id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-94E75514-D19B-5B8E-8089-ED72E65F088C"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-94E75514-D19B-5B8E-8089-ED72E65F088C"><!-- --></a><h2 class="sectiontitle">Privacy Notifiers API description</h2> <p>The LBS Privacy Notifiers are standard Symbian notifiers that use the Symbian <a href="GUID-E049772D-A96F-592F-AF59-C9B69E8D24C1-GENID-1-12-1-4-1-1-4-1-4-1.html">Extended Notifier Framework</a>. There are no additional LBS-specific base classes from which licensee notifier implementations must derive. LBS Privacy Notifiers derive directly from the notifier base class <a href="GUID-DE445C4B-22EF-3A1F-8A69-57CB703BFAD0.html"><span class="apiname">MEikSrvNotifierBase2</span></a>. </p>
 <p><strong>Classes and types </strong> </p>
 <p>The following table lists the main classes and types of the Privacy Data Types. Further details can be found by following the links to other sections of this document and to Symbian Developer Library reference documentation. </p>
 <p>The Privacy Notifiers types have <samp class="codeph">publishedPartner</samp> interface access. </p>
 
<div class="tablenoborder"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-AB2E7C88-F3DB-5E0D-AD0A-9D0202ED58C4"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-AB2E7C88-F3DB-5E0D-AD0A-9D0202ED58C4" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d2209819e151">Class name</th>
 <th class="cellrowborder" valign="top" id="d2209819e154">Description</th>
 <th class="cellrowborder" valign="top" id="d2209819e157">Header file</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d2209819e151 "><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html"><span class="apiname">TLbsExternalRequestInfo</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e154 "><p>Contains information about the requester of the location. </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e157 "><p> <span class="filepath">lbsloccommon.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2209819e151 "><p> <a href="GUID-C39A33B5-C5D3-333A-80C6-31EEB0706EB3.html"><span class="apiname">TLbsPrivacyNotifierParams</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e154 "><p>A container for the parameters that are sent to the LBS notifiers. Both a Privacy Verification Notifier and a Privacy Notification Notifier receive these parameters. This class wraps a <samp class="codeph">TLbsExternalRequestInfo</samp> object. </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e157 "><p> <span class="filepath"> lbsextprivacynotifiers.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2209819e151 "><p> <a href="GUID-D6A3E27D-A531-3851-AC58-6DB8625A7180.html"><span class="apiname">TLbsPrivacyNotifierParamsPckg</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e154 "><p>A typedef to wrap a <samp class="codeph">TLbsPrivacyNotifierParams</samp> in a <samp class="codeph">TPckgBuf</samp>. Use this type to send the notifier parameters to a dialog via the <samp class="codeph">RNotifier</samp> API. </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e157 "><p> <span class="filepath"> lbsextprivacynotifiers.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2209819e151 "><p> <a href="GUID-FDDBA463-D6C6-3CD1-8337-1B44A87C28AE.html"><span class="apiname">TLbsPrivacyNotifierResponse</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e154 "><p>An enumerated type that contains the user response to the Privacy Verification Notifier (request acceptance or rejection). </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e157 "><p> <span class="filepath"> lbsextprivacynotifiers.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2209819e151 "><p> <a href="GUID-7E2EF45D-A85D-3E69-B155-2A5E325E9542.html"><span class="apiname">TLbsPrivacyResponseParams</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e154 "><p>Container for the parameters that are returned from the LBS Privacy Verification Notifier. </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e157 "><p> <span class="filepath"> lbsextprivacynotifiers.h</span>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2209819e151 "><p> <a href="GUID-D08EF78A-8650-324E-8DF0-12BCBCB71EBA.html"><span class="apiname">TLbsPrivacyResponseParamsPckg</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e154 "><p>A typedef to wrap a <samp class="codeph">TLbsPrivacyResponseParams</samp> in a <samp class="codeph">TPckgBuf</samp>. Use this type to retrieve the result parameters from a dialog via the <samp class="codeph">RNotifier</samp> API. </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2209819e157 "><p> <span class="filepath"> lbsextprivacynotifiers.h</span>  </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p>Licensees who choose to use LBS Privacy Notifiers must implement two of them, one for privacy request verification and one for privacy request notification. Both notifiers can be packaged in the same ECOM plug-in DLL. </p>
 <p>The header file <span class="filepath">lbsextprivacynotifiers.h</span> also contains definitions of the UIDs that must be used for LBS Privacy Notifiers. These values are specified as <strong>KLbsExtLocationRequestVerifyUid</strong> for a privacy verification notifier and <strong>KLbsExtLocationRequestNotifyUid</strong> for a privacy notification notifier. <a href="GUID-CE53062F-6748-547C-BB9E-7861CDA066EE.html#GUID-CE53062F-6748-547C-BB9E-7861CDA066EE__GUID-CB586AC2-E690-5F90-9D75-3B2DCC4DB70B">How to create LBS Privacy Notifiers</a> has examples of their use. </p>
 <p><strong>Privacy Notifiers API class diagram </strong> </p>
 <p>The LBS Privacy Notifier data classes and types are defined in <span class="filepath">lbsprivacyextnotifiers.h</span> and are shown in figure 2. This figure also shows the <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html"><span class="apiname">TLbsExternalRequestInfo</span></a> class that is used to pass request data from the LBS subsystem to the notifiers. This class is described in <a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-126FAEA8-3E7F-5988-AB6C-F93E63B09E2F">Privacy Controller</a> documentation. </p>
 <div class="fignone" id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-56D0BC43-09C0-52B5-9418-28E84E2F495E"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-56D0BC43-09C0-52B5-9418-28E84E2F495E"><!-- --></a><span class="figcap">Figure 2. 
             Figure 2. LBS Privacy Notifier data classes. 
          </span> <img src="GUID-FB243CC9-2614-5D5D-B5D9-C3195E93637D_d0e434330_href.png"/></div>
 <p><strong>Libraries </strong> </p>
 <p>The LBS Privacy Notifiers are packaged in <span class="filepath">lbsprivacyextnotifiers.dll</span>. A client (an LBS Privacy Notifier) links to <span class="filepath">lbsprivacyextnotifiers.lib</span>. </p>
 <p><strong>Capabilities </strong> </p>
 <p>Privacy Notifiers require the <samp class="codeph">TrustedUI</samp> and <samp class="codeph">ProtServ</samp> capabilities that are required by all notifiers that use the Extended Notifier Framework. The capabilities are specified in the Notifier's MMP file. See <a href="GUID-CE53062F-6748-547C-BB9E-7861CDA066EE.html#GUID-CE53062F-6748-547C-BB9E-7861CDA066EE__GUID-CB586AC2-E690-5F90-9D75-3B2DCC4DB70B">How to create LBS Privacy Notifiers</a> for more information. </p>
 <p><strong>LBS Configuration </strong> </p>
 <p>The LBS Administration setting <samp class="codeph">KLbsSettingPrivacyHandler</samp> must be set to <samp class="codeph">CLbsAdmin::EPrivacyHandleByNotifier</samp> to configure LBS to use Privacy Notifiers. See <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS administration</a> for details of how to configure this setting either through the LBS Administration API or in the LBS central repository initialisation file. </p>
 <p> <strong>Sequential processing of privacy requests</strong>  </p>
 <p>The LBS subsystem sends privacy requests sequentially to Privacy Notifiers. If multiple privacy requests are received how they are handled depends on the interface via which the privacy request was received: </p>
 <ul><li id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-2A1E4E50-A7B5-5B0A-B7D4-F919B9355245"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-2A1E4E50-A7B5-5B0A-B7D4-F919B9355245"><!-- --></a><p>Request received from a <a href="GUID-CB6B4D1A-ACB9-5571-8C23-4BC095209782.html" title="This document describes the Network Protocol Module API that device creators use to develop their own Network Protocol Modules.">Network Protocol Module</a>  </p>
 <p>A second privacy request forces LBS to cancel an outstanding privacy request (but not emergency requests). The Privacy Notifier in use for the first privacy request is cancelled. The Privacy Notifier is then restarted to handle the second privacy request. </p>
 </li>
 <li id="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-BF0FEBFE-709E-586E-B0AC-439EB185A83D"><a name="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-BF0FEBFE-709E-586E-B0AC-439EB185A83D"><!-- --></a><p>Request received via the <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network Privacy API</a> or the <a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy Request API</a>  </p>
 <p>Privacy notification and verification requests are sent sequentially to Privacy Notifiers. A Privacy Notifier must have responded to one privacy request (or LBS must have sent a timeout response) before the next request can be sent to the notifier. The maximum number of privacy requests that can be outstanding in the LBS subsystem is defined by the LBS administration setting <samp class="codeph">KLbsSettingMaximumExternalLocateRequests</samp>. Further requests are rejected by the LBS subsystem if the number of outstanding privacy requests exceeds <samp class="codeph">KLbsSettingMaximumExternalLocateRequests</samp>. </p>
 </li>
 </ul>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html" title="This section contains documents the describe privacy request concepts and the components that licensees create to handle them.">Privacy Request Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>