<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Cleanup Strategy"/>
<meta name="abstract" content="The support for custom cleanup strategies is based on a template-based implementation of the Strategy design pattern. Cleanup strategies can be specified as an optional template parameter of the class templates for automatic resource management."/>
<meta name="description" content="The support for custom cleanup strategies is based on a template-based implementation of the Strategy design pattern. Cleanup strategies can be specified as an optional template parameter of the class templates for automatic resource management."/>
<meta name="DC.Relation" scheme="URI" content="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3799F0DA-B99C-55BB-B44F-63B971DF1865.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A18153C0-230C-51FB-9384-A48BB4E42F03"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Cleanup Strategy</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-A18153C0-230C-51FB-9384-A48BB4E42F03"><a name="GUID-A18153C0-230C-51FB-9384-A48BB4E42F03"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2384051 id2384059 id2384073 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html">Generic Usability Library</a> &gt; <a href="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html" title="The EUser High Level (EUserHL) library is a general purpose user library that provides a usability layer to hide away some of the complexities of the Symbian platform. This section lists the concepts, the overview and the tutorials that helps the Symbian Developers understand the importance of the EUserHL library.">EUser High Level Library</a> &gt; <a href="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html" title="The EUser High Level Library introduces a new L-Class idiom along with a self managing string class and automatic resource management classes.">EUser High Level Concepts</a> &gt; </div>
<h1 class="topictitle1">Cleanup
Strategy</h1>
<div><p>The support for custom cleanup strategies is based on a template-based
implementation of the Strategy design pattern. Cleanup strategies can be specified
as an optional template parameter of the class templates for automatic resource
management. </p>

<div class="section"><h2 class="sectiontitle">Default Cleanup Strategy </h2> <p>The default cleanup strategy
is determined by the <a href="GUID-72BC7E43-1ABA-334A-B8ED-F9A152505FE6.html"><span class="apiname">TResourceCleanupStrategy</span></a> class template
which by default calls a function named <a href="GUID-78FEE338-1BD4-360B-93E2-80FD2753396D.html"><span class="apiname">Cleanup()</span></a> function.
The <a href="GUID-CE0F22BA-8789-3659-87C4-164EB5862B4C.html"><span class="apiname">DEFINE_CLEANUP_FUNCTION</span></a> macro defines an inline function
named Cleanup() function which is invoked for cleanup of the managed object
in place of the default CallCleanupFunction function defined in the header
file. </p>
 </div>

<div class="section"><h2 class="sectiontitle">DEFINE_CLEANUP_FUNCTION Macro</h2> <p> <a href="GUID-CE0F22BA-8789-3659-87C4-164EB5862B4C.html"><span class="apiname">DEFINE_CLEANUP_FUNCTION</span></a> is
provided in order to enable Symbian Developers to easily define the default
cleanup member function for a class type, such as an R-class. The macro can
be used in the same namespace in which the R-class is defined or in a namespace
in which the R-class is used. The DEFINE_CLEANUP_FUNCTION can be used by class
designers, but if a class does not have a cleanup function specified, then
the class users can use the DEFINE_CLEANUP_FUNCTION in order to define the
default cleanup function for that class. </p>
 </div>

<div class="example"><h2 class="sectiontitle">Clean-up Strategy example</h2> <pre class="codeblock" id="GUID-A18153C0-230C-51FB-9384-A48BB4E42F03__GUID-4F8920C6-A073-503B-8DB0-74900745B47B"><a name="GUID-A18153C0-230C-51FB-9384-A48BB4E42F03__GUID-4F8920C6-A073-503B-8DB0-74900745B47B"><!-- --></a>DEFINE_CLEANUP_FUNCTION(RSimple, ReleaseData);</pre>
 <p>This sets the default cleanup behaviour for the RSimple class to be <a href="GUID-343443A2-42F8-320E-A90C-5A7EA92F3C31.html#GUID-343443A2-42F8-320E-A90C-5A7EA92F3C31__GUID-B87E7EAD-DCB3-3528-A74F-17887291F845"><span class="apiname">RSimple::ReleaseData()</span></a>.
If this Macro is not used then the default cleanup behaviour would be to call <a href="GUID-343443A2-42F8-320E-A90C-5A7EA92F3C31.html#GUID-343443A2-42F8-320E-A90C-5A7EA92F3C31__GUID-08235146-9589-368E-B223-A2E464A2169B"><span class="apiname">RSimple::Close()</span></a>. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html" title="The EUser High Level Library introduces a new L-Class idiom along with a self managing string class and automatic resource management classes.">EUser High Level Concepts</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-3799F0DA-B99C-55BB-B44F-63B971DF1865.html" title="This tutorial describes the cleanup strategy and provides details on alternative cleanup strategies.">Cleanup Strategy
Tutorial</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>