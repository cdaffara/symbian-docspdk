<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Adding, removing, and accessing header field parameters"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-B432A48B-46CE-4FD4-880E-DA15AA304CAA"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Adding, removing, and accessing header field parameters</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-B432A48B-46CE-4FD4-880E-DA15AA304CAA"><a name="GUID-B432A48B-46CE-4FD4-880E-DA15AA304CAA"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387372 id2387380 id2387389 id2387497 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html">High Level Internet Protocols Guide</a> &gt; <a href="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html">Application Layer Protocols</a> &gt; <a href="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html">Using HTTP Client</a> &gt; <a href="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html">Headers</a> &gt; </div>
<h1 class="topictitle1">Adding,
removing, and accessing header field parameters</h1>
<div>
<div class="section" id="GUID-B432A48B-46CE-4FD4-880E-DA15AA304CAA__GUID-D96EA794-4D54-4F15-B839-EBA42687751F"><a name="GUID-B432A48B-46CE-4FD4-880E-DA15AA304CAA__GUID-D96EA794-4D54-4F15-B839-EBA42687751F"><!-- --></a> <p>Parameters can be associated with header field parts at the time
of adding the part. There are two variants of <a href="GUID-54F9A87B-FE2F-3429-9793-0A24B83466B9.html#GUID-54F9A87B-FE2F-3429-9793-0A24B83466B9__GUID-A8708AE6-8EAE-37C9-BAD2-87E4A7DCE266"><span class="apiname">RHTTPHeaders::SetFieldL()</span></a>:
the first is described previously. The second variant takes four parameters,
of which two specify the part name/value and two specify the parameter name/value. </p>
 <p>To
associate more than one parameter with the part, the function must be invoked
repeatedly. This does not create duplicate parts; rather it locates the part
with the specified value, and then adds additional parameters. </p>
 <p>To
remove parameters from header parts, the entire part must be removed using <a href="GUID-54F9A87B-FE2F-3429-9793-0A24B83466B9.html#GUID-54F9A87B-FE2F-3429-9793-0A24B83466B9__GUID-656EF7AC-479E-3408-B00C-9FAE3022A37B"><span class="apiname">RHTTPHeaders::RemoveFieldPart()</span></a>,
and then added again. </p>
 <p>To access parameter values, the header name
and parameter name must be specified. <a href="GUID-54F9A87B-FE2F-3429-9793-0A24B83466B9.html#GUID-54F9A87B-FE2F-3429-9793-0A24B83466B9__GUID-AAEA368C-D8E6-365E-8B05-31CC812F0469"><span class="apiname">RHTTPHeaders::GetParam()</span></a> is
used, and has an optional fourth parameter in which the part index can be
provided. If not, the API assumes that the first header part contains the
parameter. </p>
 <p>The following code from <span class="filepath">HTTPEXAMPLECLIENT</span> illustrates
the use of header parameters with the <samp class="codeph">WWW-Authenticate</samp> header: </p>
 <pre class="codeblock" id="GUID-B432A48B-46CE-4FD4-880E-DA15AA304CAA__GUID-DAD45847-DD81-54D3-AD90-C40A5F7ABC45"><a name="GUID-B432A48B-46CE-4FD4-880E-DA15AA304CAA__GUID-DAD45847-DD81-54D3-AD90-C40A5F7ABC45"><!-- --></a>// Display realm for WWW-Authenticate header
            RStringF wwwAuth = strP.StringF(HTTP::EWWWAuthenticate,RHTTPSession::GetTable());
            if (fieldNameStr == wwwAuth)
                {
                // check the auth scheme is 'basic'
                RStringF basic = strP.StringF(HTTP::EBasic,RHTTPSession::GetTable());
                RStringF realm = strP.StringF(HTTP::ERealm,RHTTPSession::GetTable());
                THTTPHdrVal realmVal;
                if ((fieldVal.StrF() == basic) &amp;&amp; 
                    (!hdr.GetParam(wwwAuth, realm, realmVal)))
                    {
                    RStringF realmValStr = strP.StringF(realmVal.StrF());
                    fieldVal16.Copy(realmValStr.DesC());
                    iUtils.Test().Printf(_L("Realm is: %S\n"), &amp;fieldVal16);
                    realmValStr.Close();
                    }
                basic.Close();
                realm.Close();
                }
            wwwAuth.Close();</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F6CF2920-9095-568B-B332-D5F4A05BD23A.html">Headers</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>