<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Bitmap Transform Library Guide"/>
<meta name="abstract" content="This topic provides more detailed information about and code snippets for the Bitmap Transform library."/>
<meta name="description" content="This topic provides more detailed information about and code snippets for the Bitmap Transform library."/>
<meta name="DC.Relation" scheme="URI" content="GUID-9DFB1340-FA1E-530E-9372-DB6509CECA2B.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7DB86BF1-0485-5CBA-9554-4C474B0EC1FB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9DFB1340-FA1E-530E-9372-DB6509CECA2B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-88091838-03FC-550F-9A3D-DA70907EF955.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0B39D73-0A3C-5289-A774-7BE590037404.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E6692CDA-9E24-57AE-9BC2-14D68D6480C3.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Bitmap Transform Library Guide</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2405245 id2405618 id2405650 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">Multimedia APIs and Frameworks Collection</a> &gt; <a href="GUID-7DB86BF1-0485-5CBA-9554-4C474B0EC1FB.html">Imaging Frameworks Component</a> &gt; <a href="GUID-9DFB1340-FA1E-530E-9372-DB6509CECA2B.html">Bitmap Transform Library</a> &gt; </div>
<h1 class="topictitle1">Bitmap Transform Library Guide</h1>
<div><p>This topic provides more detailed information about and code snippets for the Bitmap Transform library. </p>
<div class="section" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-7D1E45F2-2793-5BE5-8F9E-1F92228A4C06"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-7D1E45F2-2793-5BE5-8F9E-1F92228A4C06"><!-- --></a><h2 class="sectiontitle">Purpose</h2> <p>Bitmap Transform makes it possible for bitmap images to be resized and rotated as described below. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Introducing Bitmap Transformation</h2> <p>The resizing or scale (<a href="GUID-2008D827-A84A-3170-A8BD-86002BA37979.html"><span class="apiname">CBitmapScaler</span></a>) and rotation (<a href="GUID-D0835677-6790-3038-8893-83E7186F47E7.html"><span class="apiname">CBitmapRotator</span></a>) actions are asynchronous operations that take a pointer to a <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html"><span class="apiname">TRequestStatus</span></a> object, which is signalled on completion of the requested action. The client application or calling DLL will hold the <samp class="codeph">TRequestStatus</samp> values within active objects. As with any use of an active object it is necessary to have an active scheduler present in the same thread as the application making use of the object. </p>
 <p> <strong>Note:</strong>  <a href="GUID-2008D827-A84A-3170-A8BD-86002BA37979.html"><span class="apiname">CBitmapScaler</span></a> and <a href="GUID-D0835677-6790-3038-8893-83E7186F47E7.html"><span class="apiname">CBitmapRotator</span></a> are not able them to run in their own thread. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Bitmap Transformation Example - Bitmap scaling</h2> <p>There are two variants of the <a href="GUID-2008D827-A84A-3170-A8BD-86002BA37979.html#GUID-2008D827-A84A-3170-A8BD-86002BA37979__GUID-CCE10188-A9FD-38C8-89EC-3908C91DD25A"><span class="apiname">CBitmapScaler::Scale()</span></a> function. The first variant performs rescaling on an image contained in one <a href="GUID-683A1D42-2764-3EB7-BD19-9E12559199AB.html"><span class="apiname">CFbsBitmap</span></a> object and places the result in another object. The second variant rescales an image contained in a <samp class="codeph">CFbsBitmap</samp> object and places the result back in the same object. This is illustrated below. </p>
 <pre class="codeblock" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-0979C855-4592-5652-BE58-4DA92C54CEFD"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-0979C855-4592-5652-BE58-4DA92C54CEFD"><!-- --></a>void Scale(TRequestStatus* aRequestStatus, CFbsBitmap&amp; aSrcBitmap, CFbsBitmap&amp; aTgtBitmap, TBool aMaintainAspectRatio = ETrue);
void Scale(TRequestStatus* aRequestStatus, CFbsBitmap&amp; aBitmap, const TSize&amp; aDestinationSize, TBool aMaintainAspectRatio = ETrue);</pre>
 <p>If two <samp class="codeph">CFbsBitmap</samp> objects are specified in the scale operation, the dimensions of the destination object are used as the rescaling factors, subject to the aspect ratio setting (described below). </p>
 <p>If only the one <samp class="codeph">CFbsBitmap</samp> object is specified in the scale operation, the scaling factor is taken from <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html"><span class="apiname">TSize</span></a> subject to the aspect ratio setting. </p>
 <p>The aspect ratio is maintained if <samp class="codeph">aMaintainAspectRatio</samp> is <samp class="codeph">ETrue</samp>. If the ratio is used, then the image is rescaled to the smaller of the horizontal and vertical scaling factors. This is best explained by use of an example. </p>
 <p>In this example, the source image is 50 pixels wide by 150 pixels high (an aspect ratio of 1:3), <samp class="codeph">aMaintainAspectRatio</samp> is set to <samp class="codeph">ETrue</samp>, and the proposed rescaling is to 75 pixels wide by 300 high. Applying this ratio to the smaller of the horizontal and vertical factors means using a new value for the larger rescaling factor so that the aspect ratio matches that of the source image. The smaller value is 75 pixels, the aspect ratio required is 1:3 so the larger value will be 75*3 which is 225. The image will be rescaled to 75 wide by 225 high. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Bitmap Transformation Example - Bitmap rotation</h2> <p>There are two variants of the <a href="GUID-2008D827-A84A-3170-A8BD-86002BA37979.html#GUID-2008D827-A84A-3170-A8BD-86002BA37979__GUID-A655241C-5339-35E2-8BDE-EDAF13ECC87A"><span class="apiname">CBitmapScaler::Rotate()</span></a> function. The first performs a rotational action on an image contained in one <a href="GUID-683A1D42-2764-3EB7-BD19-9E12559199AB.html"><span class="apiname">CFbsBitmap</span></a> object and places the result in another object. The second variant performs a rotational action on an image contained in a <samp class="codeph">CFbsBitmap</samp> object and places the result back in the same object. Valid rotational increments are specified in <a href="GUID-D0835677-6790-3038-8893-83E7186F47E7.html#GUID-D0835677-6790-3038-8893-83E7186F47E7__GUID-D89261A3-D59C-38BC-BF55-B0C758AC9C85"><span class="apiname">CBitmapRotator::TRotationAngle</span></a>. </p>
 <p>Note: <a href="GUID-2008D827-A84A-3170-A8BD-86002BA37979.html#GUID-2008D827-A84A-3170-A8BD-86002BA37979__GUID-A655241C-5339-35E2-8BDE-EDAF13ECC87A"><span class="apiname">CBitmapScaler::Rotate()</span></a> does not support user specified rotational angles. The only values allowed are those specified in <a href="GUID-D0835677-6790-3038-8893-83E7186F47E7.html#GUID-D0835677-6790-3038-8893-83E7186F47E7__GUID-D89261A3-D59C-38BC-BF55-B0C758AC9C85"><span class="apiname">CBitmapRotator::TRotationAngle</span></a>. </p>
 <pre class="codeblock" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-4FF39951-1B71-5267-813B-32828EB4A73B"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-4FF39951-1B71-5267-813B-32828EB4A73B"><!-- --></a>void Rotate(TRequestStatus* aRequestStatus, CFbsBitmap&amp; aSrcBitmap, CFbsBitmap&amp; aTgtBitmap, TRotationAngle aAngle);

void Rotate(TRequestStatus* aRequestStatus, CFbsBitmap&amp; aBitmap, TRotationAngle aAngle);
</pre>
 
<div class="tablenoborder"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-A207445C-18A1-5BA0-9E98-2D1C8A3126E7"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-A207445C-18A1-5BA0-9E98-2D1C8A3126E7" frame="border" border="1" rules="all"><tbody><tr><td class="cellrowborder" valign="top"><div class="fignone" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-E8157802-DA4E-5C30-94CE-E91DCD632187"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-E8157802-DA4E-5C30-94CE-E91DCD632187"><!-- --></a><img src="GUID-27529BB0-8034-56B0-82FA-3E4CFDEBC99A_d0e512390_href.png"/></div>
 </td>
 <td class="cellrowborder" valign="top"><p> <samp class="codeph">ERotation90DegreesClockwise</samp>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><div class="fignone" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-FEF7BCE4-26B8-552A-9E86-C7F21AA8D88A"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-FEF7BCE4-26B8-552A-9E86-C7F21AA8D88A"><!-- --></a><img src="GUID-29F55D74-A206-5862-9C83-2C5045B2DB7F_d0e512405_href.png"/></div>
 </td>
 <td class="cellrowborder" valign="top"><p> <samp class="codeph">ERotation180DegreesClockwise</samp>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><div class="fignone" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-A12CB5D1-599B-5F85-B879-610EA9CD2CF9"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-A12CB5D1-599B-5F85-B879-610EA9CD2CF9"><!-- --></a><img src="GUID-37888891-DFB2-5A93-9547-3B22410906BF_d0e512420_href.png"/></div>
 </td>
 <td class="cellrowborder" valign="top"><p> <samp class="codeph">ERotation270DegreesClockwise</samp>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><div class="fignone" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-37EC2688-E3AC-51A4-86F9-95124DDF40F8"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-37EC2688-E3AC-51A4-86F9-95124DDF40F8"><!-- --></a><img src="GUID-BA1071D5-E358-5B33-9204-CDCD0CECEF0A_d0e512435_href.png"/></div>
 </td>
 <td class="cellrowborder" valign="top"><p> <samp class="codeph">EMirrorHorizontalAxis</samp>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><div class="fignone" id="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-DFFCC6D6-B7F7-5047-B93D-CF79B2D47F17"><a name="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125__GUID-DFFCC6D6-B7F7-5047-B93D-CF79B2D47F17"><!-- --></a><img src="GUID-399F7F7D-3E8E-58BB-9925-9F34C561C39A_d0e512450_href.png"/></div>
 </td>
 <td class="cellrowborder" valign="top"><p> <samp class="codeph">EMirrorVerticalAxis</samp>  </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-9DFB1340-FA1E-530E-9372-DB6509CECA2B.html">Bitmap Transform Library</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-88091838-03FC-550F-9A3D-DA70907EF955.html">Imaging Frameworks overview</a></div>
<div><a href="GUID-C0B39D73-0A3C-5289-A774-7BE590037404.html" title="This document introduces you to the Bitmap Transform library."> Bitmap Transform Library
                Overview</a></div>
<div><a href="GUID-9D6C086F-7621-5522-AE0B-81CBD5E99125.html" title="This topic provides more detailed information about and code snippets for the Bitmap Transform library.">Bitmap Transform Library Guide</a></div>
<div><a href="GUID-E6692CDA-9E24-57AE-9BC2-14D68D6480C3.html">Enhanced Features for Encoder and
                Decoder Tutorial</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>