<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Connection Management"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2139B04C-6ED6-599B-A018-D92451B8353E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CFC075C-8F53-5E1B-A111-C6F4567DFD1E.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Connection Management</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2682451 id2518388 id2518454 id2518462 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" title="The Communications Framework is the base for all communications, network and telephony services that Symbian platform provides. The Communications Framework manages the communications threads and the flow of information between those threads. The Framework also manages and stores the communications related settings.">Communications Framework Guide</a> &gt; <a href="GUID-2139B04C-6ED6-599B-A018-D92451B8353E.html">Data Communications Server</a> &gt; <a href="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD.html">Socket Server</a> &gt; <a href="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html">Concepts</a> &gt; </div>
<h1 class="topictitle1">Connection
Management</h1>
<div>
<p>This topic introduces the concept of Connection Management and the APIs
needed to perform Connection Management operations. The APIs discussed include <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html"><span class="apiname">RConnection</span></a> and <a href="GUID-B16CAD6D-85B1-3482-AAC0-9BADEDB6ABDD.html"><span class="apiname">RHostResolver</span></a>. </p>

<p>The RConnection API provides: </p>

<ul>
<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-395ABFCE-2A51-5205-B3FF-F85C882AF761"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-395ABFCE-2A51-5205-B3FF-F85C882AF761"><!-- --></a><p>an interface for actively
creating and managing connections </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-C3A61C1A-72DF-5304-9758-F6C298DF93AD"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-C3A61C1A-72DF-5304-9758-F6C298DF93AD"><!-- --></a><p>facilities that are
not available when creating connections by other methods. Such facilities
include support for multihoming. </p>
 </li>

</ul>

<p>Introduced with the <span class="keyword">multihoming</span> functionality, which
allows multiple Circuit/Packet Switched Data connections to be active. </p>



<p><strong>Implementation </strong> </p>

<p>The connection management API is implemented by <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html"><span class="apiname">RConnection</span></a>. </p>

<p> <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html"><span class="apiname">RConnection</span></a> objects are implemented as sub-sessions
to the <a href="GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><span class="apiname">RSocketServ</span></a>. </p>



<p><strong>Connections and subconnections </strong> </p>

<p>An RConnection is the handle for an application onto an underlying interface.
(But there may be a number of RConnections per interface). </p>

<p>Technologies such as W-CDMA and later releases of GPRS are capable of establishing
multiple subconnections within a connection. This is supported by the management
interface. </p>

<p>Note that all subconnections within a connection will have certain parameters
in common, such as the Access Point Name in the case of GPRS and WCDMA. However,
each subconnection may have a different Quality-of-Service. </p>



<p><strong>Guidelines for use </strong> </p>

<p> <samp class="codeph">RConnection</samp> s need to be opened on an existing socket
server session, <a href="GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><span class="apiname">RSocketServ</span></a>. </p>

<p>In the API as a whole, there is an important distinction made between an <samp class="codeph">RConnection</samp> object
which has been newly opened on an socket server session but not yet associated
with an underlying interface on the server, and one which is opened and associated.
There are certain operations that require a <samp class="codeph">RConnection</samp> object
to be in the associated state to work successfully. The <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html#GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD__GUID-CB62E838-A380-309C-8B08-1F804EDB4387"><span class="apiname">RConnection::Start()</span></a> and <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html#GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD__GUID-EAB8B0B1-0F5B-31E5-BFD6-B3AE1181868E"><span class="apiname">RConnection::Attach()</span></a> methods
are used to associate an <samp class="codeph">RConnection</samp> object with an interface. </p>

<p>There is no restriction on the number of <samp class="codeph">RConnection</samp> objects
per socket server session. It is also possible for several <samp class="codeph">RConnection</samp> objects
to refer to the same underlying interface. For example, several applications,
each with its own socket server session and <samp class="codeph">RConnection</samp> object,
could refer to the same underlying interface. It is also technically possible
for the said <samp class="codeph">RConnection</samp> objects to be on the same socket
server session, though this may be somewhat redundant. </p>

<p>Rather like <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html"><span class="apiname">RSocket</span></a> /<a href="GUID-B16CAD6D-85B1-3482-AAC0-9BADEDB6ABDD.html"><span class="apiname">RHostResolver</span></a> objects,
an individual <samp class="codeph">RConnection</samp> object is not designed to be used
by multiple clients simultaneously (i.e. have multiple requests outstanding
on it from different clients). </p>

<p>Although <samp class="codeph">RConnection</samp> objects are automatically closed
when the corresponding socket server session is closed, appropriate use of <samp class="codeph">CleanupClosePushL(RConnection&amp;)</samp> is
more likely to ensure proper operation. </p>

<p> <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html"><span class="apiname">RSocket</span></a> and <a href="GUID-B16CAD6D-85B1-3482-AAC0-9BADEDB6ABDD.html"><span class="apiname">RHostResolver</span></a> objects
can be associated with an <samp class="codeph">RConnection</samp> object. In this case,
data will flow over the same underlying interface as the <samp class="codeph">RConnection</samp> to
which they have been associated. For this to work, the <samp class="codeph">RSocket/RHostResolver/RConnection</samp> objects
must all be on the same socket server session, and the <samp class="codeph">RConnection</samp> object
must have been previously opened and active (i.e. associated with an underlying
interface). </p>

<div class="section" id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-83D1E933-6A85-40C0-A9D0-7F465953DAFB"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-83D1E933-6A85-40C0-A9D0-7F465953DAFB"><!-- --></a><h2 class="sectiontitle">Connection Management functionality</h2> <p> <samp class="codeph">RConnection</samp> provides
clients with the following functionality: </p>
 <ul>
<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-882DB251-213D-58BF-9398-9ADC68341298"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-882DB251-213D-58BF-9398-9ADC68341298"><!-- --></a><p>Opening and closing
the connection </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-E20078EE-FE93-5452-877B-C3F7985142FD"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-E20078EE-FE93-5452-877B-C3F7985142FD"><!-- --></a><p>Starting a connection,
which means associating it with a new underlying interface </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-FBBB3514-280E-5989-AC76-B81DD8CAC8B8"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-FBBB3514-280E-5989-AC76-B81DD8CAC8B8"><!-- --></a><p>Attaching the <samp class="codeph">RConnection</samp> instance
to an existing interface </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-BB58A700-B58C-5C26-BD67-688EE0CF55C2"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-BB58A700-B58C-5C26-BD67-688EE0CF55C2"><!-- --></a><p>Stopping the connection,
which means disassociating it from the underlying interface </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-A74BD98D-F3A7-5FE4-9F74-60AC2E1FBB78"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-A74BD98D-F3A7-5FE4-9F74-60AC2E1FBB78"><!-- --></a><p>Obtaining progress information
and notification during connection start-up </p>
 <p>This is useful because
the process of dialling an ISP, logging in and starting network protocols
can be quite lengthy, taking up to a minute in some cases. In addition, the
application can get the last error which occurred in setting up the connection. </p>
 <p> </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-9AAABE2A-3FB0-5B63-948F-2B3112683B0C"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-9AAABE2A-3FB0-5B63-948F-2B3112683B0C"><!-- --></a><p>Notifying when subconnections
come up and go down </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-418DFF66-415A-510D-AB86-1090EE0DC6B8"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-418DFF66-415A-510D-AB86-1090EE0DC6B8"><!-- --></a><p>Notifying when there
is a service change for the connection </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-CF7D3A21-0A1F-537B-AF50-4EDDBB931557"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-CF7D3A21-0A1F-537B-AF50-4EDDBB931557"><!-- --></a><p>Notifying when a given
amount of data has been sent or received on a connection or subconnection </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-E192532A-F857-5869-B5E0-D657AAFC8290"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-E192532A-F857-5869-B5E0-D657AAFC8290"><!-- --></a><p>Reading CommDB fields
specific to an active connection </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-1A83A7BD-FA23-5F4F-8D28-A0A24481DB9F"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-1A83A7BD-FA23-5F4F-8D28-A0A24481DB9F"><!-- --></a><p>Collecting statistical
information on the network connection and subconnections. A UI component can
display the collected statistical information in order to allow the user to
examine the status of connections. The information that can be gathered is
the following: </p>
 <ul>
<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-AF90F93C-DA10-539F-842A-34337C51427F"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-AF90F93C-DA10-539F-842A-34337C51427F"><!-- --></a><p>All available internet
access point names and internet access point 'friendly' names as appropriate
for each network (GPRS/UMTS) connection </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-66B29945-C319-5E56-ABCA-301188643CDB"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-66B29945-C319-5E56-ABCA-301188643CDB"><!-- --></a><p>Enumerating the currently
active connections and subconnections </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-8E888149-A79D-5608-9875-9753CEE59EE9"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-8E888149-A79D-5608-9875-9753CEE59EE9"><!-- --></a><p>The current status of
all network connections e.g. active/suspended </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-B1125663-747F-5F8C-927F-94AB17482FE5"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-B1125663-747F-5F8C-927F-94AB17482FE5"><!-- --></a><p>The amount of data (in
bytes) transferred uplink and downlink by the network connection and subconnections </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-E00B23A4-E91B-54E7-9AE1-429E19C520AB"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-E00B23A4-E91B-54E7-9AE1-429E19C520AB"><!-- --></a><p>The amount of time each
network connection has been active (in seconds) </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-7AC5AC0D-9147-52A5-A427-B5D798D9A119"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-7AC5AC0D-9147-52A5-A427-B5D798D9A119"><!-- --></a><p>The current status of
the connection and subconnections with respect to data transfer, i.e. active/inactive </p>
 </li>

<li id="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-AD4C0A7A-E48E-513F-806A-40934415D42B"><a name="GUID-BD8446C5-3ADE-59A6-A13A-A5482D6FC56F__GUID-AD4C0A7A-E48E-513F-806A-40934415D42B"><!-- --></a><p>The Quality of Service
profile associated with each Packet Data Protocol (GPRS/UMTS) context, e.g.
low/medium/high </p>
 </li>

</ul>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html">Concepts</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a href="GUID-5CFC075C-8F53-5E1B-A111-C6F4567DFD1E.html" title="This topic provides a summary of the functionality of the RConnection class.">RConnection
API Summary                 Reference</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>