<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Escape and Insert"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F46CDF2C-DA64-5F30-B4C8-CC4B02CE67B9.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F46CDF2C-DA64-5F30-B4C8-CC4B02CE67B9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-42F0F282-58D6-4878-B53D-EAEEF86A3D7D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-834F5FC8-EBE4-4076-B1E3-38DDFF89D700.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Escape and Insert</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E"><a name="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2381979 id2382016 id2382030 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html">Generic Services</a> &gt; <a href="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382.html">HTTP Utilities Library</a> &gt; <a href="GUID-F46CDF2C-DA64-5F30-B4C8-CC4B02CE67B9.html">HTTP Utilities Library Concepts</a> &gt; </div>
<h1 class="topictitle1">Escape
and Insert</h1>
<div>
<p>This section explains the concept of escape and insert, which is necessary
for avoiding conflicts of characters and interpreting URI correctly. </p>

<p>A character in the URI may not be available on the keyboard or might not
be usable in contexts where it may conflict with a reserved character. In
either case, the character can be encoded with a '<em>%</em>' followed by its
ASCII hexadecimal equivalent code. For more information, refer to <a href="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF.html">Escape
encoding and decoding</a>. </p>

<p>The following example shows how the character "#" is encoded with a "%"
followed by its ASCII hexadecimal equivalent code "%23". To modify the data
and escape encode, the following functions are used: </p>

<pre class="codeblock" id="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E__GUID-46E2E0B1-28D3-5F96-8C34-3447C8A1B2D3"><a name="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E__GUID-46E2E0B1-28D3-5F96-8C34-3447C8A1B2D3"><!-- --></a>_LIT8(KInsertEscape,"file#1"); //data to insert
dpath-&gt;InsertAndEscapeCurrentL(KInsertEscape); //escape encode and insert segment
const TDesC8&amp; des = dpath-&gt;Parser().Des(); //descritpor contains "/Myfolder/file%231/logs"</pre>

<p>The code escape encodes the segment and inserts the escaped version before
the current parsed segment. <samp class="codeph">des</samp> holds "<samp class="codeph">/Myfolder/file%231/logs</samp> "
after inserting the escape encoded segment "<samp class="codeph">file%231</samp> ". </p>

<pre class="codeblock" id="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E__GUID-50E07325-077F-52FE-BD56-FB649FE16BF4"><a name="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E__GUID-50E07325-077F-52FE-BD56-FB649FE16BF4"><!-- --></a>_LIT8(KPushEscape,"file#1");
dpath-&gt;PushAndEscapeFrontL(KPushEscape); //escape encode and insert the segment
const TDesC8&amp; des6 = dpath-&gt;Parser().Des(); //descritpor contains "/file%231/Myfolder/logs"</pre>

<p> <a href="GUID-6BD89347-671F-3518-9777-55801A090C79.html"><span class="apiname"/></a> The code escape encodes the segment <samp class="codeph">file#1</samp> and
inserts the escaped version at the beginning of the path. <samp class="codeph">des</samp> holds
"<samp class="codeph">/file%231/Myfolder/logs</samp> " after inserting "<samp class="codeph">file%231</samp> ".
To insert an escape encoded version of the segment at the end of the path,
use <a href="GUID-51DFAA06-EC5E-32E6-9819-39938C46B2C0.html#GUID-51DFAA06-EC5E-32E6-9819-39938C46B2C0__GUID-8B544BA8-C70B-3BF1-A752-6424CA9B28EB"><span class="apiname">CDelimitedPath8::PushAndEscapeFrontL()</span></a>. </p>

<p>In all the three insert functions, the newly inserted segments should contain
a single path segment, as any path delimiters in the segment will be converted
to an escape triple. </p>

<p> <strong> Note</strong>: In case of Unicode data, first convert to utf8, escape encode,
re-convert to 16-bit, and then insert the escaped version of the path segment. </p>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F46CDF2C-DA64-5F30-B4C8-CC4B02CE67B9.html">HTTP Utilities Library Concepts</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723.html">HTTP Utilities
Library Overview</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-42F0F282-58D6-4878-B53D-EAEEF86A3D7D.html" title="This tutorial describes the steps to parse delimited data. The data in the URI that is delimited into segments can be parsed using the TDelimitedXxxxParser8 classes.">Parsing
Delimited Data</a></div>
<div><a href="GUID-834F5FC8-EBE4-4076-B1E3-38DDFF89D700.html" title="This tutorial describes the steps to modify the data and delimiter.">Modifying
the Data and Delimiter</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>