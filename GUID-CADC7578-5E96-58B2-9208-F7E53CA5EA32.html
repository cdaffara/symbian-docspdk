<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-672B6ECC-4A22-5B34-B827-FCCEC5083DCF.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-672B6ECC-4A22-5B34-B827-FCCEC5083DCF.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-CADC7578-5E96-58B2-9208-F7E53CA5EA32"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-CADC7578-5E96-58B2-9208-F7E53CA5EA32"><a name="GUID-CADC7578-5E96-58B2-9208-F7E53CA5EA32"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2397554 id2397680 id2397961 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html">Multimedia Protocols Guide</a> &gt; <a href="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html">SIP</a> &gt; <a href="GUID-672B6ECC-4A22-5B34-B827-FCCEC5083DCF.html">SIP NAT Traversal Controller API</a> &gt; </div>
<h1 class="topictitle1">Overview</h1>
<div>
<p>SIP NAT Traversal Controller API is an ECOM plug-in API that provides the
connection between the SIP stack and an external UNSAF protocol module. The
Network Address Translator (NAT) devices are found between the SIP User Agent
(SIP UA) and SIP proxy, and have the UA as an outbound proxy. This creates
the problems to maintain SIP connectivity between the UA and the remaining
of the SIP network that are described as follows: </p>

<ul>
<li id="GUID-CADC7578-5E96-58B2-9208-F7E53CA5EA32__GUID-54670533-2436-5214-A2D8-FFE336B1433F"><a name="GUID-CADC7578-5E96-58B2-9208-F7E53CA5EA32__GUID-54670533-2436-5214-A2D8-FFE336B1433F"><!-- --></a><p>The SIP
UA registers its contact to SIP registrar using the private IP address &amp;
UDP/TCP port pair within the contact URI. These addresses are not accessible
from the proxy. The NAT maps the private addresses to some other addresses
which can be public or private, in another address range. The proxy can access
the UA when you send the SIP requests and responses to addresses that the
NAT allocates for the UA. You must have the Contact header of the REGISTER
request to contain addresses allocated by the NAT for the UA, instead of the
private addresses of the UA. </p>
 </li>

<li id="GUID-CADC7578-5E96-58B2-9208-F7E53CA5EA32__GUID-7EF2F69F-C01F-5F41-8348-323580473E23"><a name="GUID-CADC7578-5E96-58B2-9208-F7E53CA5EA32__GUID-7EF2F69F-C01F-5F41-8348-323580473E23"><!-- --></a><p>The NAT allocates IP
addresses to the UA when the UA sends IP packets to a destination through
the NAT. The NAT type determines if the address-port pairs are either applicable
or dependent on the IP address and UDP or TCP port. The UA sends the IP packets
to the UDP or TCP port. </p>
 <p>Depending on the NAT type, the addresses within
the contact URI must be those that any device outside the NAT can see and
use or those that only the specific destination (SIP proxy in this case) can
see. To detect addresses the UA uses Unilateral Self-Address Fixing (UNSAF)
protocols defined within IETF. These protocols include the Simple Traversal
of UDP through NATs (STUN) or Traversal Using Relay NAT (TURN). </p>
<p>The
allocation created by NAT is not permanent. It expires if the UDP flow or
TCP connection between the end-points remains idle. To prevent expiration
the UA send keepalive messages within the flow to refresh the mapping. Different
types of keepalive messages are used like Carriage-Return/Line-Feed (CRLF)
sequences, OPTIONS requests or STUN binding requests</p>
</li>

</ul>

<p>To enable all these processes the SIP stack contains an ECOM plug-in API,
SIP NAT Traversal Controller API. The stack uses these plug-ins to access
and use a separate UNSAF protocol implementation. This implementation supports
protocols like STUN and TURN. These protocols enable the SIP stack to detect
the server reflexive and relayed addresses for the UA The protocols also implements
the keepalive messages for the flow toward the outbound proxy. </p>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-672B6ECC-4A22-5B34-B827-FCCEC5083DCF.html">SIP NAT Traversal Controller API</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>