<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CMdaAudioOutputStream"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D"/>

<title>CMdaAudioOutputStream</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D"><a name="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2865498 id2548409 id2548414 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CMdaAudioOutputStream Class Reference</h1>
	<table class="signature"><tr><td>class CMdaAudioOutputStream : public CBase</td></tr></table><div class="section"><div>
			<p>The interface to an audio stream player passing raw audio data from specified buffers to the audio hardware.</p>

			<p>This class enables MMF clients to:</p>

			<p>Stream raw audio data to the audio hardware from specified buffers</p>

			<p>Specify the priority of the audio stream in relation to other clients that may request to use the same audio hardware</p>

			<p>Set the sample rate and the number of channels after successfully opening the stream. It is not possible to change these values once streaming has started.</p>

			<p>Change the volume and balance before or while the stream is open for writing. Volume and balance settings take effect immediately.</p>

			<p>The API supports callbacks from the server to notify the client:</p>

			<p>MaoscOpenComplete() will be called when the audio streaming object is open and ready to stream data back to the audio hardware as a result of a previous call to <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-BC053D44-CB93-36F8-BD25-970820686637">Open()</a>.</p>

			<p>MaoscBufferCopied() will be called each time audio data has been successfully copied to the lower layers of the MMF as a result of a previous <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-5F12C38B-FBA3-31BE-96DD-599E62828118">WriteL()</a>.</p>

			<p>MaoscPlayComplete() will be called when the audio data stream has been closed as a result of a previous <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a>. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMdaAudioOutputStream<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-CE1EDB77-92B6-33A9-9DFB-AE6579307310">~CMdaAudioOutputStream</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A95960AF-93BC-31A9-9D45-4787A6127713">CancelRegisterAudioResourceNotification</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-20122E2A-7857-364A-A537-CC38F19FCCEE">CustomInterface</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td><a href="#GUID-F8694C74-B9DD-3662-9ACF-3FC9722F6CBF">DataType</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-298393C0-DBBD-3DA1-BC31-3ADA8DC20D14">GetBalanceL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C0DDFD94-96B6-38A4-B1AA-0D7B4FA578BC">GetBytes</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD">KeepOpenAtEnd</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A">MaxVolume</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td><a href="#GUID-C0AFF4BB-1466-312E-A082-F13AC63C3B1E">NewL</a>(<a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;, <a href="GUID-30BDDE6F-76F0-3DC8-952F-FD475CFA5253.html">CMdaServer</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td><a href="#GUID-C79F8760-47C0-37A7-BAF7-B7507F02928C">NewL</a>(<a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-BC053D44-CB93-36F8-BD25-970820686637">Open</a>(<a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-7A5CE635-59C2-3161-955B-69B36C778009">Pause</a>()</td></tr><tr><td align="right" class="code">const <a href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td><a href="#GUID-3D170D14-0C78-3721-9798-D36AAA703DCF">Position</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6F4B0C1E-A0DE-3403-A90E-12418204D1DB">RegisterAudioResourceNotification</a>(<a href="GUID-D58575E9-346A-356E-A683-73283A6BE465.html">MMMFAudioResourceNotificationCallback</a> &amp;, <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6ABB894D-043E-338B-9033-E77E6A513664">RequestStop</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6C06B180-A03C-3969-A460-E1D2631144EC">Resume</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D7F8BC32-650F-3393-A43B-578FF6EDF608">SetAudioPropertiesL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-70564DB3-4E99-3B7C-9578-D7C62A655FAB">SetBalanceL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7D863552-A8B3-3840-A64C-3E2C369D6C26">SetDataTypeL</a>(<a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-510856FD-364A-3ADE-89E0-E5786247F98D">SetPriority</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-3F35072C-EE4B-3330-BEEF-4C7D1B31371B">SetVolume</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-64CB9AF5-02A7-3A16-BAC9-4372D752DFF1">Volume</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-47317FDC-67CC-36D9-B572-73A4104BFDA8">WillResumePlay</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-5F12C38B-FBA3-31BE-96DD-599E62828118">WriteL</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-DA370402-E5E4-3D93-B122-10A846DFB245">CMdaAudioOutputStream</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-204BC861-5164-3F32-B12B-EC662FF94B3B.html">CMMFMdaAudioOutputStream</a> *</td><td><a href="#GUID-2FAF45D3-C118-32E4-8F54-87FC97DF9A8D">iProperties</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-DA370402-E5E4-3D93-B122-10A846DFB245"><a name="GUID-DA370402-E5E4-3D93-B122-10A846DFB245"><!-- --></a>
		<h2 class="topictitle2">CMdaAudioOutputStream()</h2>
		<table class="signature"><tr><td>CMdaAudioOutputStream</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-CE1EDB77-92B6-33A9-9DFB-AE6579307310"><a name="GUID-CE1EDB77-92B6-33A9-9DFB-AE6579307310"><!-- --></a>
		<h2 class="topictitle2">~CMdaAudioOutputStream()</h2>
		<table class="signature"><tr><td>~CMdaAudioOutputStream</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Destructor.</p>

				<p>Frees all resources owned by the object prior to its destruction. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-A95960AF-93BC-31A9-9D45-4787A6127713"><a name="GUID-A95960AF-93BC-31A9-9D45-4787A6127713"><!-- --></a>
		<h2 class="topictitle2">CancelRegisterAudioResourceNotification(TUid)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CancelRegisterAudioResourceNotification</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aNotificationEventId</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Cancels the registered notification event. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aNotificationEventId</td><td>The Event to notify the client. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-20122E2A-7857-364A-A537-CC38F19FCCEE"><a name="GUID-20122E2A-7857-364A-A537-CC38F19FCCEE"><!-- --></a>
		<h2 class="topictitle2">CustomInterface(TUid)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>CustomInterface</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aInterfaceId</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Retrieves a custom interface to the underlying device.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aInterfaceId</td><td>The interface UID, defined with the custom interface. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F8694C74-B9DD-3662-9ACF-3FC9722F6CBF"><a name="GUID-F8694C74-B9DD-3662-9ACF-3FC9722F6CBF"><!-- --></a>
		<h2 class="topictitle2">DataType()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td>DataType</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the current data type.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-298393C0-DBBD-3DA1-BC31-3ADA8DC20D14"><a name="GUID-298393C0-DBBD-3DA1-BC31-3ADA8DC20D14"><!-- --></a>
		<h2 class="topictitle2">GetBalanceL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBalanceL</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the current balance as an integer.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-C0DDFD94-96B6-38A4-B1AA-0D7B4FA578BC"><a name="GUID-C0DDFD94-96B6-38A4-B1AA-0D7B4FA578BC"><!-- --></a>
		<h2 class="topictitle2">GetBytes()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBytes</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns the current number of bytes rendered by audio hardware.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD"><a name="GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD"><!-- --></a>
		<h2 class="topictitle2">KeepOpenAtEnd()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>KeepOpenAtEnd</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>When this method is called, AudioOutputStream goes into a different mode wherein it does not call MaoscPlayComplete() with KErrUnderflow when all the supplied data has been played. Instead client should signal the end of the play by calling <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6ABB894D-043E-338B-9033-E77E6A513664">RequestStop()</a> or <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a> on AudioOutputStream. If the client calls <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6ABB894D-043E-338B-9033-E77E6A513664">RequestStop()</a>, AudioOutputStream waits until all the queued data has been played out and then calls MaoscPlayComplete(). This behaviour is different from that of <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a>, which stops the play immediately by discarding all the queued data.</p>

				<p>Client should call this method on <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D">CMdaAudioOutputStream</a> just after its construction and its effect remains through out its lifetime.</p>

				<p>Note: This feature is supported only on a DevSound which ignores the underflow errors in the middle of the play i.e which returns ETrue from QueryIgnoresUnderflow().</p>

				<p>
					<a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6ABB894D-043E-338B-9033-E77E6A513664">CMdaAudioOutputStream::RequestStop()</a> <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-DAE00D2F-C322-3CB1-BD19-C87E9AC6E431">CMMFDevSound::QueryIgnoresUnderflow()</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A"><a name="GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A"><!-- --></a>
		<h2 class="topictitle2">MaxVolume()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>MaxVolume</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Returns the maximum volume level.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-C0AFF4BB-1466-312E-A082-F13AC63C3B1E"><a name="GUID-C0AFF4BB-1466-312E-A082-F13AC63C3B1E"><!-- --></a>
		<h2 class="topictitle2">NewL(MMdaAudioOutputStreamCallback &amp;, CMdaServer *)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;</td><td>aCallBack,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-30BDDE6F-76F0-3DC8-952F-FD475CFA5253.html">CMdaServer</a> *</td><td>aServer = NULL</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Allocates and constructs an audio stream player object.</p>

				<p>Static NewL</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp; aCallBack</td><td>A callback to notify the client when the sound device is open and ready to receive data, when each descriptor has been copied and when the stream is closed. The caller must create a callback class which implements this interface.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-30BDDE6F-76F0-3DC8-952F-FD475CFA5253.html">CMdaServer</a> * aServer = NULL</td><td>A pointer to a CMdaServer. CMdaServer is deprecated and as such this parameter is only provided for backward compatibility. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C79F8760-47C0-37A7-BAF7-B7507F02928C"><a name="GUID-C79F8760-47C0-37A7-BAF7-B7507F02928C"><!-- --></a>
		<h2 class="topictitle2">NewL(MMdaAudioOutputStreamCallback &amp;, TInt, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;</td><td>aCallBack,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPriority,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPref = EMdaPriorityPreferenceTimeAndQuality</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Constructs and initialises a new instance of an audio streaming object.</p>

				<p>The function leaves if the audio streaming object cannot be created.</p>

				<p>Note: The Priority Value and Priority Preference are used primarily when deciding what to do when several audio clients attempt to play or record simultaneously. In addition to the Priority Value and Preference, the adaptation may consider other parameters such as the SecureId and Capabilities of the client process. Whatever, the decision as to what to do in such situations is up to the audio adaptation, and may vary between different phones. Portable applications are advised not to assume any specific behaviour.</p>

				<p>Static NewL</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp; aCallBack</td><td>A callback to notify the client when the sound device is open and ready to receive data, when each descriptor has been copied and when the stream is closed. The caller must create a callback class which implements this interface.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPriority</td><td>The Priority Value - this client's relative priority. This is a value between EMdaPriorityMin and EMdaPriorityMax and represents a relative priority. A higher value indicates a more important request.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPref = EMdaPriorityPreferenceTimeAndQuality</td><td>The Priority Preference - an additional audio policy parameter. The suggested default is EMdaPriorityPreferenceNone. Further values are given by TMdaPriorityPreference, and additional values may be supported by given phones and/or platforms, but should not be depended upon by portable code. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BC053D44-CB93-36F8-BD25-970820686637"><a name="GUID-BC053D44-CB93-36F8-BD25-970820686637"><!-- --></a>
		<h2 class="topictitle2">Open(TMdaPackage *)</h2>
		<table class="signature"><tr><td>void</td><td>Open</td><td>(</td><td><a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *</td><td>aSettings</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Opens an output audio stream package.</p>

				<p>The <a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html#GUID-2FEC8FE3-1682-3826-A173-2C70624B92B1">MMdaAudioOutputStreamCallback::MaoscOpenComplete()</a> callback function is called when the stream has been opened and is ready to receive audio data. If the open was unsuccessful, this is indicated by the aError parameter of the callback.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> * aSettings</td><td>A pointer to a TMdaPackage object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7A5CE635-59C2-3161-955B-69B36C778009"><a name="GUID-7A5CE635-59C2-3161-955B-69B36C778009"><!-- --></a>
		<h2 class="topictitle2">Pause()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Pause</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Pause data rendering by audio hardware. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-3D170D14-0C78-3721-9798-D36AAA703DCF"><a name="GUID-3D170D14-0C78-3721-9798-D36AAA703DCF"><!-- --></a>
		<h2 class="topictitle2">Position()</h2>
		<table class="signature"><tr><td>const <a href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td>Position</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Returns the current position within the data stream.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-6F4B0C1E-A0DE-3403-A90E-12418204D1DB"><a name="GUID-6F4B0C1E-A0DE-3403-A90E-12418204D1DB"><!-- --></a>
		<h2 class="topictitle2">RegisterAudioResourceNotification(MMMFAudioResourceNotificationCallback &amp;, TUid, const TDesC8 &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>RegisterAudioResourceNotification</td><td>(</td><td><a href="GUID-D58575E9-346A-356E-A683-73283A6BE465.html">MMMFAudioResourceNotificationCallback</a> &amp;</td><td>aCallback,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aNotificationEventUid,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aNotificationRegistrationData = 
							<a href="GUID-9692245D-DDBC-39F9-BFFB-EC9FFE4BB1AB.html">KNullDesC8</a>
						</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Registers the Event for Notification when resource is avaliable. Registers the Event for Notification when resource is avaliable.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-D58575E9-346A-356E-A683-73283A6BE465.html">MMMFAudioResourceNotificationCallback</a> &amp; aCallback</td><td>The audio player observer interface.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aNotificationEventUid</td><td>The event uid to notify the client.  </td></tr><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aNotificationRegistrationData = 
							<a href="GUID-9692245D-DDBC-39F9-BFFB-EC9FFE4BB1AB.html">KNullDesC8</a>
						</td><td>Notification registration specific data. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6ABB894D-043E-338B-9033-E77E6A513664"><a name="GUID-6ABB894D-043E-338B-9033-E77E6A513664"><!-- --></a>
		<h2 class="topictitle2">RequestStop()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>RequestStop</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>This method signals the end of play when the AudioOutputStream is in KeepOpenAtEnd mode i.e when client makes KeepOpenAtEnd call on it. When RequestStop is called, AudioOutputStream completes playing all the data that is supplied to it and calls MaoscPlayComplete() with KErrUnderflow.</p>

				<p>Note: Before calling this method, client must have already called <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD">KeepOpenAtEnd()</a> successfully, Otherwise, this method returns KErrNotSupported. It is recommended to use KeepOpenAtEnd and RequestStop calls to get a predictable behaviour during stopping.</p>

				<p>
					<a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD">CMdaAudioOutputStream::KeepOpenAtEnd()</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-6C06B180-A03C-3969-A460-E1D2631144EC"><a name="GUID-6C06B180-A03C-3969-A460-E1D2631144EC"><!-- --></a>
		<h2 class="topictitle2">Resume()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Resume</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Resume data rendering by audio hardware. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-D7F8BC32-650F-3393-A43B-578FF6EDF608"><a name="GUID-D7F8BC32-650F-3393-A43B-578FF6EDF608"><!-- --></a>
		<h2 class="topictitle2">SetAudioPropertiesL(TInt, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>SetAudioPropertiesL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSampleRate,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aChannels</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table><div class="section"><div>
				<p>Sets the sample rate and number of audio channels.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSampleRate</td><td>The new sample rate. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aChannels</td><td>The new number of channels. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-70564DB3-4E99-3B7C-9578-D7C62A655FAB"><a name="GUID-70564DB3-4E99-3B7C-9578-D7C62A655FAB"><!-- --></a>
		<h2 class="topictitle2">SetBalanceL(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetBalanceL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aBalance = 
							<a href="GUID-7AC16202-6050-3315-9A07-5D87C286941E.html">KMMFBalanceCenter</a>
						</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets the audio balance.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aBalance = 
							<a href="GUID-7AC16202-6050-3315-9A07-5D87C286941E.html">KMMFBalanceCenter</a>
						</td><td>A specified balance volume. Default is KMMFBalanceCenter.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7D863552-A8B3-3840-A64C-3E2C369D6C26"><a name="GUID-7D863552-A8B3-3840-A64C-3E2C369D6C26"><!-- --></a>
		<h2 class="topictitle2">SetDataTypeL(TFourCC)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetDataTypeL</td><td>(</td><td><a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td>aAudioType</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets the data type. If the data type is not explicitly set it will assumed to be pcm16. If it is set then the hardware must support the data type being set otherwise the function leaves with KErrNotSupported.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported Leaves with this for any unsuported data type. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a> aAudioType</td><td>The fourCC code used to specify the data type of the streamed audio </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-510856FD-364A-3ADE-89E0-E5786247F98D"><a name="GUID-510856FD-364A-3ADE-89E0-E5786247F98D"><!-- --></a>
		<h2 class="topictitle2">SetPriority(TInt, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>SetPriority</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPriority,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPref</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table><div class="section"><div>
				<p>Sets the audio priority values.</p>

				<p>This function cannot be used while the stream object is open. It is intended for use before an <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-BC053D44-CB93-36F8-BD25-970820686637">Open()</a> is issued, or between a previous <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a> and a new <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-BC053D44-CB93-36F8-BD25-970820686637">Open()</a>.</p>

				<p>
					<a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-C0AFF4BB-1466-312E-A082-F13AC63C3B1E">CMdaAudioOutputStream::NewL()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPriority</td><td>The Priority Value.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPref</td><td>The Priority Preference. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3F35072C-EE4B-3330-BEEF-4C7D1B31371B"><a name="GUID-3F35072C-EE4B-3330-BEEF-4C7D1B31371B"><!-- --></a>
		<h2 class="topictitle2">SetVolume(const TInt)</h2>
		<table class="signature"><tr><td>void</td><td>SetVolume</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aNewVolume</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Sets the audio volume.</p>

				<p>Set the volume to zero for "sound off" or any other value between 1 and <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A">MaxVolume()</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aNewVolume</td><td>A specified audio volume.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6909B499-3E5A-336C-B352-E833888196B9"><a name="GUID-6909B499-3E5A-336C-B352-E833888196B9"><!-- --></a>
		<h2 class="topictitle2">Stop()</h2>
		<table class="signature"><tr><td>void</td><td>Stop</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Stops writing data to a stream. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-64CB9AF5-02A7-3A16-BAC9-4372D752DFF1"><a name="GUID-64CB9AF5-02A7-3A16-BAC9-4372D752DFF1"><!-- --></a>
		<h2 class="topictitle2">Volume()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Volume</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Returns the current volume.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-47317FDC-67CC-36D9-B572-73A4104BFDA8"><a name="GUID-47317FDC-67CC-36D9-B572-73A4104BFDA8"><!-- --></a>
		<h2 class="topictitle2">WillResumePlay()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>WillResumePlay</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Waits for the client to resume the play even after the default timer expires. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-5F12C38B-FBA3-31BE-96DD-599E62828118"><a name="GUID-5F12C38B-FBA3-31BE-96DD-599E62828118"><!-- --></a>
		<h2 class="topictitle2">WriteL(const TDesC8 &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>WriteL</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aData</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Writes (plays) streaming raw audio data.</p>

				<p>This function is asynchronous. When aData has been received, the client is notified by a call to <a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html#GUID-1CD011C8-C287-38DE-9526-24795FB72017">MMdaAudioOutputStreamCallback::MaoscBufferCopied()</a>. The client can call <a href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-5F12C38B-FBA3-31BE-96DD-599E62828118">WriteL()</a> again before this notification takes place because the buffers are maintained in a client-side queue until they have been sent. An active object performs the notification, and copies the next item in the queue to the server. <a href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html#GUID-0D406869-4622-3597-809C-40EEC06BE23C">MMdaAudioOutputStreamCallback::MaoscPlayComplete()</a> is called when all descriptors have been sent.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aData</td><td>A reference to the stream data.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-2FAF45D3-C118-32E4-8F54-87FC97DF9A8D"><a name="GUID-2FAF45D3-C118-32E4-8F54-87FC97DF9A8D"><!-- --></a>
		<h2 class="topictitle2">
					CMMFMdaAudioOutputStream * iProperties</h2>
		<table class="signature"><tr><td>
					<a href="GUID-204BC861-5164-3F32-B12B-EC662FF94B3B.html">CMMFMdaAudioOutputStream</a> *</td><td>iProperties</td><td>[private]</td></tr></table><div class="section"><div>
				<p>This member is internal and not intended for use. </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>