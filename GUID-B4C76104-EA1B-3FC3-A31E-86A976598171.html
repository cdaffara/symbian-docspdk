<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CActiveScheduler"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171"/>

<title>CActiveScheduler</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171"><a name="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2557087 id2441463 id2441468 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CActiveScheduler Class Reference</h1>
	<table class="signature"><tr><td>class CActiveScheduler : public CBase</td></tr></table><div class="section"><div>
			<p>Controls the handling of asynchronous requests as represented by active objects.</p>

			<p>An active scheduler is used to schedule the sequence in which active object request completion events are handled by a single event-handling thread.</p>

			<p>An active scheduler can be instantiated and used directly if either:</p>

			<div class="p">
				<ul>
					<li>
						<p>the RunL() function of all of its active objects is guaranteed not to leave, or</p>

					</li>

				</ul>

			</div>

			<div class="p">
				<ul>
					<li>
						<p>each of its active objects implements a suitable RunError() function to provide suitable cleanup</p>

					</li>

				</ul>

			</div>

			<p>If any of the active scheduler's active objects does not provide a RunError() function, then a <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B4C76104-EA1B-3FC3-A31E-86A976598171">CActiveScheduler</a> derived class must be defined and an implementation of the <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error()</a> function provided to perform the cleanup required.</p>

			<p>There is one active scheduler per thread and the static functions provided by the class always refer to the current active scheduler.</p>

			<p>
				<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">CActiveScheduler::Error</a> <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F">CActive</a> <a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CActiveScheduler<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section nested"><h2 class="sectiontitle">Nested Classes and Structures</h2><ul><li><a href="GUID-83FD90ED-B2F7-3ED5-ABC5-83ED6A3F1C2F.html">CActiveScheduler::TCleanupBundle</a></li><li><a href="GUID-F8B38A10-8534-3C8B-8787-86E89293C415.html">CActiveScheduler::TLoop</a></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-347160E5-B5B3-3316-BF79-5550FE32B2C2">CActiveScheduler</a>()</td></tr><tr class="bg"><td align="right" class="code"/><td><a href="#GUID-3BB97353-EA84-3E4C-BCD3-CC077078CECF">~CActiveScheduler</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-23317F0A-F28A-341B-94E2-3261376E52B4">Add</a>(<a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td><a href="#GUID-F03D7A42-AE68-3ACA-95A8-0306C7E5851D">Current</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">Halt</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3CE9652D-6924-3CD5-B232-2A9696424591">Install</a>(<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td><a href="#GUID-A6C89616-29E0-33B8-876C-02AE04157B1D">Replace</a>(<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-58F93F7D-A166-35F9-835E-5691C55E982B">RunIfReady</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-78D61D10-55EC-373B-95CA-FC8A45627274">StackDepth</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-01A006BB-9973-31EF-9409-CA7F83E0B721">WaitForAnyRequest</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9C6365E6-4617-3E05-9F09-E559BDCDA7C1">Extension_</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-22B23875-11BC-3392-8CF7-1E31FA5CBECD">Level</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-433FD3AD-C61B-39D0-B272-320C59325D24">DoRunL</a>(<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *const volatile &amp;, <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> *volatile &amp;, <a href="GUID-83FD90ED-B2F7-3ED5-ABC5-83ED6A3F1C2F.html">TCleanupBundle</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-23C478A4-DAE8-3EE3-95EF-D3C49D9EFFD2">OnStarting</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9B2DCE35-A966-3E11-8862-FECA4E60DA21">OnStopping</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5D2BA3A5-F5E2-38FB-B570-857D3EECE468">Reserved_1</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0BDC188E-E796-3A9E-BDEA-E7527E9B5060">Reserved_2</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-1F25A600-8916-3D9B-BC4A-53A0F6185622">Run</a>(<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *const volatile &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-E37C1F61-579C-31CE-8697-1C1C6B552859">Start</a>(<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Type Definitions</th></tr></thead><tbody><tr><td align="right" valign="top">typedef</td><td>TLoop * <a href="#GUID-F08FE73A-C17B-39C6-A668-FB2B0B9F8880">TLoopOwner</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-D9AAD09D-3B3A-395C-9EB7-59B626AFF419.html">TPriQue</a>&lt; <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> &gt;</td><td><a href="#GUID-A264A392-3302-37FF-80AA-9CF58D48CE05">iActiveQ</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-7837B4BA-D667-38F6-A823-CE023893C15E">iSpare</a></td></tr><tr><td align="right" valign="top">TLoop *</td><td><a href="#GUID-82032919-462F-3B5A-9EFF-C8BAE918A573">iStack</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-347160E5-B5B3-3316-BF79-5550FE32B2C2"><a name="GUID-347160E5-B5B3-3316-BF79-5550FE32B2C2"><!-- --></a>
		<h2 class="topictitle2">CActiveScheduler()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CActiveScheduler</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Constructs an active scheduler.</p>

				<p>After construction, the scheduler should be installed.</p>

				<p>
					<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3CE9652D-6924-3CD5-B232-2A9696424591">CActiveScheduler::Install</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-3BB97353-EA84-3E4C-BCD3-CC077078CECF"><a name="GUID-3BB97353-EA84-3E4C-BCD3-CC077078CECF"><!-- --></a>
		<h2 class="topictitle2">~CActiveScheduler()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CActiveScheduler</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Frees resources prior to destruction.</p>

				<p>Specifically, it removes all active objects from the active scheduler's list of active objects.</p>

				<p>An active scheduler should only be destroyed when the top-level call to <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> has returned.</p>

				<p>
					<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">CActiveScheduler::Start</a> <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">CActiveScheduler::Stop</a> </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-23317F0A-F28A-341B-94E2-3261376E52B4"><a name="GUID-23317F0A-F28A-341B-94E2-3261376E52B4"><!-- --></a>
		<h2 class="topictitle2">Add(CActive *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Add</td><td>(</td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> *</td><td>aActive</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Adds the specified active object to the current active scheduler.</p>

				<p>An active object can be removed from an active scheduler either by destroying the active object or by using its Deque() member function.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 41 if the active object aRequest has already been added to the current active scheduler. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 48 if aRequest is NULL. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 44 if the thread does not have an installed active scheduler.</dd>

						
					</dl>

					<a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A0987E46-FC71-39D5-99F9-6FF02EC6CEEE">CActive::Deque</a> </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> * aActive</td><td>Pointer to the active object to be added. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F03D7A42-AE68-3ACA-95A8-0306C7E5851D"><a name="GUID-F03D7A42-AE68-3ACA-95A8-0306C7E5851D"><!-- --></a>
		<h2 class="topictitle2">Current()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td>Current</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Gets a pointer to the currently installed active scheduler.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-433FD3AD-C61B-39D0-B272-320C59325D24"><a name="GUID-433FD3AD-C61B-39D0-B272-320C59325D24"><!-- --></a>
		<h2 class="topictitle2">DoRunL(TLoopOwner *const volatile &amp;, CActive *volatile &amp;, TCleanupBundle *)</h2>
		<table class="signature"><tr><td>void</td><td>DoRunL</td><td>(</td><td><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *const volatile &amp;</td><td>aLoop,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> *volatile &amp;</td><td>aCurrentObj,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-83FD90ED-B2F7-3ED5-ABC5-83ED6A3F1C2F.html">TCleanupBundle</a> *</td><td>aCleanupBundle</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>The inner active scheduler loop. This repeatedly waits for a signal and then dispatches the highest priority ready active object. The loop terminates either if one of the RunLs stops the current active scheduler level or leaves.</p>

				<div class="p">Stop when aLoop becomes 'Inactive' <dl class="user"><dt class="dlterm"><strong>panic</strong></dt>
<dd>EClnCheckFailed 90 This will panic when the RunL has left the cleanup stack in an unbalanced state. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *const volatile &amp; aLoop</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> *volatile &amp; aCurrentObj</td><td> </td></tr><tr><td class="parameter"><a href="GUID-83FD90ED-B2F7-3ED5-ABC5-83ED6A3F1C2F.html">TCleanupBundle</a> * aCleanupBundle</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8"><a name="GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8"><!-- --></a>
		<h2 class="topictitle2">Error(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Error</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>const [virtual]</td></tr></table><div class="section"><div>
				<p>Handles the result of a leave occurring in an active object s RunL() function.</p>

				<p>An active scheduler always invokes an active object s RunL() function under a trap harness.</p>

				<p>The default implementation must be replaced.</p>

				<p>Any cleanup relevant to the possible causes of leaving should be performed. If <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop()</a> or <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">Halt()</a> is called from within this function, the current wait loop terminates. This may be an appropriate response to catastrophic error conditions.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 47 if the default implementation is invoked.</dd>

						
					</dl>

					<a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL</a> <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">CActiveScheduler::Stop</a> <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">CActiveScheduler::Halt</a> </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>The leave code propagated from the active object s RunL() function </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9C6365E6-4617-3E05-9F09-E559BDCDA7C1"><a name="GUID-9C6365E6-4617-3E05-9F09-E559BDCDA7C1"><!-- --></a>
		<h2 class="topictitle2">Extension_(TUint, TAny *&amp;, TAny *)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aExtensionId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td>a0,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>a1</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Extension function </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aExtensionId</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp; a0</td><td> </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * a1</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-CC11238A-11FA-3AB4-8D03-0E599417E883"><a name="GUID-CC11238A-11FA-3AB4-8D03-0E599417E883"><!-- --></a>
		<h2 class="topictitle2">Halt(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Halt</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aExitCode</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Unilaterally terminates the current scheduler loop.</p>

				<p>This causes the current scheduler loop to stop, whether it was started using <a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-F1EDF50B-E91B-3141-9CE1-F76458A97022">CActiveSchedulerWait::Start()</a> or <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">CActiveScheduler::Start()</a>. It can also trigger a leave from <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> if an exit code is provided. If the current level has already been stopped, then this still records the exit code.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aExitCode</td><td>If non-zero, the reason code reported by Start().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3CE9652D-6924-3CD5-B232-2A9696424591"><a name="GUID-3CE9652D-6924-3CD5-B232-2A9696424591"><!-- --></a>
		<h2 class="topictitle2">Install(CActiveScheduler *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Install</td><td>(</td><td><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td>aScheduler</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Installs the specified active scheduler as the current active scheduler.</p>

				<p>The installed active scheduler now handles events for this thread.</p>

				<p>The current active scheduler can be uninstalled by passing a NULL pointer.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 43 if If there is already an installed active scheduler. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> * aScheduler</td><td>A pointer to the active scheduler to be installed. If this is NULL, the current active scheduler is uninstalled. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-22B23875-11BC-3392-8CF7-1E31FA5CBECD"><a name="GUID-22B23875-11BC-3392-8CF7-1E31FA5CBECD"><!-- --></a>
		<h2 class="topictitle2">Level()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Level</td><td>(</td><td>)</td><td>const [protected, inline]</td></tr></table><div class="section"><div>
				<p>Use the <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-78D61D10-55EC-373B-95CA-FC8A45627274">StackDepth()</a> function instead.</p>

				<p>Gets the scheduler's level of nestedness.</p>

				<p>
					<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-78D61D10-55EC-373B-95CA-FC8A45627274">StackDepth()</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-23C478A4-DAE8-3EE3-95EF-D3C49D9EFFD2"><a name="GUID-23C478A4-DAE8-3EE3-95EF-D3C49D9EFFD2"><!-- --></a>
		<h2 class="topictitle2">OnStarting()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>OnStarting</td><td>(</td><td>)</td><td>[private, virtual]</td></tr></table><div class="section"><div>
				<p>Dummy EXPORT for Binary Compatibility reasons. This method is never called. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-9B2DCE35-A966-3E11-8862-FECA4E60DA21"><a name="GUID-9B2DCE35-A966-3E11-8862-FECA4E60DA21"><!-- --></a>
		<h2 class="topictitle2">OnStopping()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>OnStopping</td><td>(</td><td>)</td><td>[private, virtual]</td></tr></table><div class="section"><div>
				<p>Dummy EXPORT for Binary Compatibility reasons. This method is never called. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-A6C89616-29E0-33B8-876C-02AE04157B1D"><a name="GUID-A6C89616-29E0-33B8-876C-02AE04157B1D"><!-- --></a>
		<h2 class="topictitle2">Replace(CActiveScheduler *)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td>Replace</td><td>(</td><td><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td>aNewActiveScheduler</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Allows the current active scheduler to be replaced, while retaining its active objects.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> * aNewActiveScheduler</td><td>The new active scheduler. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5D2BA3A5-F5E2-38FB-B570-857D3EECE468"><a name="GUID-5D2BA3A5-F5E2-38FB-B570-857D3EECE468"><!-- --></a>
		<h2 class="topictitle2">Reserved_1()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Reserved_1</td><td>(</td><td>)</td><td>[private, virtual]</td></tr></table><div class="section"><div>
				<p>Dummy EXPORT for Binary Compatibility reasons. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0BDC188E-E796-3A9E-BDEA-E7527E9B5060"><a name="GUID-0BDC188E-E796-3A9E-BDEA-E7527E9B5060"><!-- --></a>
		<h2 class="topictitle2">Reserved_2()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Reserved_2</td><td>(</td><td>)</td><td>[private, virtual]</td></tr></table><div class="section"><div>
				<p>Dummy EXPORT for Binary Compatibility reasons. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-1F25A600-8916-3D9B-BC4A-53A0F6185622"><a name="GUID-1F25A600-8916-3D9B-BC4A-53A0F6185622"><!-- --></a>
		<h2 class="topictitle2">Run(TLoopOwner *const volatile &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Run</td><td>(</td><td><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *const volatile &amp;</td><td>aLoop</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Start dispatching request completions.</p>

				<p>Stop when aLoop becomes 'Inactive'</p>

				<p>This version uses the original implementation of TRAP/Leave. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *const volatile &amp; aLoop</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-58F93F7D-A166-35F9-835E-5691C55E982B"><a name="GUID-58F93F7D-A166-35F9-835E-5691C55E982B"><!-- --></a>
		<h2 class="topictitle2">RunIfReady(TInt &amp;, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>RunIfReady</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td>aError,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMinimumPriority</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p/>

				<p>Causes the RunL() function of at most one pending active object of priority aMinimumPriority or greater to be run.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp; aError</td><td>Error returned by called active object.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMinimumPriority</td><td>Minimum priority of active object to run. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-78D61D10-55EC-373B-95CA-FC8A45627274"><a name="GUID-78D61D10-55EC-373B-95CA-FC8A45627274"><!-- --></a>
		<h2 class="topictitle2">StackDepth()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>StackDepth</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Gets the current number of nested wait loops.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-3281C85C-1A45-3049-B711-64CA8BFBC452"><a name="GUID-3281C85C-1A45-3049-B711-64CA8BFBC452"><!-- --></a>
		<h2 class="topictitle2">Start()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Start</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Starts a new wait loop under the control of the current active scheduler.</p>

				<p>At least one active object, with an outstanding request, must be added to the scheduler before the wait loop is started, otherwise no events will occur and the thread will hang, or any events that do occur will be counted as stray signals, raising a panic.</p>

				<p>While <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> is executing, user code runs only:</p>

				<p>1. in the RunL() function of active objects known to the current active scheduler</p>

				<p>2. in the RunError() function of an active object that leaves from its RunL()</p>

				<p>3. in the current active scheduler s <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error()</a> function, if an active object s RunError() returns an error code.</p>

				<p>
					<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> returns only when a corresponding <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop()</a> or <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">Halt()</a> is issued.</p>

				<p>Although this can be used to start a nested wait loop, this API is deprecated for that specific functionality, and a <a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> object should be used instead.</p>

				<p>(Note that a nested wait loop is used when the handling of a completed event in an active object requires the processing of further events from the other active objects before it can complete. This is a form of modal processing.)</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 44 if the thread does not have an active scheduler installed.</dd>

						
					</dl>

					<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">CActiveScheduler::Stop</a> <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">CActiveScheduler::Halt</a> <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL</a> <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-49FE8001-39DC-389F-851D-44C74BCE55D2">CActive::RunError</a> <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">CActiveScheduler::Error</a> <a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> </div>

			</div></div>

	</div>
<div class="nested1" id="GUID-E37C1F61-579C-31CE-8697-1C1C6B552859"><a name="GUID-E37C1F61-579C-31CE-8697-1C1C6B552859"><!-- --></a>
		<h2 class="topictitle2">Start(TLoopOwner *)</h2>
		<table class="signature"><tr><td>void</td><td>Start</td><td>(</td><td><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> *</td><td>aOwner</td><td>)</td><td>[private, static]</td></tr></table><div class="section"><div>
				<p>Start a new nesting level </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">TLoopOwner</a> * aOwner</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B"><a name="GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B"><!-- --></a>
		<h2 class="topictitle2">Stop()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Stop</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Stops the wait loop started by the most recent call to <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a>.</p>

				<p>Typically, this is called by the RunL() of one of the scheduler s active objects. When this RunL() finishes, the scheduler s wait loop terminates, i.e. it does not wait for the completion of the next request.</p>

				<p>It will not stop a wait loop started by a call to <a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-F1EDF50B-E91B-3141-9CE1-F76458A97022">CActiveSchedulerWait::Start()</a>.</p>

				<p>
					<a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop()</a> may also be called from <a href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error()</a>.</p>

				<p>Note that stopping a nested wait loop is deprecated using this functionality, use a <a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> object instead.</p>

				<p>
					<a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-F1EDF50B-E91B-3141-9CE1-F76458A97022">CActiveSchedulerWait::Start</a> <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL</a> CActiveSchedulerWait::Error <a href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-57ED10CA-FAD8-3060-AAF8-19D0EB75C65F">CActiveSchedulerWait::AsyncStop</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-01A006BB-9973-31EF-9409-CA7F83E0B721"><a name="GUID-01A006BB-9973-31EF-9409-CA7F83E0B721"><!-- --></a>
		<h2 class="topictitle2">WaitForAnyRequest()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>WaitForAnyRequest</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Wait for an asynchronous request to complete.</p>

				<p>The default implementation just calls <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-19F7FD59-2B62-38E9-8DB6-CF683FB7E268">User::WaitForAnyRequest()</a>.</p>

				<p>Derived classes can replace this. Typically, this would be done to implement code for maintaining an outstanding request; this would be followed by a call to <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-19F7FD59-2B62-38E9-8DB6-CF683FB7E268">User::WaitForAnyRequest()</a>.</p>

				<p>
					<a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-19F7FD59-2B62-38E9-8DB6-CF683FB7E268">User::WaitForAnyRequest</a> </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Type Definitions Documentation</h1><div class="nested1" id="GUID-F08FE73A-C17B-39C6-A668-FB2B0B9F8880"><a name="GUID-F08FE73A-C17B-39C6-A668-FB2B0B9F8880"><!-- --></a>
		<h2 class="topictitle2">Typedef TLoopOwner</h2>
		<table class="signature"><tr><td>typedef TLoop *</td><td>TLoopOwner</td></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-A264A392-3302-37FF-80AA-9CF58D48CE05"><a name="GUID-A264A392-3302-37FF-80AA-9CF58D48CE05"><!-- --></a>
		<h2 class="topictitle2">
					TPriQue&lt; CActive &gt; iActiveQ</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D9AAD09D-3B3A-395C-9EB7-59B626AFF419.html">TPriQue</a>&lt; <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> &gt;</td><td>iActiveQ</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-7837B4BA-D667-38F6-A823-CE023893C15E"><a name="GUID-7837B4BA-D667-38F6-A823-CE023893C15E"><!-- --></a>
		<h2 class="topictitle2">
					TAny * iSpare</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>iSpare</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-82032919-462F-3B5A-9EFF-C8BAE918A573"><a name="GUID-82032919-462F-3B5A-9EFF-C8BAE918A573"><!-- --></a>
		<h2 class="topictitle2">TLoop * iStack</h2>
		<table class="signature"><tr><td>TLoop *</td><td>iStack</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>