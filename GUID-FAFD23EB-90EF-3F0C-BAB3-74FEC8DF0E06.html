<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RSurfaceUpdateSession"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06"/>

<title>RSurfaceUpdateSession</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06"><a name="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2545618 id2545811 id2545877 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">RSurfaceUpdateSession Class Reference</h1>
	<table class="signature"><tr><td>class RSurfaceUpdateSession : public RSessionBase</td></tr></table><div class="section"><div>
			<p>The <a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06">RSurfaceUpdateSession</a> class is intended to be used by surface update control flow. The class implements an interface between the Compositor and clients. It allows a client to inform the Compositor when a surface has been modified and to receive notification when its buffer becomes available and/or displayed. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RSurfaceUpdateSession<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase</a><ul class="derivation"><li class="derivation-depth-2 "><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-AF1A6C1B-FC11-301E-884B-5A03C4C7DE4D">RSurfaceUpdateSession</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4D813FA1-2689-3969-B8AC-D86302B0B3E1">CancelAllUpdateNotifications</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-90828144-10B8-3F49-9CCB-6C1D09C87F2D">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F82719CF-0A62-38F3-B7AC-1403F923480C">Connect</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F6FE897D-422D-333E-8120-78C2AE1631AD">NotifyWhenAvailable</a>(<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A873B0BE-0CD9-3AD6-82BA-72F3C2A1337A">NotifyWhenDisplayed</a>(<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TTimeStamp</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-21ADF303-9988-3DC5-A486-6EA20038F45A">NotifyWhenDisplayedXTimes</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-3FD449AF-ECDC-3EB2-8B5F-3AD0035F438C">SubmitUpdate</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-11F60AEB-003B-3E8D-BDB9-D97F698627DF.html">TSurfaceId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-740A218E-76FB-31BF-BD91-BA6780AC4DEE.html">TRegion</a> *)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td><a href="#GUID-3FBF1120-3DBB-349F-923F-6265CD83E534">Version</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-2E10CE0F-301B-3BA6-86BC-0BF9B9630CEE">IssueRequestComplete</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Attributes()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::BTraceId()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::DoExtendedClose()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Duplicate(const RThread &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName(TDes &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Handle()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::HandleInfo(THandleInfo *)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Name()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::NotifyDestruction(TRequestStatus &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Open(const TFindHandleBase &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::OpenByName(const TDesC &amp;,TOwnerType,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandle(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandleNC(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TRequestStatus *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,RHandleBase &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,const TSecurityPolicy &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareAuto()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareProtected()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase:TAttributes</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase:TAttachMode</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-E94DDA78-BF63-3703-9ABB-39DB34249A21">iCount</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td><a href="#GUID-E4CCE2AC-29BD-33EA-8738-F12717DB1285">iStatusAvailable</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td><a href="#GUID-49EEF1C0-646A-309C-8DD8-7A0B2432DED7">iStatusDisplayed</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td><a href="#GUID-6EE7F30D-E701-3BCD-A389-C99ED8F66AE0">iStatusDisplayedXTimes</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TTimeStamp</a> *</td><td><a href="#GUID-A37FF64F-7642-3E97-920A-F915AE9ECC9F">iTimeStamp</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::iHandle</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-AF1A6C1B-FC11-301E-884B-5A03C4C7DE4D"><a name="GUID-AF1A6C1B-FC11-301E-884B-5A03C4C7DE4D"><!-- --></a>
		<h2 class="topictitle2">RSurfaceUpdateSession()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>RSurfaceUpdateSession</td><td>(</td><td>)</td><td/></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-4D813FA1-2689-3969-B8AC-D86302B0B3E1"><a name="GUID-4D813FA1-2689-3969-B8AC-D86302B0B3E1"><!-- --></a>
		<h2 class="topictitle2">CancelAllUpdateNotifications()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CancelAllUpdateNotifications</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Cancel all outstanding requests for notification. The function doesn't cancel the submit update requests themselves.</p>

				<div class="p">
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>The surface session must be established to the server. </dd>

						
					</dl>

					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>The server will issue request complete immediately for all outstanding requests related to particular session. Will panic if applied on disconnected session. </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-90828144-10B8-3F49-9CCB-6C1D09C87F2D"><a name="GUID-90828144-10B8-3F49-9CCB-6C1D09C87F2D"><!-- --></a>
		<h2 class="topictitle2">Close()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Close the session to the server.</p>

				<div class="p">
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>Outstanding notification requests (if any) are cancelled. </dd>

						
					</dl>

					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>The session is disconnected. </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-F82719CF-0A62-38F3-B7AC-1403F923480C"><a name="GUID-F82719CF-0A62-38F3-B7AC-1403F923480C"><!-- --></a>
		<h2 class="topictitle2">Connect(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Connect</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMessageSlots = 
							<a href="GUID-F05828A7-2D39-3851-8507-0385A7897291.html">KDefaultMessageSlot</a>
						</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Connect to the server using given number of message slots.</p>

				<div class="p">
					<a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html#GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6">RSessionBase</a>
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>The surface update server is started up </dd>

						
					</dl>

					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>Connection to the server has been established.</dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMessageSlots = 
							<a href="GUID-F05828A7-2D39-3851-8507-0385A7897291.html">KDefaultMessageSlot</a>
						</td><td>The number of message slots available to this session. This parameter is defined in RSessionBase specification; it signifies the maximum number of asynchronous outstanding requests to the server. SubmitUpdate commands could contain up to three asynchronous requests to the server, each corresponds to a different type of notification. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2E10CE0F-301B-3BA6-86BC-0BF9B9630CEE"><a name="GUID-2E10CE0F-301B-3BA6-86BC-0BF9B9630CEE"><!-- --></a>
		<h2 class="topictitle2">IssueRequestComplete(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>IssueRequestComplete</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aErr</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aErr</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F6FE897D-422D-333E-8120-78C2AE1631AD"><a name="GUID-F6FE897D-422D-333E-8120-78C2AE1631AD"><!-- --></a>
		<h2 class="topictitle2">NotifyWhenAvailable(TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>NotifyWhenAvailable</td><td>(</td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>The message signals the client that the buffer associated with the notifier is available for further updates. </p>

				<p>For performance reasons, the GCE uses the buffer sent by the client for composition directly rather than composing with a copy of the buffer. This means that, potentially, a client could be rendering to a buffer which is currently being used for composition, leading to artefacts and possible tearing. Depending on whether the surface is single or multi-buffered, there is some difference in behaviour: In the case of single-buffered surfaces, the GCE will not wait for the next submit update and will complete the request after the composition.  In case of multi-buffered surfaces, the GCE can postpone with the issuing the notification to the client even after the composition with the specified surface buffer has already happened, and issues the request when the client changes the active buffer, i.e. submits another request for update with different buffer. This will help the GCE to keep the active buffer in a valid state should another composition required. </p>

				<p>This notification enables a client to, if desired, be able to perform artefact free rendering using this notification in conjunction with a multi-buffered surface. </p>

				<p>Note that since the compositor can delay to issue request complete for multi-buffered surface until the change of the active buffer occurs, the completion of a particular notifier may not relate to the buffer to which it is intuitively associated. </p>

				<p>Only the last call of this function before SubmitUpdate command takes place will have effect, i.e. the following call will override the previous one. This request will only be associated with the following single call of the SubmitUpdate. </p>

				<p>When a SubmitUpdate has been broadcast to all available screen, i.e. KAllScreens was supplied as a screen number, for multi-buffered surfaces, the notification will be completed when the surface buffer has been released by all displays it is being shown on. For single-buffered surfaces, notification will be completed when all displays have read the buffer once.</p>

				<div class="p">
					<a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-3FD449AF-ECDC-3EB2-8B5F-3AD0035F438C">RSurfaceUpdateSession::SubmitUpdate</a>
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>The surface session must be established to the server. </dd>

						
					</dl>

					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>This request for the consumption notification event will be transferred to the GCE at next SubmitUpdate command.</dd>

						
					</dl>
If an application such as video is using three (or more) buffers, this error can occur. For instance, the video may be producing frames at a fixed rate which is faster than the GCE can cope with, and in this case frames will be  lost , but the notification mechanism will still operate correctly.</div>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Reference to the request status object. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A873B0BE-0CD9-3AD6-82BA-72F3C2A1337A"><a name="GUID-A873B0BE-0CD9-3AD6-82BA-72F3C2A1337A"><!-- --></a>
		<h2 class="topictitle2">NotifyWhenDisplayed(TRequestStatus &amp;, TTimeStamp &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>NotifyWhenDisplayed</td><td>(</td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TTimeStamp</a> &amp;</td><td>aTimeStamp</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Ask the server to notify when the surface buffer which will be specified in the next update request has been displayed for the first time. The notification will also include exact time of the event as it is supplied by the <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-92368848-904C-39D9-91B0-FF05A136B5D4">User::FastCounter()</a>. Only the last call of this function before SubmitUpdate command takes place will have effect, i.e. the following call will override the previous one.</p>

				<div class="p">
					<a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-3FD449AF-ECDC-3EB2-8B5F-3AD0035F438C">RSurfaceUpdateSession::SubmitUpdate</a>
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>The surface session must be established to the server. </dd>

						
					</dl>

					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>This request for the display notification event will be transferred to the GCE at next SubmitUpdate command.</dd>

						
					</dl>

					<a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-F82719CF-0A62-38F3-B7AC-1403F923480C">RSurfaceUpdateSession::Connect</a> for details). </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Reference to the request status object.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TTimeStamp</a> &amp; aTimeStamp</td><td>Reference to the timestamp of the display notification event, packed into the modified buffer descriptor. Will only be valid if aStatus is equal to KErrNone. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-21ADF303-9988-3DC5-A486-6EA20038F45A"><a name="GUID-21ADF303-9988-3DC5-A486-6EA20038F45A"><!-- --></a>
		<h2 class="topictitle2">NotifyWhenDisplayedXTimes(TInt, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>NotifyWhenDisplayedXTimes</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Ask the server to notify when the surface buffer which will be specified in the next update request has been displayed for the X times. </p>

				<p>Only the last call of this function before SubmitUpdate command takes place will have effect, i.e. the following call will override the previous one. </p>

				<p>In case of the global update the notification will always be aligned with the master display. The SUS will send notification to client when the surface has been displayed on a master display for the X times or if there is no master display for that surface. If the master becomes invisible while the request is still in a progress it will be reassigned to the next visible display with highest priority. </p>

				<p>This request will only be associated with the following single call of the SubmitUpdate.</p>

				<div class="p">
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>The surface session must be established to the server. </dd>

						
					</dl>

					<dl class="postcondition">
						
							<dt class="dlterm">Post-condition</dt>

							<dd>This request for the display notification event will be transferred to the GCE at next SubmitUpdate command.</dd>

						
					</dl>

					<a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-F82719CF-0A62-38F3-B7AC-1403F923480C">RSurfaceUpdateSession::Connect</a> for details). </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>Number of times the surface is displayed before the request is completed. Varies from 1 and greater.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Reference to the request status object. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3FD449AF-ECDC-3EB2-8B5F-3AD0035F438C"><a name="GUID-3FD449AF-ECDC-3EB2-8B5F-3AD0035F438C"><!-- --></a>
		<h2 class="topictitle2">SubmitUpdate(TInt, const TSurfaceId &amp;, TInt, const TRegion *)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SubmitUpdate</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aScreen,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-11F60AEB-003B-3E8D-BDB9-D97F698627DF.html">TSurfaceId</a> &amp;</td><td>aSurfaceId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aBuffer,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-740A218E-76FB-31BF-BD91-BA6780AC4DEE.html">TRegion</a> *</td><td>aDirtyRegion = NULL</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Send update message to the server. All notification requests will also be submitted at this stage. This is referring to when notifications are requested before the update request. </p>

				<p>The GCE may collapse a few requests into one. If a few requests with different buffer numbers specified for the same surface have been submitted at specific composition cycle, only last such request will have effect. </p>

				<p>Clients can send a global submit update which will be broadcast by the SUS to all backends presented in the system. For a global update, to all screens, the pre-defined constant KAllScreens needs to be passed as the screen parameter to SubmitUpdate. Note that once a Client has begun issuing SubmitUpdate with either KAllScreens or a specific screen, then only that type of screen can be used thereafter for that Surface Update Session, i.e. the client cannot have a mix of SubmitUpdate with KAllScreens and specific screens.</p>

				<div class="p">
					<a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-F6FE897D-422D-333E-8120-78C2AE1631AD">RSurfaceUpdateSession::NotifyWhenAvailable</a> <a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-A873B0BE-0CD9-3AD6-82BA-72F3C2A1337A">RSurfaceUpdateSession::NotifyWhenDisplayed</a> <a href="GUID-FAFD23EB-90EF-3F0C-BAB3-74FEC8DF0E06.html#GUID-21ADF303-9988-3DC5-A486-6EA20038F45A">RSurfaceUpdateSession::NotifyWhenDisplayedXTimes</a><dl class="precondition"><dt class="dlterm">Pre-condition</dt>
<dd>The surface session must be established to the server. </dd>
</dl>
<dl class="postcondition"><dt class="dlterm">Post-condition</dt>
<dd>The GCE will trigger composition to use this region at the next composition cycle.</dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aScreen</td><td>Screen number. KAllScreens is the only allowed parameter.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-11F60AEB-003B-3E8D-BDB9-D97F698627DF.html">TSurfaceId</a> &amp; aSurfaceId</td><td>Secure 128-bit surface unique identifier, which fully specified the surface. Surface ID must be assigned and registered with the GCE.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aBuffer</td><td>Current buffer for composition. Varies from 0 to N-1, where N is the total number of buffers in the surface.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-740A218E-76FB-31BF-BD91-BA6780AC4DEE.html">TRegion</a> * aDirtyRegion = NULL</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3FBF1120-3DBB-349F-923F-6265CD83E534"><a name="GUID-3FBF1120-3DBB-349F-923F-6265CD83E534"><!-- --></a>
		<h2 class="topictitle2">Version()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td>Version</td><td>(</td><td>)</td><td>const [protected]</td></tr></table><div class="section"><div>
				<p>Allow to retrieve the version number.</p>

				<p/>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-E94DDA78-BF63-3703-9ABB-39DB34249A21"><a name="GUID-E94DDA78-BF63-3703-9ABB-39DB34249A21"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iCount</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iCount</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-E4CCE2AC-29BD-33EA-8738-F12717DB1285"><a name="GUID-E4CCE2AC-29BD-33EA-8738-F12717DB1285"><!-- --></a>
		<h2 class="topictitle2">
					TRequestStatus * iStatusAvailable</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td>iStatusAvailable</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-49EEF1C0-646A-309C-8DD8-7A0B2432DED7"><a name="GUID-49EEF1C0-646A-309C-8DD8-7A0B2432DED7"><!-- --></a>
		<h2 class="topictitle2">
					TRequestStatus * iStatusDisplayed</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td>iStatusDisplayed</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-6EE7F30D-E701-3BCD-A389-C99ED8F66AE0"><a name="GUID-6EE7F30D-E701-3BCD-A389-C99ED8F66AE0"><!-- --></a>
		<h2 class="topictitle2">
					TRequestStatus * iStatusDisplayedXTimes</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> *</td><td>iStatusDisplayedXTimes</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-A37FF64F-7642-3E97-920A-F915AE9ECC9F"><a name="GUID-A37FF64F-7642-3E97-920A-F915AE9ECC9F"><!-- --></a>
		<h2 class="topictitle2">
					TTimeStamp * iTimeStamp</h2>
		<table class="signature"><tr><td>
					<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TTimeStamp</a> *</td><td>iTimeStamp</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>