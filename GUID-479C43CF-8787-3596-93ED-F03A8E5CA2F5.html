<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CLbsNetworkProtocolBase"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5"/>

<title>CLbsNetworkProtocolBase</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5"><a name="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2731347 id2731952 id2731957 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CLbsNetworkProtocolBase Class Reference</h1>
	<table class="signature"><tr><td>class CLbsNetworkProtocolBase : public CBase</td></tr></table><div class="section"><div>
			<p>The <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5">CLbsNetworkProtocolBase</a> is the abstract interface to a network protocol module. It is used by the LBS susbstem to pass requests and responses to the module.</p>

			<p>The <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5">CLbsNetworkProtocolBase</a> class is used in partnership with <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4">MLbsNetworkProtocolObserver</a>. The network protocol module responds to requests from the LBS subsystem via that observer class.</p>

			<p>An actual implementation of a network protocol module will derive from <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5">CLbsNetworkProtocolBase</a> or one of its derived classes (see below) to provide the specific implementation of the interface methods.</p>

			<p>Although all the interface methods in the class are synchronous they must return immediately. When the LBS subsystem makes a request via <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5">CLbsNetworkProtocolBase</a> the protocol module must queue the request internally and return control to the caller immediately. Afterwards, when the protocol module provides a response it uses the corresponding notification method in the <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4">MLbsNetworkProtocolObserver</a> class.</p>

			<p>
				<a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4">MLbsNetworkProtocolObserver</a> MLbsNetworkProtocolBase2</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CLbsNetworkProtocolBase<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-AC8F190B-1A7E-393A-A229-985E77AC2800">~CLbsNetworkProtocolBase</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-320B3EAE-2E23-39F8-B48F-2B04BC0B1B12">AdviceSystemStatus</a>(<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">TLbsSystemStatus</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-81683047-79C7-3502-A5A2-02AE7BCAE031">CancelNetworkLocation</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D396ADD5-787F-3AEF-A22B-EE966D125605">CancelSelfLocation</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-71EEB639-AF7A-3FD4-A183-A5B377F69F22">CancelTransmitLocation</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-BE440A85-D6E5-3CD8-9879-FB0AABDE2EFB">ExtendedInterface</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">CLbsNetworkProtocolBase</a> *</td><td><a href="#GUID-AFD9BDAB-6DA9-3F17-9951-69AE5EDADC6F">NewL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, <a href="GUID-691CF528-01DC-36BE-B6D3-9D3A8C9F05EB.html">TLbsNetProtocolModuleParams</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-FDC425C8-7ADF-3769-AF44-DC4620486FC4">RequestAssistanceData</a>(<a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-0129E9D8-867D-306C-998A-4FEED1A16F73">RequestNetworkLocation</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, const <a href="GUID-E7972EE9-6CE3-3D59-A2D6-0CCAEF26F6B2.html">TLbsNetPosRequestOptionsBase</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED">RequestSelfLocation</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, const <a href="GUID-E7972EE9-6CE3-3D59-A2D6-0CCAEF26F6B2.html">TLbsNetPosRequestOptionsBase</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED">RequestTransmitLocation</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-110D5EFE-377B-370D-A3FB-C132926D1D91">RespondLocationRequest</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-73D6F438-C270-33B9-974B-D4D1583E1738.html">TPositionInfoBase</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-6DEE1387-7EBD-3164-B080-C8ECC3C26907">RespondPrivacyRequest</a>(const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;, const <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">TLbsPrivacyResponse</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-70CC3CE7-1652-3E8C-89C4-7B1D11A687B9">TExtInterface</a> { <a href="#GUID-ACB9A3CA-7B80-37F1-8DF9-8BD1016A4851">EExtInterfaceCount</a> = 0, <a href="#GUID-A1B91649-C1DD-30A0-B3CE-9B47480D2236">EExtInterface2</a>, <a href="#GUID-3EFDE26C-4EA0-3B08-B27C-707762884829">EExtInterfaceMax</a> }</td></tr><tr class="bg"><td align="right" valign="top">enum</td><td><a href="#GUID-77F8D21D-E31B-39F5-8EEE-5CE413054728">TLbsPrivacyResponse</a> { <a href="#GUID-5D9A163D-B0ED-38AB-A386-DCC8B613AC46">EPrivacyResponseUnknown</a> = 0, <a href="#GUID-4384DAF3-7873-306F-BCBC-4B877585AFAD">EPrivacyResponseAccepted</a>, <a href="#GUID-CB009A2C-A616-3778-87FC-839E5D7D6544">EPrivacyResponseRejected</a>, <a href="#GUID-D9070917-94C0-3BBF-83E6-FAAAF2D688C7">EPrivacyResponseIgnored</a> }</td></tr><tr><td align="right" valign="top">enum</td><td><a href="#GUID-82E2F0EC-EB2D-382A-B2CE-F3C906493422">TLbsSystemStatus</a> { <a href="#GUID-B71C5F74-2673-3AFE-813C-41A91E661FD8">ESystemStatusNone</a> = 0x00, <a href="#GUID-1546BC54-76FC-3C4C-BA99-CB13027687EE">ESystemStatusClientTracking</a> = 0x01 }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
				</td><td><a href="#GUID-61A2466C-748B-34F8-B51C-E5A70CB8414A">iDtor_ID_Key</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-AC8F190B-1A7E-393A-A229-985E77AC2800"><a name="GUID-AC8F190B-1A7E-393A-A229-985E77AC2800"><!-- --></a>
		<h2 class="topictitle2">~CLbsNetworkProtocolBase()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CLbsNetworkProtocolBase</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Standard destructor that handles the ECom destruction.</p>

				<p>The LBS subsystem invokes the destructor on the protocol module when it wishes to unload the module. The protocol module should terminate all current requests close all connections. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-320B3EAE-2E23-39F8-B48F-2B04BC0B1B12"><a name="GUID-320B3EAE-2E23-39F8-B48F-2B04BC0B1B12"><!-- --></a>
		<h2 class="topictitle2">AdviceSystemStatus(TLbsSystemStatus)</h2>
		<table class="signature"><tr><td>void</td><td>AdviceSystemStatus</td><td>(</td><td><a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">TLbsSystemStatus</a></td><td>aStatus</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>The Network Gateway uses this to provide the protocol module with LBS system status advice - this can be used in making conflict control decisions and also deciding when to interact with the network.</p>

				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-82E2F0EC-EB2D-382A-B2CE-F3C906493422">TLbsSystemStatus</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">TLbsSystemStatus</a> aStatus</td><td>The value of the status of the Lbs positioning framework. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-81683047-79C7-3502-A5A2-02AE7BCAE031"><a name="GUID-81683047-79C7-3502-A5A2-02AE7BCAE031"><!-- --></a>
		<h2 class="topictitle2">CancelNetworkLocation(const TLbsNetSessionId &amp;, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>CancelNetworkLocation</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aReason</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>This method attempts to cancel a request to obtain the network based location of the terminal. The previous request will have been initiated by calling <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-0129E9D8-867D-306C-998A-4FEED1A16F73">RequestNetworkLocation()</a></p>

				<p>Note: If the LBS subsystem wishes to stop the network location request and immediately issue a new network location request it should issue a subsequent call to <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-0129E9D8-867D-306C-998A-4FEED1A16F73">RequestNetworkLocation()</a>. Submitting a new network location request, automatically cancels any outstanding transfer.</p>

				<p>In some circumstances, the protocol module may still return the associated network based position calculation to the LBS subsystem. This situation can occur when the cancel request is performed after a point where it is no longer possible to stop the request being sent.</p>

				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-0129E9D8-867D-306C-998A-4FEED1A16F73">RequestNetworkLocation()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-2655DBFF-6F91-3084-B632-2D262490AE1E">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>The Id of the network location request to be cancelled.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aReason</td><td>Indicates why the LBS subsystem wants the terminate the request. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D396ADD5-787F-3AEF-A22B-EE966D125605"><a name="GUID-D396ADD5-787F-3AEF-A22B-EE966D125605"><!-- --></a>
		<h2 class="topictitle2">CancelSelfLocation(const TLbsNetSessionId &amp;, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>CancelSelfLocation</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aReason</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>This method attempts to cancel a request to perform the network side of a self location request. The previous request will have been initiated by calling <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED">RequestSelfLocation()</a></p>

				<p>Note: If the LBS subsystem wishes to stop the self location request and immediately issue a new network location request it should issue a subsequent call to <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED">RequestSelfLocation()</a>. Submitting a new network location request, automatically cancels any outstanding transfer.</p>

				<p>In some circumstances, the protocol module may still return information such as the reference location and assistance data. This situation can occur when the cancel request is performed after a point these are injected into the system.</p>

				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-0129E9D8-867D-306C-998A-4FEED1A16F73">RequestNetworkLocation()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-2655DBFF-6F91-3084-B632-2D262490AE1E">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>The Id of the self location request being cancelled. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aReason</td><td>Indicates why the LBS subsystem wants the terminate the request. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-71EEB639-AF7A-3FD4-A183-A5B377F69F22"><a name="GUID-71EEB639-AF7A-3FD4-A183-A5B377F69F22"><!-- --></a>
		<h2 class="topictitle2">CancelTransmitLocation(const TLbsNetSessionId &amp;, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>CancelTransmitLocation</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aReason</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-71EEB639-AF7A-3FD4-A183-A5B377F69F22">CancelTransmitLocation()</a> is called by the LBS subsystem to instruct the protocol module to stop the transfer of the device's position to a remote third-party.</p>

				<p>Note: If the LBS subsystem wishes to stop the current transfer request and immediately submit an alternative request it should not use <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-71EEB639-AF7A-3FD4-A183-A5B377F69F22">CancelTransmitLocation()</a>. Instead, <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED">RequestTransmitLocation()</a> should be used. Submitting a new transmit request, automatically cancels any outstanding transfer.</p>

				<p>If the protocol module has sucessfully terminated a transfer request it will call <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a> with a completion code of KErrNone.</p>

				<p>If a cancel request was too late, <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a> will be called as normal indicating the success or failure of the transmission.</p>

				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED">RequestTransmitLocation()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>Identifies which transmit location request is to be stopped. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aReason</td><td>Indicates why the LBS subsystem wants the transfer terminated. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BE440A85-D6E5-3CD8-9879-FB0AABDE2EFB"><a name="GUID-BE440A85-D6E5-3CD8-9879-FB0AABDE2EFB"><!-- --></a>
		<h2 class="topictitle2">ExtendedInterface(TInt, TAny *, TAny *)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>ExtendedInterface</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aFunctionNumber,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr1,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr2</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table><div class="section"><div>
				<p>This method is used to retrieve pointers to extended interfaces, if supported by derived classes.</p>

				<p>This method is used to retrieve pointers to extended interfaces, if supported by derived classes.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aFunctionNumber</td><td>The identifier of the extended interface. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr1</td><td>Reserved for future expansion. </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr2</td><td>Reserved for future expansion.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AFD9BDAB-6DA9-3F17-9951-69AE5EDADC6F"><a name="GUID-AFD9BDAB-6DA9-3F17-9951-69AE5EDADC6F"><!-- --></a>
		<h2 class="topictitle2">NewL(TUid, TLbsNetProtocolModuleParams &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">CLbsNetworkProtocolBase</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aImplementationUid,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-691CF528-01DC-36BE-B6D3-9D3A8C9F05EB.html">TLbsNetProtocolModuleParams</a> &amp;</td><td>aParams</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Creates an instance of the <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5">CLbsNetworkProtocolBase</a> implementation with the given Uid.</p>

				<p>Creates an instance of the <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5">CLbsNetworkProtocolBase</a> implementation with the given Uid.</p>

				<p>
					<a href="GUID-691CF528-01DC-36BE-B6D3-9D3A8C9F05EB.html#GUID-691CF528-01DC-36BE-B6D3-9D3A8C9F05EB">TLbsNetProtocolModuleParams</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4">MLbsNetworkProtocolObserver</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aImplementationUid</td><td>Identifies the protocol module to load.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-691CF528-01DC-36BE-B6D3-9D3A8C9F05EB.html">TLbsNetProtocolModuleParams</a> &amp; aParams</td><td>The parameters passed to the protocol module when it is instantiated. These include the a reference to the network protocol observer. The observer is used by the protocol module to report incomming messages and responses to requests made by the LBS subsystem. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-FDC425C8-7ADF-3769-AF44-DC4620486FC4"><a name="GUID-FDC425C8-7ADF-3769-AF44-DC4620486FC4"><!-- --></a>
		<h2 class="topictitle2">RequestAssistanceData(TLbsAsistanceDataGroup)</h2>
		<table class="signature"><tr><td>void</td><td>RequestAssistanceData</td><td>(</td><td><a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a></td><td>aDataRequestMask</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-FDC425C8-7ADF-3769-AF44-DC4620486FC4">RequestAssistanceData()</a> is used by the LBS subsystem to request that the specified subsets of assistance data are downloaded from the network.</p>

				<p>When assistance data is received from the network the protocol module forwards the information to the LBS subsystem via the method <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-FDFF613D-D4E8-3E22-9F25-6E4CB1373170">MLbsNetworkProtocolObserver::ProcessAssistanceData()</a>.</p>

				<p>Each call to <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-FDC425C8-7ADF-3769-AF44-DC4620486FC4">RequestAssistanceData()</a> supersedes any previous request. The protocol module has only to attempt to satisfy the current set of requested assistance data.</p>

				<p>If the method is called with a data of zero, this indicates that no assistance data is currently required. If the protocol module is currently retrieving assistance data a mask of zero may allow it to cancel that request - provided the purpose of that active request is only to retrieve assistance data.</p>

				<p>If the network does not delivered the full set of requested assistance data, the protocol module is required to re-issue a request for the missing data. However, the protocol module should forward assistance data as and when it arrives from the network. This may result in the protocol module calling <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-FDFF613D-D4E8-3E22-9F25-6E4CB1373170">MLbsNetworkProtocolObserver::ProcessAssistanceData()</a> multiple times with the assistance data being delivered to the LBS subsystem in batches.</p>

				<p>If it has not been possible to retrieve any part of the requested assistance data, the protocol module indicates which subsets are missing by also calling <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-FDFF613D-D4E8-3E22-9F25-6E4CB1373170">MLbsNetworkProtocolObserver::ProcessAssistanceData()</a> with the appropriate mask and a suitable error code.</p>

				<p>
					<a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-FDFF613D-D4E8-3E22-9F25-6E4CB1373170">MLbsNetworkProtocolObserver::ProcessAssistanceData()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a> aDataRequestMask</td><td>Is a bitmask that specifies which subsets of GPS assistance data are required. If aDataRequestMask is set to zero, this indicates that no further assistance data is needed. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0129E9D8-867D-306C-998A-4FEED1A16F73"><a name="GUID-0129E9D8-867D-306C-998A-4FEED1A16F73"><!-- --></a>
		<h2 class="topictitle2">RequestNetworkLocation(const TLbsNetSessionId &amp;, const TLbsNetPosRequestOptionsBase &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>RequestNetworkLocation</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-E7972EE9-6CE3-3D59-A2D6-0CCAEF26F6B2.html">TLbsNetPosRequestOptionsBase</a> &amp;</td><td>aOptions</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-0129E9D8-867D-306C-998A-4FEED1A16F73">RequestNetworkLocation()</a> is used by the LBS subsystem to request that the network calculates the current location of the handset and returns this to the terminal.</p>

				<p>When the location information is received from the network the protocol module forwards the information to the LBS subsystem via the method <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-2655DBFF-6F91-3084-B632-2D262490AE1E">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</a>.</p>

				<p>The position information returned by is entirely network calculated and is normally expected to be an approximate location only. For example, related to the position of the current serving cell.</p>

				<p>This method automatically cancels any outstanding network location request and replaces it with the new request. The <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-81683047-79C7-3502-A5A2-02AE7BCAE031">CancelNetworkLocation()</a> method is used when the LBS subsystem wants to a cancel request but does not immmediately wish to replace with another.</p>

				<p>The aSessionId parameter is generated by the LBS subsystem and is used to connect all corresponding responses and further requests. The same session ID will be used the LBS subsystem if it wishes to cancel the request. Similarly, the same session ID must also be supplied by the protocol module when it responds to the LBS subsystem via the <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-2655DBFF-6F91-3084-B632-2D262490AE1E">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</a> method.</p>

				<p>The session ID is also passed by the protocol module when closes a session via the method <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a>.</p>

				<p>In addition to performing the normal session complete procedures, the ProcessSessionComplete() message is used by the LBS subsystem to determine if it is allowed to provide location information to the local applications. See the discussion on protocol conflicts under RequestSelfLocation for more information.</p>

				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED">RequestSelfLocation</a> <a href="GUID-4AC6F917-4799-35ED-A284-DACA6B88886D.html#GUID-4AC6F917-4799-35ED-A284-DACA6B88886D">TLbsNetPosRequestOptions</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-2655DBFF-6F91-3084-B632-2D262490AE1E">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</a> <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-81683047-79C7-3502-A5A2-02AE7BCAE031">CancelNetworkLocation</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>The Id of the network location request. This is generated by the LBS and must be used by the protocol module when it returns the obtained position information. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-E7972EE9-6CE3-3D59-A2D6-0CCAEF26F6B2.html">TLbsNetPosRequestOptionsBase</a> &amp; aOptions</td><td>This must be of type TLbsNetPosRequestOptions. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED"><a name="GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED"><!-- --></a>
		<h2 class="topictitle2">RequestSelfLocation(const TLbsNetSessionId &amp;, const TLbsNetPosRequestOptionsBase &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>RequestSelfLocation</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-E7972EE9-6CE3-3D59-A2D6-0CCAEF26F6B2.html">TLbsNetPosRequestOptionsBase</a> &amp;</td><td>aOptions</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED">RequestSelfLocation()</a> is used by the LBS subsystem to inform the network protocol module that local applications wish to obtain the terminal's current location. This method is called every time one or more LBS client applications make location request.</p>

				<p>The parameters indicate if GPS asistance data is required and if one of the clients is requesting location for the first time. If GPS assistance data is required the protocol module will normally initiate a MO-LR. However, the protocol may decide to perform a network request for other reasons.</p>

				<p>When the protocol module has completed the request it signals this by calling <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a>. If the protocol module had decided not to initiate a network MO-LR request it must still call <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a>.</p>

				<p>In addition to performing the normal session complete procedures, this session close message is used by the LBS subsystem to determine if it is allowed to provide location information to the local applications.</p>

				<p>If the protocol module completes the session with KErrPositionHighPriorityReceive or KErrServerBusy error this indicates there has been a protocol conflict error. Under this situation, the LBS subsystem reports this same error to all the self locate client applications that want location information at that particular time.</p>

				<p>Note, client applications that have specified a desired time interval between their successive updates may not be affected by protocol conflicts. Their current location requests will only be returned with this error if their requests coincides with the conflict.</p>

				<p>If the protocol module reports other type of errors, the LBS subsystem can still be attempt to provide location information to its client applications.</p>

				<p>When the protocol module does initiate a self locate MO-LR request with the network, this will result in a number of messages and requests being exchanged. Throughout these exchanges, the protocol module must ensure it uses and tracks the session-id that was passed to <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED">RequestSelfLocation()</a>.</p>

				<p>For example, the terminal will generally receive a reference location from the network. The protocol module forwards that information to the LBS subsystem using <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-2655DBFF-6F91-3084-B632-2D262490AE1E">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</a>. The protocol module should set the session-id parameter to that original passed to <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-B5D9869B-549B-327D-8716-7BA37D8B6AED">RequestSelfLocation()</a>.</p>

				<p>Similarly, if the protocol module generates ProcessLocationRequest() it must use the same session-id. It should also expect the LBS subsystem to respond to that method using the same session-id.</p>

				<p>Submitting a new network location request, automatically cancels any outstanding transfer.</p>

				<p>Note: if the protocol module receives a new RequestSelfLocation before the previous one has completed he may or may not initiate a new network request. In either case, the sessionid between LBS and the protocol module has already changed and the protocol module must behave accordingly. If the protocol module does not issue a new network request, he is still required to generate a ProcessLocationRequest() with the new session id to synchronise with lbs. It is also possible that LBS will call <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-110D5EFE-377B-370D-A3FB-C132926D1D91">RespondLocationRequest()</a> with the old session id before receiving the ProcessLocationRequest() with the new session id; in this case the protocol module should not ignore that 'old' update.</p>

				<p>
					<a href="GUID-F7748CBD-91F5-38BB-A322-2A93048F2199.html#GUID-F7748CBD-91F5-38BB-A322-2A93048F2199">TLbsNetPosRequestOptionsAssistance</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-2655DBFF-6F91-3084-B632-2D262490AE1E">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>The Id of the self location request. This is generated by the LBS and must be used by the protocol module when it performs actions related to that request. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-E7972EE9-6CE3-3D59-A2D6-0CCAEF26F6B2.html">TLbsNetPosRequestOptionsBase</a> &amp; aOptions</td><td>This parameter should be of type TLbsNetPosRequestOptionsAssistance. It provides information about the self location request including the required assistance data. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED"><a name="GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED"><!-- --></a>
		<h2 class="topictitle2">RequestTransmitLocation(const TLbsNetSessionId &amp;, const TDesC &amp;, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>RequestTransmitLocation</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aDestination,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPriority</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED">RequestTransmitLocation()</a> is called by the LBS subsystem to instruct the protocol module to send the device's position to a remote third-party.</p>

				<p>This method automatically cancels any outstanding transmit request and replaces it with the new request.</p>

				<p>The parameter aSessionId is generated by the LBS subsystem and is used connect all corresponding responses and further requests. The same session ID will be used the LBS subsystem itself in subsequent calls to the protocol module via <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5">CLbsNetworkProtocolBase</a>. In return, it the same session ID must also be supplied by the protocol module when it responds to the LBS subsystem or issues related requests via <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4">MLbsNetworkProtocolObserver</a>.</p>

				<p>For example, a request to transmit the location will normally result in the network generating a location request to determine the terminal's current position. This location request is passed to the LBS subsystem via <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a> using the session-id as the initiating <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED">RequestTransmitLocation()</a>.</p>

				<p>Note: If the LBS subsystem does wish to cancel a currently active transmit request and immediately replace it with a new request it should only use <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-9B87D8C5-A038-349F-AFA8-4A46385051ED">RequestTransmitLocation()</a>. It should not attempt to explicitly cancel the outstanding request using <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-71EEB639-AF7A-3FD4-A183-A5B377F69F22">CancelTransmitLocation()</a>. Issuing a cancel and then submitting a subsequent transmit request can lead to inefficiencies at the network protocol level.</p>

				<p>CancelTransmitRequest() <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>Contains the session identifier. The session identifier is generated by the LBS susbsystem and is used in all corresponding and subsequent responses and requests. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aDestination</td><td>Specifies the remote third-party that is the target for the location information transfer. </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPriority</td><td>A protocol specific value that determines the precedence of the request. A high priority may result in the currently active request being stopped. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-110D5EFE-377B-370D-A3FB-C132926D1D91"><a name="GUID-110D5EFE-377B-370D-A3FB-C132926D1D91"><!-- --></a>
		<h2 class="topictitle2">RespondLocationRequest(const TLbsNetSessionId &amp;, TInt, const TPositionInfoBase &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>RespondLocationRequest</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aReason,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-73D6F438-C270-33B9-974B-D4D1583E1738.html">TPositionInfoBase</a> &amp;</td><td>aPosInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-110D5EFE-377B-370D-A3FB-C132926D1D91">RespondLocationRequest()</a> is called by the LBS subsystem in response to the protocol module issuing a location request (<a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a>) on behalf of the network.</p>

				<p>The method is used to return the terminal's current location to network via the protocol module.</p>

				<p>If the terminal has indicated it will accept a location request the network will normally then issue a measurement control request. When the protocol module receives this follow-on request from the network it passed to the LBS subsystem via the <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a> method.</p>

				<p>The session ID parameter indicates which request is being responded to by the LBS subsystem. This same session ID must then be supplied by the protocol module if and when it issues a location request.</p>

				<p>
					<a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-25C0DE58-1144-35F8-BADC-1705A8F10C00">MLbsNetworkProtocolObserver::ProcessPrivacyRequest()</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-8D77AE07-4088-363E-B0BA-4D04AA910ACB">MLbsNetworkProtocolObserver::ProcessSessionComplete()</a> <a href="GUID-73D6F438-C270-33B9-974B-D4D1583E1738.html#GUID-73D6F438-C270-33B9-974B-D4D1583E1738">TPositionInfoBase</a> <a href="GUID-D5B2E933-209D-3871-8E27-CC5C8855C745.html#GUID-D5B2E933-209D-3871-8E27-CC5C8855C745">TPositionInfo</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>[In] Contains the session identifier - indicating which location request is being responded too. This is the same session ID passed by the network module to the LBS subsystem when the module initiated the position calculation via a call to MLbsNetworkProtocolObserver::ProcessLocationRequest(). </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aReason</td><td>[In] KErrNone if aPosition holds best location information available; KErrCancel if the session has been cancelled explicitly by a user or by an application acting on behalf of a user. KErrAccessDenied if the terminal has decided to reject the location request, or the corresponding (and previous) privacy request, or it is unwilling to accept network induced location requests (NI-LRs); KErrInUse if LBS is currently busy processing another request(s); KErrNotSupported if the positioning mode(s) requested in the corresponding location request is not supported by the LBS subsystem or the AGPS Module. </td></tr><tr><td class="parameter">const <a href="GUID-73D6F438-C270-33B9-974B-D4D1583E1738.html">TPositionInfoBase</a> &amp; aPosInfo</td><td>[In] Provides information about the current location of terminal - provided the parameter aReason is set to KErrNone. Otherwise, aPosInfo is unassigned. Normally, aPosInfo will be of type TPositionInfo. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6DEE1387-7EBD-3164-B080-C8ECC3C26907"><a name="GUID-6DEE1387-7EBD-3164-B080-C8ECC3C26907"><!-- --></a>
		<h2 class="topictitle2">RespondPrivacyRequest(const TLbsNetSessionId &amp;, const TLbsPrivacyResponse &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>RespondPrivacyRequest</td><td>(</td><td>const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp;</td><td>aSessionId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">TLbsPrivacyResponse</a> &amp;</td><td>aResponse</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Send a response to a privacy request from the network.</p>

				<p>
					<a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-6DEE1387-7EBD-3164-B080-C8ECC3C26907">RespondPrivacyRequest()</a> is called by the LBS subsystem in response to the protocol module issuing a privacy request (<a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-25C0DE58-1144-35F8-BADC-1705A8F10C00">MLbsNetworkProtocolObserver::ProcessPrivacyRequest()</a>) on behalf of the network.</p>

				<p>The method indicates to the protocol module whether the terminal is willing to accept or has rejected the network's request.</p>

				<p>If the terminal has indicated it will accept a location request, the network will normally then issue a measurement control request. When the protocol module receives this follow-on request from the network it passed to the LBS subsystem via the <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a> method.</p>

				<p>The session ID parameter indicates which request is being responded to by the LBS subsystem. This same session ID must then be supplied by the protocol module if and when it issues a location request.</p>

				<p>
					<a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-25C0DE58-1144-35F8-BADC-1705A8F10C00">MLbsNetworkProtocolObserver::ProcessPrivacyRequest()</a> <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-77F8D21D-E31B-39F5-8EEE-5CE413054728">TLbsPrivacyResponse</a> <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-38D42D53-4F23-3565-9434-7319729AA127">MLbsNetworkProtocolObserver::ProcessLocationRequest()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-72965288-F426-3487-BC47-4AB88E465415.html">TLbsNetSessionId</a> &amp; aSessionId</td><td>Is the same session identifier was passed by the protocol module when it called MLbsNetworkProtocolObserver::ProcessPrivacyRequest() to start the privacy request. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html">TLbsPrivacyResponse</a> &amp; aResponse</td><td>The response to the privacy request to send to the network. This indicates whether the terminal has accepted or rejected the request for its current location. </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-70CC3CE7-1652-3E8C-89C4-7B1D11A687B9"><a name="GUID-70CC3CE7-1652-3E8C-89C4-7B1D11A687B9"><!-- --></a>
		<h2 class="topictitle2">Enum TExtInterface</h2>
		<div class="section"><div>
				<p>ExtendedInterface aFunctionNumber parameter.  </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EExtInterfaceCount = 0</td><td> </td></tr><tr class="bg"><td valign="top">EExtInterface2</td><td> </td></tr><tr><td valign="top">EExtInterfaceMax</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-77F8D21D-E31B-39F5-8EEE-5CE413054728"><a name="GUID-77F8D21D-E31B-39F5-8EEE-5CE413054728"><!-- --></a>
		<h2 class="topictitle2">Enum TLbsPrivacyResponse</h2>
		<div class="section"><div>
				<p>The response to a privacy request.</p>

				<p>
					<a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-25C0DE58-1144-35F8-BADC-1705A8F10C00">MLbsNetworkProtocolObserver::ProcessPrivacyRequest()</a> <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-6DEE1387-7EBD-3164-B080-C8ECC3C26907">RespondPrivacyRequest()</a> </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EPrivacyResponseUnknown = 0</td><td>
							<p>Not Used </p>

						 </td></tr><tr class="bg"><td valign="top">EPrivacyResponseAccepted</td><td>
							<p>Inform the network the terminal will accept its location request </p>

						 </td></tr><tr><td valign="top">EPrivacyResponseRejected</td><td>
							<p>Inform the network the terminal will reject its location request </p>

						 </td></tr><tr class="bg"><td valign="top">EPrivacyResponseIgnored</td><td>
							<p>Inform the protocol module it should not respond to the location request. This option is currently not supported </p>

						 </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-82E2F0EC-EB2D-382A-B2CE-F3C906493422"><a name="GUID-82E2F0EC-EB2D-382A-B2CE-F3C906493422"><!-- --></a>
		<h2 class="topictitle2">Enum TLbsSystemStatus</h2>
		<div class="section"><div>
				<p>The status of the Lbs positioning framework. It is a combined bitmask of information reported by all the Lbs framework components. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ESystemStatusNone = 0x00</td><td>
							<p>No specific status information available </p>

						 </td></tr><tr class="bg"><td valign="top">ESystemStatusClientTracking = 0x01</td><td>
							<p>Inform the network at least one client of the Location Server is tracking (the UpdateOptions interval is nonzero) <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-895B7109-9369-3264-965D-FFE7AF6A6AC3">RPositioner::SetUpdateOptions</a> UpdateSelfLocationMode </p>

						 </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-61A2466C-748B-34F8-B51C-E5A70CB8414A"><a name="GUID-61A2466C-748B-34F8-B51C-E5A70CB8414A"><!-- --></a>
		<h2 class="topictitle2">
					TUid
				 iDtor_ID_Key</h2>
		<table class="signature"><tr><td>
					<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
				</td><td>iDtor_ID_Key</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>