<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Scene Elements"/>
<meta name="abstract" content="This topic provides an introduction to the concept of scene elements within the context of graphics composition. Scene elements are sometimes referred to as layers."/>
<meta name="description" content="This topic provides an introduction to the concept of scene elements within the context of graphics composition. Scene elements are sometimes referred to as layers."/>
<meta name="DC.Relation" scheme="URI" content="GUID-783086B9-D6FE-539C-90F1-D745253A640D.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-63CB6C7E-44EC-5D0B-A37D-FE78F7D76592.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-783086B9-D6FE-539C-90F1-D745253A640D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-783086B9-D6FE-539C-90F1-D745253A640D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0DC3E5AA-1706-5255-ACD6-E7AB732E1095.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Scene Elements</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2387228 id2387242 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-63CB6C7E-44EC-5D0B-A37D-FE78F7D76592.html" title="The Graphics Composition collection is a key part of ScreenPlay. The collection is made up of components that are concerned with composition. This is the process of putting together the output elements from various different sources to create the display that the viewer sees on the screen.">Graphics Composition Collection</a> &gt; <a href="GUID-783086B9-D6FE-539C-90F1-D745253A640D.html" title="This section covers some important graphics composition topics, such as scene elements (sometimes known as layers) and surfaces.">Graphics Composition Concepts</a> &gt; </div>
<h1 class="topictitle1">Scene
Elements</h1>
<div><p>This topic provides an introduction to the concept of <strong>scene
elements</strong> within the context of graphics composition. Scene elements are
sometimes referred to as <strong>layers</strong>. </p>

<p> <strong>Variant</strong>: ScreenPlay. <strong>Target audience</strong>: Device creators. </p>

<p>Within a composition scene, elements map surfaces to screen rectangles.
Depth ordering (z-order) is used to resolve how the elements overlap each
other. The elements support some basic pixel rectangle transformations such
as scaling and rotation in 90 degree increments. </p>

<p>The following diagram shows the three elements in a video telephony use
case. The uppermost element (with a red border) contains the UI content (called
the UI surface). This is semi-transparent and is owned by the Window Server.
The next element down is the camera viewfinder (green border). The surface
associated with this element is owned by the camera. The final element (blue
border) shows a video of the caller. The surface associated with this element
is owned by the video renderer. </p>

<div class="fignone" id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-C2FEB262-DA13-5172-A432-EAC03F0FC80A"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-C2FEB262-DA13-5172-A432-EAC03F0FC80A"><!-- --></a><span class="figcap">Figure 1.            The elements in a video telephony use case          </span>

<img src="GUID-E1E25E68-7FE3-53A7-980E-CCF25090715F_d0e279140_href.png"/>
</div>

<p>A similar principle applies when a game is running on the phone. The semi-transparent
UI surface would overlay the element containing the EGL-owned surface. When
the game or a video is in full screen mode, the composition engine can enter <strong>fast
path mode</strong>. This indicates to the LCD controller that there is no UI content
to blend with the background element. </p>

<div class="fignone" id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-A52A1E62-E929-5CC3-A756-A7E332951155"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-A52A1E62-E929-5CC3-A756-A7E332951155"><!-- --></a><span class="figcap">Figure 2.            Fast path mode          </span>

<img src="GUID-F5BFE35F-ED90-50C5-8F63-7A780A97689B_d0e279154_href.png"/>
</div>

<p> </p>

<p>The z-order of an element is determined by its position in the list of
elements. Several additional pieces of positional information are stored as
element metadata. The element maps the surface to the device screen. More
specifically it maps a part of the surface, the <strong>source rectangle</strong>, to
a <strong>destination rectangle</strong> on the screen. The destination rectangle defines
the position and size of the element itself. </p>

<div class="fignone" id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-FCF3894F-F8D5-511F-881A-169501AA27B5"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-FCF3894F-F8D5-511F-881A-169501AA27B5"><!-- --></a><span class="figcap">Figure 3.            Element terminology          </span>

<img src="GUID-FBF2ED6F-D1C5-5368-96C2-FCF38234BF43_d0e279174_href.png"/>
</div>

<p>The source rectangle corresponds to the <strong>viewport</strong> in the Window Server
documentation and the destination rectangle corresponds to the <strong>extent</strong>. </p>

<p>The source and destination rectangles do not have to be the same sizeâ€”the
composition engine can clip or scale the data to fit. </p>

<p>The following concepts are related to elements: </p>

<ul>
<li id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-53CC7FB9-1BB9-50B1-8840-D83439BE4DBF"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-53CC7FB9-1BB9-50B1-8840-D83439BE4DBF"><!-- --></a><p> <strong>Scene structure</strong>  </p>
 <p>A
set of elements, all with a specific size, visible region and z-order, which
when composed form an entire scene. </p>
 </li>

<li id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-AC3AD2BA-EE44-54B7-AA37-73CC8D0CF158"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-AC3AD2BA-EE44-54B7-AA37-73CC8D0CF158"><!-- --></a><p> <strong>Scene content</strong>  </p>
 <p>A
set of surfaces bound with elements that contain the pixels to be composed
according to the structure described by the scene structure. </p>
 </li>

</ul>

<p>This distinction between the scene structure and scene content is important.
The architecture is split so that the Window Server deals only with the scene
structure and UI content and not with the scene content. This allows optimal
data and control paths. For example, it has the advantage that the Window
Server does not need to take any action when the content of a video surface
changes but the UI does not change. </p>

<p>The components in the Graphics Composition collection are divided between
those that manage the scene structure and those that manage scene content: </p>

<ul>
<li id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-DB21268B-F180-5985-BEAE-ECC4E1DC2420"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-DB21268B-F180-5985-BEAE-ECC4E1DC2420"><!-- --></a><p>The composition engine
manages scene structure. This means that the composition engine mainly deals
in elements and dictates how the scene is composed. </p>
 </li>

<li id="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-F32404D9-5DD8-53A8-95D2-664BC3E25A79"><a name="GUID-41802B91-26B3-5F3C-AE04-B6954F3804B7__GUID-F32404D9-5DD8-53A8-95D2-664BC3E25A79"><!-- --></a><p>The Surface Manager
and the Surface Update Server manage scene content. This means that they mainly
deal in surfaces. </p>
 </li>

</ul>


</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-783086B9-D6FE-539C-90F1-D745253A640D.html" title="This section covers some important graphics composition topics, such as scene elements (sometimes known as layers) and surfaces.">Graphics Composition Concepts</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-783086B9-D6FE-539C-90F1-D745253A640D.html" title="This section covers some important graphics composition topics, such as scene elements (sometimes known as layers) and surfaces.">Composition
Concepts</a></div>
<div><a href="GUID-0DC3E5AA-1706-5255-ACD6-E7AB732E1095.html" title="This topic provides an introduction to the Graphics Composition collection.">Graphics
Composition Collection Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>