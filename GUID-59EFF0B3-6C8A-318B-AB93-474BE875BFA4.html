<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MSenProvider"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-59EFF0B3-6C8A-318B-AB93-474BE875BFA4"/>

<title>MSenProvider</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-59EFF0B3-6C8A-318B-AB93-474BE875BFA4"><a name="GUID-59EFF0B3-6C8A-318B-AB93-474BE875BFA4"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0;
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MSenProvider Class Reference</h1>
	<table class="signature"><tr><td>class MSenProvider : public MSenHostlet</td></tr></table><div class="section"><div>
			<p>Class for delivering SOAP request to WSP and getting back a response </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">MSenProvider<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-55EB94CE-338E-3F62-91A3-496E1932A61B.html">MSenHostlet</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-5E15660B-67E6-34F9-BA48-2253B36CEDC7">CompleteClientMessages</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-032EB587-5D4E-34D6-AC86-84D3DAECA722">Exposed</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-DEFF6FFC-CEB8-3199-9DAE-00A9F7C42A6A">LoadOnStartup</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-1662CD4A-F8CA-372D-855A-02DCDCAD28C0">ReinitL</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-1A2DAE01-2443-3F3C-87DF-60348C8C03EB">Reinitializable</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-4B0D54A3-876A-36FD-8612-4B05CFA9BA05">Sharable</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-460BDE27-9FA4-3CD0-A948-942EF430A6B2">StayOnBackground</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-B1030F48-21F0-3C14-A025-AA97D9C59F5B">Threadsafe</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC5F1EC1-28CC-3B06-83C4-B90EF8EEBA07.html">RCriticalSection</a>
				</td><td><a href="#GUID-0E3893A4-DFB4-3638-9094-9BAC2AE5BC97">iCriticalSection</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-5E15660B-67E6-34F9-BA48-2253B36CEDC7"><a name="GUID-5E15660B-67E6-34F9-BA48-2253B36CEDC7"><!-- --></a>
		<h2 class="topictitle2">CompleteClientMessages()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>CompleteClientMessages</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Provider implementation should override this method and set the value to ETrue, if it wants to receive complete messages instead of plain message bodies (example: full SOAP Envelope vs. SOAP Body).</p>

				<p>Default implementation typically returns EFalse, which means that provider will receive the body of the message only. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-032EB587-5D4E-34D6-AC86-84D3DAECA722"><a name="GUID-032EB587-5D4E-34D6-AC86-84D3DAECA722"><!-- --></a>
		<h2 class="topictitle2">Exposed()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>Exposed</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Separate session initialization method, which is called when some session of certain requester (service consumer) is "attached" to this provider. In case of non-sharable provider, this happens only once. Method performs some auto-configuration to that session, describing the capabilities (facets), that are enabled in this provider implementation.</p>

				<p>Typically, frameworks should call this method when they find provider to be local, in order to fully initialize their client side session which represents the provided service.</p>

				<p>So, this method is performing "auto-configuration" for service sessions, so that caller (session itself) can read these properties of the provider from the XML SD (aSession). This way, a deployed provider does not need to be followed by explicit Service Management API calls configuring, lets say, whether a provider is exposed or not. Provider implementation, which wishes to explicitly expose it's service to outside world (outbound requests from network) should override this method and make it return ETrue. This would cause "expose" facet to be added to service session (SD), granting access from otherwise *trusted* requester (access control is done using policies). Even trusted identities cannot access providers in the device, if they don't explicitly expose their service.</p>

				<p>Default implementation typically returns EFalse, which means that the provider is meant for local service consumers only. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-DEFF6FFC-CEB8-3199-9DAE-00A9F7C42A6A"><a name="GUID-DEFF6FFC-CEB8-3199-9DAE-00A9F7C42A6A"><!-- --></a>
		<h2 class="topictitle2">LoadOnStartup()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>LoadOnStartup</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<div class="p">Provider implementation should override this method and make it return ETrue, if it wants to speed up the run time invocation of this provider, performed by certain service consumer. Such provider will be recognized and loaded when Core Service Manager (WSF server process) starts up. Provider will be de-allocated depending whether it is sharable and if it is multi-threaded or not<ul><li><p>which is similar to how providers behave in any other case, too.</p>
</li>
</ul>
</div>

				<p>Default implementation typically returns EFalse, which means that provider will not be loaded on WSF main process (Symbian server) start-up. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-1662CD4A-F8CA-372D-855A-02DCDCAD28C0"><a name="GUID-1662CD4A-F8CA-372D-855A-02DCDCAD28C0"><!-- --></a>
		<h2 class="topictitle2">ReinitL()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>ReinitL</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Re-init should be implemented by those Hostlets (providers), which want to allow that instance to be re-used, that is resetted by the invoker. For example, then some component responsible of loading of the providers might be able to improve performance of slowly constructed providers by calling this method, instead of de-allocating that instance and making a ECOM lookup creating a similar, but new instance to same service provider endpoint. Implementations should thus reset any state variables that they have, and set themselves to the state in which they were right after first construction. However, some performance benefits can be achieved if some class members can be treated as "stateless objects", which can be re-used without possibly much slower re-instatiation.</p>

				<p>This method is a pair to <a href="GUID-59EFF0B3-6C8A-318B-AB93-474BE875BFA4.html#GUID-1A2DAE01-2443-3F3C-87DF-60348C8C03EB">Reinitializable()</a> function, meaning that when one develops such provider which supports reinitialization, that re-init should be implemented behind this <a href="GUID-59EFF0B3-6C8A-318B-AB93-474BE875BFA4.html#GUID-1662CD4A-F8CA-372D-855A-02DCDCAD28C0">ReinitL()</a> method.</p>

				<p>Default implementation typically does nothing and returns KErrNotSupported, since most of the providers don't support re-initialization.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-1A2DAE01-2443-3F3C-87DF-60348C8C03EB"><a name="GUID-1A2DAE01-2443-3F3C-87DF-60348C8C03EB"><!-- --></a>
		<h2 class="topictitle2">Reinitializable()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>Reinitializable</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Provider implementation should override this method and make it return ETrue, if they are capable of returning their internal state to one equal with state that they were right after original construction.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-4B0D54A3-876A-36FD-8612-4B05CFA9BA05"><a name="GUID-4B0D54A3-876A-36FD-8612-4B05CFA9BA05"><!-- --></a>
		<h2 class="topictitle2">Sharable()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>Sharable</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Provider implementation should override this method and set the value to ETrue, if it implements capability to server several service consumers (sessions).</p>

				<p>Default implementation typically returns EFalse, which means that provider is NOT shared between multiple consumers (sessions). </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-460BDE27-9FA4-3CD0-A948-942EF430A6B2"><a name="GUID-460BDE27-9FA4-3CD0-A948-942EF430A6B2"><!-- --></a>
		<h2 class="topictitle2">StayOnBackground()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>StayOnBackground</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-B1030F48-21F0-3C14-A025-AA97D9C59F5B"><a name="GUID-B1030F48-21F0-3C14-A025-AA97D9C59F5B"><!-- --></a>
		<h2 class="topictitle2">Threadsafe()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>Threadsafe</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Provider implementation should override this method and make it return EFalse, if it wants to implement multi-threaded, non thread-safe ServiceL. This typically means that such providers will make use of <a href="GUID-FC5F1EC1-28CC-3B06-83C4-B90EF8EEBA07.html#GUID-FC5F1EC1-28CC-3B06-83C4-B90EF8EEBA07">RCriticalSection</a> inside of their own implementation.</p>

				<p>If a provider is sharable *but not* thread-safe, it means, that it is possible that multiple requests to ServiceL, from multiple consumers are executed simultaneously from separate threads. It is strongly recommended to use critical sections inside the provider plug-in implementation. This kind of sharable providers might be serving under quite heave load. The requesters (threads) should be identified by the information available in hostlet request interface</p>

				<p>Then again, if provider is not sharable *but not* thread-safe, it means that multiple request threads from *same service consumer* might execute ServiceL simultaneously. Provider implementation should therefore offer thread-safe functionality inside ServiceL, possibly via use of <a href="GUID-FC5F1EC1-28CC-3B06-83C4-B90EF8EEBA07.html#GUID-FC5F1EC1-28CC-3B06-83C4-B90EF8EEBA07">RCriticalSection</a> instance, or through some other mutex.</p>

				<p>
					<a href="GUID-A7264C9A-8E90-32DD-B6B2-3D3FB2F8BA60.html#GUID-A7264C9A-8E90-32DD-B6B2-3D3FB2F8BA60">MSenHostletRequest</a> to figure out ids for requesters / addressees</p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-0E3893A4-DFB4-3638-9094-9BAC2AE5BC97"><a name="GUID-0E3893A4-DFB4-3638-9094-9BAC2AE5BC97"><!-- --></a>
		<h2 class="topictitle2">
					RCriticalSection
				 iCriticalSection</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC5F1EC1-28CC-3B06-83C4-B90EF8EEBA07.html">RCriticalSection</a>
				</td><td>iCriticalSection</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Re-initializable or shared service providers, which instance is being called from multiple threads may wish to override this method in order to act on this signal and to properly initialize their thread specific components, like those which have Thread Local Store (TLS) based implementation.</p>

				<p>If the method leaves, it is treaded equally as if the leave occured in the actual ServiceL. Re-initializable or shared service providers, which instance is being called from multiple threads may wish to override this method in order to act on this signal and to properly initialize their thread specific components, like those which have Thread Local Store (TLS) based implementation. </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>