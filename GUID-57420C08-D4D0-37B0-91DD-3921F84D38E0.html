<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="conn::RABClientSession"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-57420C08-D4D0-37B0-91DD-3921F84D38E0"/>

<title>conn::RABClientSession</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-57420C08-D4D0-37B0-91DD-3921F84D38E0"><a name="GUID-57420C08-D4D0-37B0-91DD-3921F84D38E0"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0;
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">conn::RABClientSession Class Reference</h1>
	<table class="signature"><tr><td>class conn::RABClientSession : public RSessionBase</td></tr></table><div class="section"><div>
			<p>The active backup client to the Secure Backup Engine.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">conn::RABClientSession<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase</a><ul class="derivation"><li class="derivation-depth-2 "><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-B7564F28-0297-3649-B6E3-441B5A999E8B">RABClientSession</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-08631779-8410-3E0C-AC71-86EE508351BB">BURModeInfoL</a>(<a href="GUID-78E993D5-A845-32B4-B41A-947ABEF16AA0.html">TDriveList</a> &amp;, <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TBURPartType</a> &amp;, <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TBackupIncType</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-BE65D4CF-3A4B-3535-A04E-17DAA90298F3">CancelServerCallbackL</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-7EB40FEC-256D-3F46-BC4D-D2A947CE6296">Close</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-8E3856F3-B70F-376E-B1BC-50F9059D3185">ConfirmReadyForBURL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-665BBB86-2AE1-3BF3-99D1-CDDFEA69A930">Connect</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-AFEB2C6E-807A-34DA-AC2A-62BFB9ED4341">DoesPartialBURAffectMeL</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-C1D634B1-B387-3F3E-868D-1913A938C03F">GetDataFromServerLC</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a>)</td></tr><tr><td align="right" class="code">
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-3313E310-7CED-3ADE-B80B-5F3C836EF08A">GetDataFromServerLC</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a>, <a href="GUID-A2C3FD45-1C40-321B-BED5-EE42383716BD.html">TDriveNumber</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-BC598BA4-E524-31D0-8037-98E29D5DECCF">PrimeServerForCallbackL</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp;, <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-FC2C4626-866D-35E5-8E0B-EE799368FA6C">PrimeServerForCallbackWithResponseL</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp;, <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-66089390-0762-3F69-9828-169310A56BFB">PrimeServerForCallbackWithResponseL</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp;, <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-49934593-40B4-3A70-8C58-101148D53262">PropagateLeave</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-591CB3A1-D8E1-37D9-8B51-AEB0D5867BB1">SendDataLengthToServerL</a>(<a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a>)</td></tr><tr><td align="right" class="code">
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td><a href="#GUID-1B33F5DD-1A39-35CE-8D66-065A7A6E5BA4">Version</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-7FE25B8B-D297-34EC-BD98-9994836D0392">StartServer</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Attributes()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::BTraceId()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::DoExtendedClose()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Duplicate(const RThread &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName(TDes &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Handle()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::HandleInfo(THandleInfo *)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Name()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::NotifyDestruction(TRequestStatus &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Open(const TFindHandleBase &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::OpenByName(const TDesC &amp;,TOwnerType,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandle(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandleNC(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(RServer2,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TIpcSessionType,const TSecurityPolicy *,TRequestStatus *)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::CreateSession(const TDesC &amp;,const TVersion &amp;,TInt,TRequestStatus *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(RMessagePtr2,TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Open(TInt,const TSecurityPolicy &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,RHandleBase &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::SetReturnedHandle(TInt,const TSecurityPolicy &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareAuto()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase::ShareProtected()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase:TAttributes</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-6D8A458C-9A39-3000-A3BC-060A2A3663E6.html">RSessionBase:TAttachMode</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::iHandle</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-B7564F28-0297-3649-B6E3-441B5A999E8B"><a name="GUID-B7564F28-0297-3649-B6E3-441B5A999E8B"><!-- --></a>
		<h2 class="topictitle2">RABClientSession()</h2>
		<table class="signature"><tr><td>RABClientSession</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Class constructor. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-08631779-8410-3E0C-AC71-86EE508351BB"><a name="GUID-08631779-8410-3E0C-AC71-86EE508351BB"><!-- --></a>
		<h2 class="topictitle2">BURModeInfoL(TDriveList &amp;, TBURPartType &amp;, TBackupIncType &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>BURModeInfoL</td><td>(</td><td><a href="GUID-78E993D5-A845-32B4-B41A-947ABEF16AA0.html">TDriveList</a> &amp;</td><td>aDriveList,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TBURPartType</a> &amp;</td><td>aBackupType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TBackupIncType</a> &amp;</td><td>aIncBackupType</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>This method returns the type(s) of backup / restore operation currently active</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-78E993D5-A845-32B4-B41A-947ABEF16AA0.html">TDriveList</a> &amp; aDriveList</td><td>list of drives involved in backup and restore  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TBURPartType</a> &amp; aBackupType</td><td>enumerated type indicating whether a backup or restore is in progress and whether full or partial.  </td></tr><tr><td class="parameter"><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TBackupIncType</a> &amp; aIncBackupType</td><td>enumerated type indicating whetherr a backup is base or incremental.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BE65D4CF-3A4B-3535-A04E-17DAA90298F3"><a name="GUID-BE65D4CF-3A4B-3535-A04E-17DAA90298F3"><!-- --></a>
		<h2 class="topictitle2">CancelServerCallbackL()</h2>
		<table class="signature"><tr><td>void</td><td>CancelServerCallbackL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Inform the server that it can no longer call callbacks on the client </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-7EB40FEC-256D-3F46-BC4D-D2A947CE6296"><a name="GUID-7EB40FEC-256D-3F46-BC4D-D2A947CE6296"><!-- --></a>
		<h2 class="topictitle2">Close()</h2>
		<table class="signature"><tr><td>void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Closes the Secure Backup Engine handle. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8E3856F3-B70F-376E-B1BC-50F9059D3185"><a name="GUID-8E3856F3-B70F-376E-B1BC-50F9059D3185"><!-- --></a>
		<h2 class="topictitle2">ConfirmReadyForBURL(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>ConfirmReadyForBURL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aErrorCode</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>This method is called to indicate to the Secure Backup Server that the data owner is ready to participate in backup or restore. The data owner must call this method to indicate readiness or the Secure Backup Server will not request or supply backup data.</p>

				<p>N.B. The Secure Backup Server will supply snapshot data (if relevant) before a data owner indicates readiness as it assumes that the data owner requires snapshot data in order to prepare for a backp or restore.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aErrorCode</td><td>this should be set to KErrNone when the client is ready for backup or restore. If it is set to any other value then it indicates that the client cannot continue with the backup or restore and the error code will be supplied to the remote backup client.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-665BBB86-2AE1-3BF3-99D1-CDDFEA69A930"><a name="GUID-665BBB86-2AE1-3BF3-99D1-CDDFEA69A930"><!-- --></a>
		<h2 class="topictitle2">Connect()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Connect</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Connects the handle to the Secure Backup Engine.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-AFEB2C6E-807A-34DA-AC2A-62BFB9ED4341"><a name="GUID-AFEB2C6E-807A-34DA-AC2A-62BFB9ED4341"><!-- --></a>
		<h2 class="topictitle2">DoesPartialBURAffectMeL()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>DoesPartialBURAffectMeL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>This method can be called when a partial backup or restore is active and will indicate whether the calling process is expected to take part. If a full backup or restore is active then this method will return ETrue for all data owners. If no backup or restore is active then this method will return EFalse for all data owners.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-C1D634B1-B387-3F3E-868D-1913A938C03F"><a name="GUID-C1D634B1-B387-3F3E-868D-1913A938C03F"><!-- --></a>
		<h2 class="topictitle2">GetDataFromServerLC(const TInt, TABCallbackCommands)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>GetDataFromServerLC</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aDataLength,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a></td><td>aCallbackRequestingData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Following a callback call to the Active Backup Callback Handler, this method requests the data from the server. aDataLength will have been supplied by the original callback call from the server and all that remains is to make a synchronous call to get it copied over</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aDataLength</td><td>The length of the data that will be received  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> aCallbackRequestingData</td><td>The callback enum identifying the callback requesting this data  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3313E310-7CED-3ADE-B80B-5F3C836EF08A"><a name="GUID-3313E310-7CED-3ADE-B80B-5F3C836EF08A"><!-- --></a>
		<h2 class="topictitle2">GetDataFromServerLC(const TInt, TABCallbackCommands, TDriveNumber &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>GetDataFromServerLC</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aDataLength,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a></td><td>aCallbackRequestingData,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A2C3FD45-1C40-321B-BED5-EE42383716BD.html">TDriveNumber</a> &amp;</td><td>aDriveNum</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Following a callback call to the Active Backup Callback Handler, this method requests the data from the server. aDataLength will have been supplied by the original callback call from the server and all that remains is to make a synchronous call to get it copied over. This should only be called from a ReceiveSnapshot callback</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aDataLength</td><td>The length of the data that will be received  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> aCallbackRequestingData</td><td>The callback enum identifying the callback requesting this data  </td></tr><tr><td class="parameter"><a href="GUID-A2C3FD45-1C40-321B-BED5-EE42383716BD.html">TDriveNumber</a> &amp; aDriveNum</td><td>The drive number </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BC598BA4-E524-31D0-8037-98E29D5DECCF"><a name="GUID-BC598BA4-E524-31D0-8037-98E29D5DECCF"><!-- --></a>
		<h2 class="topictitle2">PrimeServerForCallbackL(TPckgBuf&lt; TABCallbackCommands &gt; &amp;, TPckgBuf&lt; TInt &gt; &amp;, TPckgBuf&lt; TInt &gt; &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>PrimeServerForCallbackL</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp;</td><td>aCallback,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aArg1,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aArg2,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Send an async message to the server so that it can call us back when it's ready to make callback's</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp; aCallback</td><td>This modifiable package buf is set by the server to indicate which callback to call  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aArg1</td><td>This is the first argument for the callback, set by the server  </td></tr><tr><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aArg2</td><td>This is the second argument for the callback, set by the server  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The status  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-FC2C4626-866D-35E5-8E0B-EE799368FA6C"><a name="GUID-FC2C4626-866D-35E5-8E0B-EE799368FA6C"><!-- --></a>
		<h2 class="topictitle2">PrimeServerForCallbackWithResponseL(TPckgBuf&lt; TABCallbackCommands &gt; &amp;, TPckgBuf&lt; TInt &gt; &amp;, TPckgBuf&lt; TInt &gt; &amp;, TInt, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>PrimeServerForCallbackWithResponseL</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp;</td><td>aCallback,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aArg1,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aArg2,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aResult,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Send an async message to the server so that it can call us back when it's ready to make callback's. This call also returns a result from the previous callback for the server to respond to/return to the PC etc.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp; aCallback</td><td>This modifiable package buf is set by the server to indicate which callback to call  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aArg1</td><td>This is the first argument for the callback, set by the server  </td></tr><tr><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aArg2</td><td>This is the second argument for the callback, set by the server  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aResult</td><td>The return value of the previous callback to pass back to the server  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The status  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-66089390-0762-3F69-9828-169310A56BFB"><a name="GUID-66089390-0762-3F69-9828-169310A56BFB"><!-- --></a>
		<h2 class="topictitle2">PrimeServerForCallbackWithResponseL(TPckgBuf&lt; TABCallbackCommands &gt; &amp;, TPckgBuf&lt; TInt &gt; &amp;, TPckgBuf&lt; TInt &gt; &amp;, TDesC8 &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>PrimeServerForCallbackWithResponseL</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp;</td><td>aCallback,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aArg1,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aArg2,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aResult,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Send an async message to the server so that it can call us back when it's ready to make callback's. This call also returns a result from the previous callback for the server to respond to/return to the PC etc.</p>

				<div class="p">
					<dl class="precondition">
						
							<dt class="dlterm">Pre-condition</dt>

							<dd>A call to SendDataLengthToServerL must have preceeded this call so that the server may prepare to receive data </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> &gt; &amp; aCallback</td><td>This modifiable package buf is set by the server to indicate which callback to call  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aArg1</td><td>This is the first argument for the callback, set by the server  </td></tr><tr><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aArg2</td><td>This is the second argument for the callback, set by the server  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aResult</td><td>Data to send back to the server  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The status </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-49934593-40B4-3A70-8C58-101148D53262"><a name="GUID-49934593-40B4-3A70-8C58-101148D53262"><!-- --></a>
		<h2 class="topictitle2">PropagateLeave(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>PropagateLeave</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aLeaveCode</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Send a synchronous IPC message to the server indicating that a leave has ocurred whilst executing a callback</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aLeaveCode</td><td>The code to leave back to the server with  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-591CB3A1-D8E1-37D9-8B51-AEB0D5867BB1"><a name="GUID-591CB3A1-D8E1-37D9-8B51-AEB0D5867BB1"><!-- --></a>
		<h2 class="topictitle2">SendDataLengthToServerL(TDesC8 &amp;, TBool, TABCallbackCommands)</h2>
		<table class="signature"><tr><td>void</td><td>SendDataLengthToServerL</td><td>(</td><td><a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aData,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aFinished,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a></td><td>aCallbackSendingData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Send the length and finished flag back to the server. Limitations of IPC mean that we can only send fixed size data to the server, hence the length and finished flag are sent first so that the server may allocate the appropriate amount of space prior to the response containing the data</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aData</td><td>Descriptor containing the data to send back to the server. Only the length of this is sent in this message  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aFinished</td><td>Flag indicating that this is the last transfer from the client to server. If EFalse, the server must call the callback again  </td></tr><tr><td class="parameter"><a href="GUID-116DAFF8-6AA2-3AE0-B5B7-3E05738B0399.html">TABCallbackCommands</a> aCallbackSendingData</td><td>This  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7FE25B8B-D297-34EC-BD98-9994836D0392"><a name="GUID-7FE25B8B-D297-34EC-BD98-9994836D0392"><!-- --></a>
		<h2 class="topictitle2">StartServer()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>StartServer</td><td>(</td><td>)</td><td>[private, static]</td></tr></table><div class="section"><div>
				<p>Start the server as a thread on WINS or a process on ARM.</p>

				<p>Called by Connect when the kernel is unable to create a session with the AB server (if the process hosting it is not running).</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-1B33F5DD-1A39-35CE-8D66-065A7A6E5BA4"><a name="GUID-1B33F5DD-1A39-35CE-8D66-065A7A6E5BA4"><!-- --></a>
		<h2 class="topictitle2">Version()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td>Version</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the version of this API</p>

				<p/>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>