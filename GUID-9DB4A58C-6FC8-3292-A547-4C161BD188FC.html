<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RAllocator"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC"/>

<title>RAllocator</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC"><a name="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2557087 id2441463 id2441468 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">RAllocator Class Reference</h1>
	<table class="signature"><tr><td>class RAllocator : public MAllocator</td></tr></table><div class="section"><div>
			<p>Base class for heaps. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RAllocator<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator</a></li></ul></li></ul></div>
<div class="section nested"><h2 class="sectiontitle">Nested Classes and Structures</h2><ul><li><a href="GUID-8B88FE1A-A503-3538-8FAC-9D3370A96866.html">RAllocator::SCheckInfo</a></li><li><a href="GUID-21E631B4-8835-3421-93BE-F4CAA296D0E4.html">RAllocator::SRAllocatorBurstFail</a></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-ED5C8962-2FF1-3F9E-977B-E6F6C3EA070D">RAllocator</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-E44A323E-1F7D-3B5A-88A5-47CC7013D6C0">AllocL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-6D704C82-ED7E-33D8-B0DB-95F43088913B">AllocLC</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-A4BEF3FF-3FE2-310E-AD9A-431E2D9B195C">AllocZ</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-2AA95BC4-D1B5-3A1B-AB3A-C20026BAE32F">AllocZL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-C4ECC239-8292-33B2-802C-1DC661AA6371">Check</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DF3C2502-B4A7-3088-A22D-B8F0D2194E90">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-111DF97F-C729-335D-9D22-9F7D061E06A0">Count</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D80F8D26-DB41-393F-9DD6-2D8DEA2C2306">Count</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BEF8414F-5280-36EE-A693-DE2126A26A38">FreeZ</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-4B1A03D3-EFB2-3DE0-B310-E364670F5136">Open</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-5ACA7376-DBDE-337C-BB5A-4FBBCA8CC626">ReAllocL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><a href="#GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9">__DbgCheckFailure</a>()</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2D6FF7F6-B190-3541-AA10-89582F044E93">__DbgMarkCheck</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-8BAF2565-2181-3BFA-9B96-855030255D9B">__DbgMarkCheck</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a></td><td><a href="#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">__DbgMarkEnd</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart</a>()</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3">__DbgSetAllocFail</a>(<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-891FA9F0-6252-3A70-B7DC-D64DB6209B9F">__DbgSetBurstAllocFail</a>(<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8C2DD42D-2A1A-386E-805E-A1A4AD1ACAED">DoClose</a>()</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C623C9E0-AD58-3CD9-98D4-E38FD164DAE7">Extension_</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Alloc(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::AllocLen(const TAny *)const</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::AllocSize(TInt &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Available(TInt &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Compress()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::DebugFunction(TInt,TAny *,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Free(TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::ReAlloc(TAny *,TInt,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Reset()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-7F212557-7D30-32A3-AFC0-564E25D9DBA2">TAllocDebugOp</a> { <br/><a href="#GUID-7BC80276-6F63-3BB8-91D9-B647408EF01C">ECount</a>, <a href="#GUID-1791E194-0770-3248-9560-9E1D43B19CD5">EMarkStart</a>, <a href="#GUID-B4C296BF-9757-3488-B949-8429A0E79111">EMarkEnd</a>, <a href="#GUID-91A85E58-E7A1-3F26-A326-EDFC01A04C62">ECheck</a>, <a href="#GUID-39BBBD54-7E6C-37D4-9CDF-0245B95C911D">ESetFail</a>, <a href="#GUID-0762AF09-5608-387C-A399-48ADFB2EE998">ECopyDebugInfo</a>, <a href="#GUID-A0148085-C5D2-31C5-BCFB-465E88D844A8">ESetBurstFail</a><br/> }</td></tr><tr class="bg"><td align="right" valign="top">enum</td><td><a href="#GUID-8CFF7241-B844-32EC-B7BE-838D18287134">TAllocFail</a> { <br/><a href="#GUID-04B70983-76EB-3403-A95B-863C69B2F8D1">ERandom</a>, <a href="#GUID-8BB975B1-7ECE-3471-B1CA-A5E00476977A">ETrueRandom</a>, <a href="#GUID-25FE0FF6-B7AA-343A-8DFF-286CCE715148">EDeterministic</a>, <a href="#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">ENone</a>, <a href="#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">EFailNext</a>, <a href="#GUID-4B321047-AE40-3C07-963D-66A962AFA0BE">EReset</a>, <a href="#GUID-8EDEAF92-9AB8-3753-A443-C2EAECE96413">EBurstRandom</a>, <a href="#GUID-8A53795A-B004-3710-8212-029B3DEE9FF3">EBurstTrueRandom</a>, <a href="#GUID-7CBF75D3-6C45-3373-8731-BABE01D3FE13">EBurstDeterministic</a>, <a href="#GUID-521CC3A9-1D45-3687-83F9-B5089397DFB7">EBurstFailNext</a>, <a href="#GUID-B7549259-DC11-3E6F-BA28-6E01A8AE9278">ECheckFailure</a><br/> }</td></tr><tr><td align="right" valign="top">enum</td><td><a href="#GUID-E602D71B-EFEA-3DC0-BBCE-9A4BF6FCE8E4">TDbgHeapType</a> { <a href="#GUID-83D19649-745E-363A-8CFC-C06DC8857D40">EUser</a>, <a href="#GUID-8A1E289B-445A-3731-9F5E-E0617A148C0C">EKernel</a> }</td></tr><tr class="bg"><td align="right" valign="top">enum</td><td><a href="#GUID-3CDC738B-30F7-37F0-A4AF-B753E990ABD1">TFlags</a> { <a href="#GUID-9A30D8C1-514E-35C8-B27B-E14FCB86F308">ESingleThreaded</a> = 1, <a href="#GUID-DABE358D-4512-31D1-802D-C7C7650B7013">EFixedSize</a> = 2, <a href="#GUID-96A4D0D5-8B02-3EDE-950E-CB34A8E550C6">ETraceAllocs</a> = 4, <a href="#GUID-5F1ED39E-0C58-3DE3-A56A-0B3768C70112">EMonitorMemory</a> = 8 }</td></tr><tr><td align="right" valign="top">enum</td><td><a href="#GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB">TReAllocMode</a> { <a href="#GUID-EC01DD0B-D446-3F82-8F29-47769D31555D">ENeverMove</a> = 1, <a href="#GUID-5F65E6BE-486A-3998-A311-92E63608275F">EAllowMoveOnShrink</a> = 2 }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-8693B81F-1825-3C46-934B-21001592B7D7">iAccessCount</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-D39A4CBD-EAAF-3940-B560-FF6F2E283986">iCellCount</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>
				</td><td><a href="#GUID-A6F14496-5212-3E2B-B713-6CFED289F4B8">iFlags</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-129E62EC-9488-3C75-A210-D4236C1D3A9E">iHandleCount</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> *</td><td><a href="#GUID-830DB5F7-21D4-3079-B192-CBDC6B52051F">iHandles</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-9C739C3C-AEDF-37DD-8545-8532EA42B16D">iTotalAllocSize</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-ED5C8962-2FF1-3F9E-977B-E6F6C3EA070D"><a name="GUID-ED5C8962-2FF1-3F9E-977B-E6F6C3EA070D"><!-- --></a>
		<h2 class="topictitle2">RAllocator()</h2>
		<table class="signature"><tr><td>RAllocator</td><td>(</td><td>)</td><td>[inline]</td></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-E44A323E-1F7D-3B5A-88A5-47CC7013D6C0"><a name="GUID-E44A323E-1F7D-3B5A-88A5-47CC7013D6C0"><!-- --></a>
		<h2 class="topictitle2">AllocL(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSize</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Allocates a cell of specified size from the heap, and leaves if there is insufficient memory in the heap.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSize</td><td>The size of the cell to be allocated from the heap. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6D704C82-ED7E-33D8-B0DB-95F43088913B"><a name="GUID-6D704C82-ED7E-33D8-B0DB-95F43088913B"><!-- --></a>
		<h2 class="topictitle2">AllocLC(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocLC</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSize</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Allocates a cell of specified size from the heap, and, if successful, places a pointer to the cell onto the cleanup stack.</p>

				<p>The function leaves if there is insufficient memory in the heap.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSize</td><td>The size of the cell to be allocated from the heap. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A4BEF3FF-3FE2-310E-AD9A-431E2D9B195C"><a name="GUID-A4BEF3FF-3FE2-310E-AD9A-431E2D9B195C"><!-- --></a>
		<h2 class="topictitle2">AllocZ(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocZ</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSize</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Allocates a cell of specified size from the heap, and clears it to binary zeroes.</p>

				<p>If there is insufficient memory available on the heap from which to allocate a cell of the required size, the function returns NULL.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSize</td><td>The size of the cell to be allocated from the current thread's heap. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2AA95BC4-D1B5-3A1B-AB3A-C20026BAE32F"><a name="GUID-2AA95BC4-D1B5-3A1B-AB3A-C20026BAE32F"><!-- --></a>
		<h2 class="topictitle2">AllocZL(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocZL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSize</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Allocates a cell of specified size from the heap, clears it to binary zeroes, and leaves if there is insufficient memory in the heap.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSize</td><td>The size of the cell to be allocated from the heap. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C4ECC239-8292-33B2-802C-1DC661AA6371"><a name="GUID-C4ECC239-8292-33B2-802C-1DC661AA6371"><!-- --></a>
		<h2 class="topictitle2">Check()</h2>
		<table class="signature"><tr><td>UIMPORT_C void</td><td>Check</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Checks the validity of the heap.</p>

				<p>The function walks through the list of allocated cells and the list of free cells checking that this heap is consistent and complete.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if any corruption is found, specifically a bad allocated heap cell size. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 48 if any corruption is found, specifically a bad allocated heap cell address. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 49 if any corruption is found, specifically a bad free heap cell address. </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-DF3C2502-B4A7-3088-A22D-B8F0D2194E90"><a name="GUID-DF3C2502-B4A7-3088-A22D-B8F0D2194E90"><!-- --></a>
		<h2 class="topictitle2">Close()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Closes this shared heap.</p>

				<p>Closing the heap decreases the heap's access count by one.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 57 if the access count has already reached zero. </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-111DF97F-C729-335D-9D22-9F7D061E06A0"><a name="GUID-111DF97F-C729-335D-9D22-9F7D061E06A0"><!-- --></a>
		<h2 class="topictitle2">Count()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Count</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Gets the total number of cells allocated on the heap.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-D80F8D26-DB41-393F-9DD6-2D8DEA2C2306"><a name="GUID-D80F8D26-DB41-393F-9DD6-2D8DEA2C2306"><!-- --></a>
		<h2 class="topictitle2">Count(TInt &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Count</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td>aFreeCount</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Gets the the total number of cells allocated, and the number of free cells, on the heap.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp; aFreeCount</td><td>On return, contains the number of free cells on the heap. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8C2DD42D-2A1A-386E-805E-A1A4AD1ACAED"><a name="GUID-8C2DD42D-2A1A-386E-805E-A1A4AD1ACAED"><!-- --></a>
		<h2 class="topictitle2">DoClose()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>DoClose</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-C623C9E0-AD58-3CD9-98D4-E38FD164DAE7"><a name="GUID-C623C9E0-AD58-3CD9-98D4-E38FD164DAE7"><!-- --></a>
		<h2 class="topictitle2">Extension_(TUint, TAny *&amp;, TAny *)</h2>
		<table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aExtensionId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td>a0,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>a1</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aExtensionId</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp; a0</td><td> </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * a1</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BEF8414F-5280-36EE-A693-DE2126A26A38"><a name="GUID-BEF8414F-5280-36EE-A693-DE2126A26A38"><!-- --></a>
		<h2 class="topictitle2">FreeZ(TAny *&amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>FreeZ</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td>aCell</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Frees the specified cell, returns it to the heap, and resets the pointer to NULL.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 42 if aCell is not NULL and does not point to a valid cell. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp; aCell</td><td>A reference to a pointer to a valid cell to be freed. If NULL this function call will be ignored. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4B1A03D3-EFB2-3DE0-B310-E364670F5136"><a name="GUID-4B1A03D3-EFB2-3DE0-B310-E364670F5136"><!-- --></a>
		<h2 class="topictitle2">Open()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Opens this heap for shared access.</p>

				<p>Opening the heap increases the heap's access count by one.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-5ACA7376-DBDE-337C-BB5A-4FBBCA8CC626"><a name="GUID-5ACA7376-DBDE-337C-BB5A-4FBBCA8CC626"><!-- --></a>
		<h2 class="topictitle2">ReAllocL(TAny *, TInt, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>ReAllocL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aCell,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSize,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aMode = 0</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Increases or decreases the size of an existing cell, and leaves if there is insufficient memory in the heap.</p>

				<p>If the cell is being decreased in size, then it is guaranteed not to move, and the function returns the pointer originally passed in aCell. Note that the length of the cell will be the same if the difference between the old size and the new size is smaller than the minimum cell size.</p>

				<p>If the cell is being increased in size, i.e. aSize is bigger than its current size, then the function tries to grow the cell in place. If successful, then the function returns the pointer originally passed in aCell. If unsuccessful, then:</p>

				<p>1. if the cell cannot be moved, i.e. aMode has the ENeverMove bit set, then the function leaves. 2. if the cell can be moved, i.e. aMode does not have the ENeverMove bit set, then the function tries to allocate a new replacement cell, and, if successful, returns a pointer to the new cell; if unsuccessful, it leaves.</p>

				<p>Note that in debug mode, the function leaves if the cell cannot be grown in place, regardless of whether the ENeverMove bit is set.</p>

				<p>If the reallocated cell is at a different location from the original cell, then the content of the original cell is copied to the reallocated cell.</p>

				<p>Note the following general points:</p>

				<p>1. If reallocation fails, the content of the original cell is preserved.</p>

				<p>2. The resulting size of the re-allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 42, if aCell is not NULL, and does not point to a valid cell. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47, if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling ReAlloc(someptr,-1) raises this panic.</dd>

						
					</dl>

					<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB">RAllocator::TReAllocMode</a> </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aCell</td><td>A pointer to the cell to be reallocated. This may be NULL. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSize</td><td>The new size of the cell. This may be bigger or smaller than the size of the original cell. </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aMode = 0</td><td>Flags controlling the reallocation. The only bit which has any effect on this function is that defined by the enumeration ENeverMove of the enum RAllocator::TReAllocMode. If this is set, then any successful reallocation guarantees not to have changed the start address of the cell. By default, this parameter is zero. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9"><a name="GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9"><!-- --></a>
		<h2 class="topictitle2">__DbgCheckFailure()</h2>
		<table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>__DbgCheckFailure</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns the number of heap allocation failures the current debug allocator fail function has caused so far.</p>

				<p>This is intended to only be used with fail types <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a>, <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-521CC3A9-1D45-3687-83F9-B5089397DFB7">RAllocator::EBurstFailNext</a>, <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-25FE0FF6-B7AA-343A-8DFF-286CCE715148">RAllocator::EDeterministic</a> and <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-7CBF75D3-6C45-3373-8731-BABE01D3FE13">RAllocator::EBurstDeterministic</a>. The return value is unreliable for all other fail types.</p>

				<p>
					<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-8CFF7241-B844-32EC-B7BE-838D18287134">RAllocator::TAllocFail</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-2D6FF7F6-B190-3541-AA10-89582F044E93"><a name="GUID-2D6FF7F6-B190-3541-AA10-89582F044E93"><!-- --></a>
		<h2 class="topictitle2">__DbgMarkCheck(TBool, TInt, const TDesC8 &amp;, TInt)</h2>
		<table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgMarkCheck</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aCountAll,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aFileName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aLineNum</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Checks the current number of allocated heap cells for this heap.</p>

				<p>If aCountAll is true, the function checks that the total number of allocated cells on this heap is the same as aCount. If aCountAll is false, then the function checks that the number of allocated cells at the current nested level is the same as aCount.</p>

				<p>If checking fails, the function raises a panic; information about the failure is put into the panic category; this takes the form:</p>

				<p>ALLOC COUNT\rExpected aaa\rAllocated bbb\rLn: ccc ddddd</p>

				<p>where</p>

				<p>1. aaaa is the value aCount</p>

				<p>2. bbbb is the number of allocated heap cells</p>

				<p>3. ccc is a line number, copied from aLineNum</p>

				<p>4. ddddd is a file name, copied from the descriptor aFileName</p>

				<p>Note that the panic number is 1.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aCountAll</td><td>If true, the function checks that the total number of allocated cells on this heap is the same as aCount. If false, the function checks that the number of allocated cells at the current nested level is the same as aCount.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>The expected number of allocated cells.  </td></tr><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aFileName</td><td>A filename; this is displayed as part of the panic category if the check fails.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aLineNum</td><td>A line number; this is displayed as part of the panic category if the check fails. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8BAF2565-2181-3BFA-9B96-855030255D9B"><a name="GUID-8BAF2565-2181-3BFA-9B96-855030255D9B"><!-- --></a>
		<h2 class="topictitle2">__DbgMarkCheck(TBool, TInt, const TUint8 *, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>__DbgMarkCheck</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aCountAll,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td>aFileName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aLineNum</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aCountAll</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> * aFileName</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aLineNum</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6AD68815-874E-340C-A31F-D884C7B10D2E"><a name="GUID-6AD68815-874E-340C-A31F-D884C7B10D2E"><!-- --></a>
		<h2 class="topictitle2">__DbgMarkEnd(TInt)</h2>
		<table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a></td><td>__DbgMarkEnd</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Marks the end of heap cell checking at the current nested level for this heap.</p>

				<p>A call to this function should match an earlier call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a>. If there are more calls to this function than calls to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a>, then this function raises a USER 51 panic.</p>

				<p>The function checks that the number of heap cells allocated, at the current nested level, is aCount. The most common value for aCount is zero, reflecting the fact that most developers check that all memory allocated since a previous call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> has been freed.</p>

				<p>If the check fails, the function returns a pointer to the first orphaned heap cell.</p>

				<p>
					<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">RAllocator::__DbgMarkStart()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>The number of allocated heap cells expected. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5"><a name="GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5"><!-- --></a>
		<h2 class="topictitle2">__DbgMarkStart()</h2>
		<table class="signature"><tr><td>UIMPORT_C void</td><td>__DbgMarkStart</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Marks the start of heap cell checking for this heap.</p>

				<p>If earlier calls to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> have been made, then this call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> marks the start of a new nested level of heap cell checking.</p>

				<p>Every call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> should be matched by a later call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">__DbgMarkEnd()</a> to verify that the number of heap cells allocated, at the current nested level, is as expected. This expected number of heap cells is passed to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">__DbgMarkEnd()</a> as a parameter; however, the most common expected number is zero, reflecting the fact that most developers check that all memory allocated since a previous call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> has been freed.</p>

				<p>
					<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">RAllocator::__DbgMarkEnd()</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3"><a name="GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3"><!-- --></a>
		<h2 class="topictitle2">__DbgSetAllocFail(TAllocFail, TInt)</h2>
		<table class="signature"><tr><td>UIMPORT_C void</td><td>__DbgSetAllocFail</td><td>(</td><td><a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a></td><td>aType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aRate</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Simulates a heap allocation failure for this heap.</p>

				<p>The failure occurs on subsequent calls to new or any of the functions which allocate memory from this heap.</p>

				<p>The timing of the allocation failure depends on the type of allocation failure requested, i.e. on the value of aType.</p>

				<p>The simulation of heap allocation failure is cancelled if aType is given the value <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>.</p>

				<p>Notes:</p>

				<p>1. If the failure type is <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a>, the next attempt to allocate from this heap fails; however, no further failures will occur.</p>

				<p>2. For failure types <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a> and <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>, set aRate to 1.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a> aType</td><td>An enumeration which indicates how to simulate heap allocation failure.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aRate</td><td>The rate of failure; when aType is RAllocator::EDeterministic, heap allocation fails every aRate attempts  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-891FA9F0-6252-3A70-B7DC-D64DB6209B9F"><a name="GUID-891FA9F0-6252-3A70-B7DC-D64DB6209B9F"><!-- --></a>
		<h2 class="topictitle2">__DbgSetBurstAllocFail(TAllocFail, TUint, TUint)</h2>
		<table class="signature"><tr><td>UIMPORT_C void</td><td>__DbgSetBurstAllocFail</td><td>(</td><td><a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a></td><td>aType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aRate,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aBurst</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Simulates a burst of heap allocation failures for this heap.</p>

				<p>The failure occurs for aBurst allocations attempt via subsequent calls to new or any of the functions which allocate memory from this heap.</p>

				<p>The timing of the allocation failure depends on the type of allocation failure requested, i.e. on the value of aType.</p>

				<p>The simulation of heap allocation failure is cancelled if aType is given the value <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>.</p>

				<p>Notes:</p>

				<p>1. If the failure type is <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a> or <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-521CC3A9-1D45-3687-83F9-B5089397DFB7">RAllocator::EBurstFailNext</a>, the next one or aBurst attempts to allocate from this heap will fail; however, no further failures will occur.</p>

				<p>2. For failure types <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a> and <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>, set aRate to 1.</p>

				<p>
					<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-8CFF7241-B844-32EC-B7BE-838D18287134">RAllocator::TAllocFail</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a> aType</td><td>An enumeration which indicates how to simulate heap allocation failure.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aRate</td><td>The rate of failure; when aType is RAllocator::EDeterministic, heap allocation fails every aRate attempts.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aBurst</td><td>The number of consecutive heap allocations that will fail each time the allocations should fail. </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-7F212557-7D30-32A3-AFC0-564E25D9DBA2"><a name="GUID-7F212557-7D30-32A3-AFC0-564E25D9DBA2"><!-- --></a>
		<h2 class="topictitle2">Enum TAllocDebugOp</h2>
		<div class="section"></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ECount</td><td> </td></tr><tr class="bg"><td valign="top">EMarkStart</td><td> </td></tr><tr><td valign="top">EMarkEnd</td><td> </td></tr><tr class="bg"><td valign="top">ECheck</td><td> </td></tr><tr><td valign="top">ESetFail</td><td> </td></tr><tr class="bg"><td valign="top">ECopyDebugInfo</td><td> </td></tr><tr><td valign="top">ESetBurstFail</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8CFF7241-B844-32EC-B7BE-838D18287134"><a name="GUID-8CFF7241-B844-32EC-B7BE-838D18287134"><!-- --></a>
		<h2 class="topictitle2">Enum TAllocFail</h2>
		<div class="section"><div>
				<p>A set of heap allocation failure flags.</p>

				<p>This enumeration indicates how to simulate heap allocation failure.</p>

				<p>
					<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3">RAllocator::__DbgSetAllocFail()</a> </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ERandom</td><td>
							<p>Attempts to allocate from this heap fail at a random rate; however, the interval pattern between failures is the same every time simulation is started. </p>

						 </td></tr><tr class="bg"><td valign="top">ETrueRandom</td><td>
							<p>Attempts to allocate from this heap fail at a random rate. The interval pattern between failures may be different every time the simulation is started. </p>

						 </td></tr><tr><td valign="top">EDeterministic</td><td>
							<p>Attempts to allocate from this heap fail at a rate aRate; for example, if aRate is 3, allocation fails at every third attempt. </p>

						 </td></tr><tr class="bg"><td valign="top">ENone</td><td>
							<p>Cancels simulated heap allocation failure. </p>

						 </td></tr><tr><td valign="top">EFailNext</td><td>
							<p>An allocation from this heap will fail after the next aRate - 1 allocation attempts. For example, if aRate = 1 then the next attempt to allocate from this heap will fail. </p>

						 </td></tr><tr class="bg"><td valign="top">EReset</td><td>
							<p>Cancels simulated heap allocation failure, and sets the nesting level for all allocated cells to zero. </p>

						 </td></tr><tr><td valign="top">EBurstRandom</td><td>
							<p>aBurst allocations from this heap fail at a random rate; however, the interval pattern between failures is the same every time the simulation is started. </p>

						 </td></tr><tr class="bg"><td valign="top">EBurstTrueRandom</td><td>
							<p>aBurst allocations from this heap fail at a random rate. The interval pattern between failures may be different every time the simulation is started. </p>

						 </td></tr><tr><td valign="top">EBurstDeterministic</td><td>
							<p>aBurst allocations from this heap fail at a rate aRate. For example, if aRate is 10 and aBurst is 2, then 2 allocations will fail at every tenth attempt. </p>

						 </td></tr><tr class="bg"><td valign="top">EBurstFailNext</td><td>
							<p>aBurst allocations from this heap will fail after the next aRate - 1 allocation attempts have occurred. For example, if aRate = 1 and aBurst = 3 then the next 3 attempts to allocate from this heap will fail. </p>

						 </td></tr><tr><td valign="top">ECheckFailure</td><td>
							<p>Use this to determine how many times the current debug failure mode has failed so far. <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9">RAllocator::__DbgCheckFailure()</a> </p>

						 </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E602D71B-EFEA-3DC0-BBCE-9A4BF6FCE8E4"><a name="GUID-E602D71B-EFEA-3DC0-BBCE-9A4BF6FCE8E4"><!-- --></a>
		<h2 class="topictitle2">Enum TDbgHeapType</h2>
		<div class="section"><div>
				<p>Heap debug checking type flag. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EUser</td><td>
							<p>The heap is a user heap. </p>

						 </td></tr><tr class="bg"><td valign="top">EKernel</td><td>
							<p>The heap is the Kernel heap. </p>

						 </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3CDC738B-30F7-37F0-A4AF-B753E990ABD1"><a name="GUID-3CDC738B-30F7-37F0-A4AF-B753E990ABD1"><!-- --></a>
		<h2 class="topictitle2">Enum TFlags</h2>
		<div class="section"></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ESingleThreaded = 1</td><td> </td></tr><tr class="bg"><td valign="top">EFixedSize = 2</td><td> </td></tr><tr><td valign="top">ETraceAllocs = 4</td><td> </td></tr><tr class="bg"><td valign="top">EMonitorMemory = 8</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB"><a name="GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB"><!-- --></a>
		<h2 class="topictitle2">Enum TReAllocMode</h2>
		<div class="section"><div>
				<p>Flags controlling reallocation. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ENeverMove = 1</td><td>
							<p>A reallocation of a cell must not change the start address of the cell. </p>

						 </td></tr><tr class="bg"><td valign="top">EAllowMoveOnShrink = 2</td><td>
							<p>Allows the start address of the cell to change if the cell shrinks in size. </p>

						 </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-8693B81F-1825-3C46-934B-21001592B7D7"><a name="GUID-8693B81F-1825-3C46-934B-21001592B7D7"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iAccessCount</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iAccessCount</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D39A4CBD-EAAF-3940-B560-FF6F2E283986"><a name="GUID-D39A4CBD-EAAF-3940-B560-FF6F2E283986"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iCellCount</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iCellCount</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-A6F14496-5212-3E2B-B713-6CFED289F4B8"><a name="GUID-A6F14496-5212-3E2B-B713-6CFED289F4B8"><!-- --></a>
		<h2 class="topictitle2">
					TUint32
				 iFlags</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>
				</td><td>iFlags</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-129E62EC-9488-3C75-A210-D4236C1D3A9E"><a name="GUID-129E62EC-9488-3C75-A210-D4236C1D3A9E"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iHandleCount</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iHandleCount</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-830DB5F7-21D4-3079-B192-CBDC6B52051F"><a name="GUID-830DB5F7-21D4-3079-B192-CBDC6B52051F"><!-- --></a>
		<h2 class="topictitle2">
					TInt * iHandles</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> *</td><td>iHandles</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-9C739C3C-AEDF-37DD-8545-8532EA42B16D"><a name="GUID-9C739C3C-AEDF-37DD-8545-8532EA42B16D"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iTotalAllocSize</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iTotalAllocSize</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>