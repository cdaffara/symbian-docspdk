<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Format layering"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2DDEF473-B804-51DF-874F-ADF46CB03ABA.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4F901F56-7F0E-4869-85CA-6109ED0AF5B7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-533EC918-BF5B-5D0B-8860-1E8746A05EE3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2DDEF473-B804-51DF-874F-ADF46CB03ABA.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Format layering</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271"><a name="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2535736 id2436594 id2436602 id2436669 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html">Text and Localization Guide</a> &gt; <a href="GUID-4F901F56-7F0E-4869-85CA-6109ED0AF5B7.html" title="This section describes about Text Handling and Text Formatting.">Text Layout</a> &gt; <a href="GUID-533EC918-BF5B-5D0B-8860-1E8746A05EE3.html">Using Text and Text Attributes (ETEXT)</a> &gt; <a href="GUID-2DDEF473-B804-51DF-874F-ADF46CB03ABA.html">Formatting</a> &gt; </div>
<h1 class="topictitle1">Format
layering</h1>
<div>
<p>The Symbian platform uses the principle of format layering
in which new formatting is added as a layer onto the previous layer of formatting.
The following diagram shows a less efficient technique for applying format
layering to text. The inefficiency arises because each format layer stores
not only the new attribute which it introduces, but also every attribute which
it inherits from the preceding format layer. </p>

<div class="fignone" id="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271__GUID-DBA21807-9BC8-5FFB-962A-4CDCD9A72359"><a name="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271__GUID-DBA21807-9BC8-5FFB-962A-4CDCD9A72359"><!-- --></a>
<img src="GUID-CFD3CD78-D99A-57B8-80EB-8C67899E5D27_d0e681091_href.png"/>
</div>

<p>The Symbian platform avoids this inefficiency by using the system of <span class="keyword">based-on
links</span>. Here, each new layer adds attributes in a natural way without
restating all attributes previously set. A based-on link is a pointer to the
format layer whose attributes are inherited by another layer. For example,
when the italic attribute is applied to a region of bold text, the new layer
stores only the italic attribute and a pointer to the previous attribute layer.
Chains of format layers can thus be formed, with each layer based on the previous
one. In order to determine a character or paragraphâ€™s <span class="keyword">effective format</span>,
a chain of format layers must typically be examined. The final layer in the
chain of based on links is the one whose based on link is NULL and is not
therefore based upon any other layer.</p>

<p>This method is demonstrated in the following two diagrams, in which each
arrow represents a based-on link.</p>

<div class="fignone" id="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271__GUID-3BE6B9A3-D8DB-543C-AA88-DD519B991B62"><a name="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271__GUID-3BE6B9A3-D8DB-543C-AA88-DD519B991B62"><!-- --></a><span class="figcap">Figure 1. Format layering</span>

<img src="GUID-52743192-B1E0-5B71-B85B-43487F18F412_d0e681111_href.png"/>
</div>

<p>The following diagram demonstrates the system of based-on links when attributes
are applied to different parts of text rather than added on top of existing
attribute layers.</p>

<div class="fignone" id="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271__GUID-1E0E17F0-BE93-5403-8474-ED612E118C8F"><a name="GUID-4957E6BB-C41D-52F1-94CD-68CF6D61C271__GUID-1E0E17F0-BE93-5403-8474-ED612E118C8F"><!-- --></a>
<img src="GUID-F99938E9-9E06-53C0-B762-2CE51BC5F1E2_d0e681119_href.png"/>
</div>

<p>In this case, several format layers are required, all of which are based
on the normal layer.</p>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-2DDEF473-B804-51DF-874F-ADF46CB03ABA.html">Formatting</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>