<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="ESock::CRefCountOwnerBase"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-68C376A3-42B2-3937-8D3B-5616CDED1CB2"/>

<title>ESock::CRefCountOwnerBase</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-68C376A3-42B2-3937-8D3B-5616CDED1CB2"><a name="GUID-68C376A3-42B2-3937-8D3B-5616CDED1CB2"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2611716 id2446904 id2446909 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">ESock::CRefCountOwnerBase Class Reference</h1>
	<table class="signature"><tr><td>class ESock::CRefCountOwnerBase : public CBase</td></tr></table><div class="section"><div>
			<p>Base container class useful for passing reference counted objects around the stack. When a node receives an object based on this, it calls Open to increment the access counter and ensure the object does go away while it's being used. When the node is finished with the object it calls Close on it. The object will then delete itself if it's access counter is zero.</p>

			<p>Objects of this type will delete themselves asynchronously. WARNING: For internal use ONLY. Compatibility is not guaranteed in future releases. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">ESock::CRefCountOwnerBase<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5365F735-03EE-32CC-B0E6-DBB71C8F94B7">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7D64B2F5-C793-3654-9BE2-3744F8E5A918">Open</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-7DF02091-B149-30F5-8882-2E157E4FB989">CRefCountOwnerBase</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code"/><td><a href="#GUID-5D35FA66-35E1-354C-AE67-FC587B0D9975">~CRefCountOwnerBase</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-DEABD193-530E-3675-BDC8-1EFBFAE5D5D2">DeletePtr</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-325738E1-BB89-361C-B057-683AF4BCEC35">DeletePtr</a>(<a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject</a> *)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-3D044BD4-9026-34F3-8F28-6C3640467C2A">DeletePtr</a>(const <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-A2E68207-CD11-3745-B11B-D47B2B4FFD69">DeletePtr</a>(const <a href="GUID-D40CDAA1-6D40-35D8-AB1A-64B153B9722D.html">Meta::SMetaData</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F5E5AC4D-0B61-37EA-BD8A-5AE555140DC6">ReceivedL</a>(const <a href="GUID-C46DC66C-3821-3F10-9224-683955A98EC8.html">Messages::TRuntimeCtxId</a> &amp;, const <a href="GUID-D3D29CDF-78B3-3527-B2F0-C9951A43A7B5.html">Messages::TNodeId</a> &amp;, <a href="GUID-CD641D60-55EE-3F67-90E7-EFA84B66D604.html">Messages::TSignatureBase</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-DBEA7171-5340-3DA9-824A-8911BF112062">iPtr</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-7DDF195E-EE74-3DF0-8BAC-B5A139B52EA0">iRefOpened</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-5D4D3724-6FAA-35E0-B42D-7AF3FD6276DC.html">TInt</a>
				</td><td><a href="#GUID-BD265FF4-E715-3D17-B736-27EA5BD203A8">iRefCount</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-7DF02091-B149-30F5-8882-2E157E4FB989"><a name="GUID-7DF02091-B149-30F5-8882-2E157E4FB989"><!-- --></a>
		<h2 class="topictitle2">CRefCountOwnerBase(const TAny *)</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CRefCountOwnerBase</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr</td><td>pointer to the real object to be contained  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5D35FA66-35E1-354C-AE67-FC587B0D9975"><a name="GUID-5D35FA66-35E1-354C-AE67-FC587B0D9975"><!-- --></a>
		<h2 class="topictitle2">~CRefCountOwnerBase()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CRefCountOwnerBase</td><td>(</td><td>)</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-5365F735-03EE-32CC-B0E6-DBB71C8F94B7"><a name="GUID-5365F735-03EE-32CC-B0E6-DBB71C8F94B7"><!-- --></a>
		<h2 class="topictitle2">Close()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Relinquish access to the object. Decrements and access counter and may trigger deletion of the point and of the object </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-DEABD193-530E-3675-BDC8-1EFBFAE5D5D2"><a name="GUID-DEABD193-530E-3675-BDC8-1EFBFAE5D5D2"><!-- --></a>
		<h2 class="topictitle2">DeletePtr()</h2>
		<table class="signature"><tr><td>void</td><td>DeletePtr</td><td>(</td><td>)</td><td>[protected, pure virtual]</td></tr></table><div class="section"><div>
				<p>Delete the object pointed to by iPtr. Derived classes must implement this. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-325738E1-BB89-361C-B057-683AF4BCEC35"><a name="GUID-325738E1-BB89-361C-B057-683AF4BCEC35"><!-- --></a>
		<h2 class="topictitle2">DeletePtr(CObject *)</h2>
		<table class="signature"><tr><td>void</td><td>DeletePtr</td><td>(</td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject</a> *</td><td>aPtr</td><td>)</td><td>[protected, static, inline]</td></tr></table><div class="section"><div>
				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject</a> * aPtr</td><td>CObject to delete  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3D044BD4-9026-34F3-8F28-6C3640467C2A"><a name="GUID-3D044BD4-9026-34F3-8F28-6C3640467C2A"><!-- --></a>
		<h2 class="topictitle2">DeletePtr(const CBase *)</h2>
		<table class="signature"><tr><td>void</td><td>DeletePtr</td><td>(</td><td>const <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a> *</td><td>aPtr</td><td>)</td><td>[protected, static, inline]</td></tr></table><div class="section"><div>
				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a> * aPtr</td><td>CBase to delete  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A2E68207-CD11-3745-B11B-D47B2B4FFD69"><a name="GUID-A2E68207-CD11-3745-B11B-D47B2B4FFD69"><!-- --></a>
		<h2 class="topictitle2">DeletePtr(const Meta::SMetaData *)</h2>
		<table class="signature"><tr><td>void</td><td>DeletePtr</td><td>(</td><td>const <a href="GUID-D40CDAA1-6D40-35D8-AB1A-64B153B9722D.html">Meta::SMetaData</a> *</td><td>aPtr</td><td>)</td><td>[protected, static, inline]</td></tr></table><div class="section"><div>
				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-D40CDAA1-6D40-35D8-AB1A-64B153B9722D.html">Meta::SMetaData</a> * aPtr</td><td>Pointer to a Meta::SMetaData to delete  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7D64B2F5-C793-3654-9BE2-3744F8E5A918"><a name="GUID-7D64B2F5-C793-3654-9BE2-3744F8E5A918"><!-- --></a>
		<h2 class="topictitle2">Open()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Open</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Gain access to the object. Increments the access counter </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-F5E5AC4D-0B61-37EA-BD8A-5AE555140DC6"><a name="GUID-F5E5AC4D-0B61-37EA-BD8A-5AE555140DC6"><!-- --></a>
		<h2 class="topictitle2">ReceivedL(const Messages::TRuntimeCtxId &amp;, const Messages::TNodeId &amp;, Messages::TSignatureBase &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ReceivedL</td><td>(</td><td>const <a href="GUID-C46DC66C-3821-3F10-9224-683955A98EC8.html">Messages::TRuntimeCtxId</a> &amp;</td><td>aSender,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-D3D29CDF-78B3-3527-B2F0-C9951A43A7B5.html">Messages::TNodeId</a> &amp;</td><td>aRecipient,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-CD641D60-55EE-3F67-90E7-EFA84B66D604.html">Messages::TSignatureBase</a> &amp;</td><td>aMessage</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Receive a message. <a href="GUID-68C376A3-42B2-3937-8D3B-5616CDED1CB2.html#GUID-68C376A3-42B2-3937-8D3B-5616CDED1CB2">CRefCountOwnerBase</a> objects can only receive <a href="GUID-65C9BAF4-A72A-3BFD-9DA9-809A12BC23E9.html#GUID-D97FC128-236A-3E0D-B695-683F3FD2C122">TCFDataClient::TStop</a>, which will trigger deletion of the ptr and deletion of the object </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-C46DC66C-3821-3F10-9224-683955A98EC8.html">Messages::TRuntimeCtxId</a> &amp; aSender</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-D3D29CDF-78B3-3527-B2F0-C9951A43A7B5.html">Messages::TNodeId</a> &amp; aRecipient</td><td> </td></tr><tr><td class="parameter"><a href="GUID-CD641D60-55EE-3F67-90E7-EFA84B66D604.html">Messages::TSignatureBase</a> &amp; aMessage</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-DBEA7171-5340-3DA9-824A-8911BF112062"><a name="GUID-DBEA7171-5340-3DA9-824A-8911BF112062"><!-- --></a>
		<h2 class="topictitle2">
					TAny * iPtr</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>iPtr</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Pointer to the contained object </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-BD265FF4-E715-3D17-B736-27EA5BD203A8"><a name="GUID-BD265FF4-E715-3D17-B736-27EA5BD203A8"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iRefCount</h2>
		<table class="signature"><tr><td>
					<a href="GUID-5D4D3724-6FAA-35E0-B42D-7AF3FD6276DC.html">TInt</a>
				</td><td>iRefCount</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-7DDF195E-EE74-3DF0-8BAC-B5A139B52EA0"><a name="GUID-7DDF195E-EE74-3DF0-8BAC-B5A139B52EA0"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iRefOpened</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iRefOpened</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Sanity checking member. Set to true after first open. Prevents dead objects being used. Only used in udeb, but not conditional to avoid any urel/udeb BC issues </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>