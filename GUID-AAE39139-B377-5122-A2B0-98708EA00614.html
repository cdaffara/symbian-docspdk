<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Writing a UI Data MTM"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7FCDAC24-BFEF-590B-B569-04AA262EBF06.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DD27A452-8B0F-5C6D-A2E6-FC21145468B6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7FCDAC24-BFEF-590B-B569-04AA262EBF06.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-59217FA7-3078-53CA-88B3-78D6FB788271.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E180D222-CC4F-5007-93FC-C339BBE708BC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-AAE39139-B377-5122-A2B0-98708EA00614"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Writing a UI Data MTM</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-AAE39139-B377-5122-A2B0-98708EA00614"><a name="GUID-AAE39139-B377-5122-A2B0-98708EA00614"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2404348 id2404397 id2404434 id2404652 id2404690 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">Messaging Middleware Guide</a> &gt; <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">Messaging Framework</a> &gt; <a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">Message Server and Store</a> &gt; <a href="GUID-DD27A452-8B0F-5C6D-A2E6-FC21145468B6.html">Message Server and Store Tutorials</a> &gt; <a href="GUID-7FCDAC24-BFEF-590B-B569-04AA262EBF06.html">MTM Implementation Tutorial</a> &gt; </div>
<h1 class="topictitle1">Writing
a UI Data MTM </h1>
<div><div><p>This section explains the initial steps to be performed to write
a UI Data MTM. It does not explain the implementation of all <a href="GUID-D7600D93-CFB8-565D-8200-7082B2CF1791.html">UI
Data MTM functionality</a>, however, you can refer to the <a href="GUID-70B9796F-8CF3-5DC4-93B4-0B1FED936169.html">UI
Data MTM example</a>for detailed implementation steps.</p>
</div>

<div class="section"><p>A derived UI Data MTM is simpler to implement than the MTM classes,
and most of its code is specific to the protocol that is being implemented.
The UI Data MTM implementation can require a resource file that details the
strings used by the MTM and a list of functions (as command IDs) and flags
that are specific to the MTM. </p>
 </div>

<a name="GUID-AAE39139-B377-5122-A2B0-98708EA00614__GUID-6E0C8880-28B0-5ADC-B65E-B3AEE6E932AE"><!-- --></a><ol id="GUID-AAE39139-B377-5122-A2B0-98708EA00614__GUID-6E0C8880-28B0-5ADC-B65E-B3AEE6E932AE"><li class="stepexpand" id="GUID-AAE39139-B377-5122-A2B0-98708EA00614__GUID-C6574E7B-1748-583F-89AA-9B0FA60FF875"><a name="GUID-AAE39139-B377-5122-A2B0-98708EA00614__GUID-C6574E7B-1748-583F-89AA-9B0FA60FF875"><!-- --></a><span/><br/>
 Derive a class from the <a href="GUID-899C6D87-5712-34A7-902C-EA452894700C.html"><span class="apiname">CBaseMtmUiData</span></a> class. 
</li>
<li class="stepexpand" id="GUID-AAE39139-B377-5122-A2B0-98708EA00614__GUID-2DDD85DF-A8C9-5BFA-8060-09D547F95992"><a name="GUID-AAE39139-B377-5122-A2B0-98708EA00614__GUID-2DDD85DF-A8C9-5BFA-8060-09D547F95992"><!-- --></a><span/><br/>
 Register it using the <a href="GUID-0D5D7FAC-4F14-3046-92FB-873B8350FF4C.html"><span class="apiname">CRegisteredMtmDll</span></a> parameter. 
</li>
</ol>

<div class="section"><p>Use the derived <a href="GUID-899C6D87-5712-34A7-902C-EA452894700C.html"><span class="apiname">CBaseMtmUiData</span></a> class
functionality in the Messaging client application. </p>
<pre class="codeblock">//
// CTxtiMtmUiData: UI Data MTM
//

CTxtiMtmUiData* CTxtiMtmUiData::NewL(CRegisteredMtmDll&amp; aRegisteredDll)
    {
    CTxtiMtmUiData* base=new(ELeave) CTxtiMtmUiData(aRegisteredDll);
    CleanupStack::PushL(base);
    base-&gt;ConstructL();
    CleanupStack::Pop();
    return base;
    }</pre>
</div>

<div class="example"><h2 class="sectiontitle">UI Data MTM example</h2> <p>For more details on implementing
all UI MTM functionalities, see <a href="GUID-70B9796F-8CF3-5DC4-93B4-0B1FED936169.html">example
code</a>. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-7FCDAC24-BFEF-590B-B569-04AA262EBF06.html">MTM Implementation Tutorial</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-59217FA7-3078-53CA-88B3-78D6FB788271.html">MTM overview</a></div>
<div><a href="GUID-E180D222-CC4F-5007-93FC-C339BBE708BC.html">User Interface
Data MTM</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>