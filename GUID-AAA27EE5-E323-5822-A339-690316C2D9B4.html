<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Viewfinder's Region of Interest"/>
<meta name="abstract" content="This topic describes how to add area of interest specification and control for viewfinder in the Ecam API."/>
<meta name="description" content="This topic describes how to add area of interest specification and control for viewfinder in the Ecam API."/>
<meta name="DC.Relation" scheme="URI" content="GUID-39958349-2761-5532-A87F-EABB9EB68D10.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FC735256-6CB5-5EED-8E7D-42EFA039E6FD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-39958349-2761-5532-A87F-EABB9EB68D10.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2A6AAD9C-BB99-5145-B4A2-FCEF6BECCFD4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BFE8B989-8B73-5D3E-B5F4-13AC016C122C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Viewfinder's Region of Interest</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2405245 id2405260 id2405411 id2405425 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">Multimedia APIs and Frameworks Collection</a> &gt; <a href="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html">Camera Framework</a> &gt; <a href="GUID-FC735256-6CB5-5EED-8E7D-42EFA039E6FD.html">ViewFinder Library</a> &gt; <a href="GUID-39958349-2761-5532-A87F-EABB9EB68D10.html">Tutorials</a> &gt; </div>
<h1 class="topictitle1">Viewfinder's Region of Interest</h1>
<div><p>This topic describes how to add area of interest specification and control for viewfinder in the Ecam API. </p>
<div class="p" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-F0AEDC78-B1C7-59FB-AE09-A52813BD902D"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-F0AEDC78-B1C7-59FB-AE09-A52813BD902D"><!-- --></a><p>Before you start: </p>
 <ul><li id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-92CA2EA9-8AE9-573A-BCF8-5399DDE53301"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-92CA2EA9-8AE9-573A-BCF8-5399DDE53301"><!-- --></a><p>Understand <a href="GUID-367ADFD7-A0F5-59D3-BF83-913CB8126B9D.html">Overview</a> of Viewfinder API. </p>
 </li>
 </ul>
 </div>
 <div class="section" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-F2F8630C-5C25-555E-B433-F950BE2D3B0A"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-F2F8630C-5C25-555E-B433-F950BE2D3B0A"><!-- --></a><p>The <a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html"><span class="apiname">CCamera</span></a> API is extended to allow you to give region of interest (ROI) for viewfinder. The areas of interest are approximated by the rectangle shape. You select a preference order for ROIs. This selection of preference is supported by <samp class="codeph">CCamera</samp>. Your selection of preference has higher priority. </p>
 <p>The ROIs provides multiple uses for <samp class="codeph">CCamera</samp>, they are as follows: </p>
 <ul><li id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-470B8A6A-B004-5124-8A95-893C1BA5DED6"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-470B8A6A-B004-5124-8A95-893C1BA5DED6"><!-- --></a><p>Extended focus control </p>
 </li>
 <li id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-C2F469C9-5D4B-5C8E-A336-0705236833F0"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-C2F469C9-5D4B-5C8E-A336-0705236833F0"><!-- --></a><p>Selection of ROI for 3A algorithms computations (autofocus, automatic exposure and automatic white balance). </p>
 </li>
 </ul>
 </div>
 <a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-4A701EAC-92B4-5098-B641-8E119782FA3B"><!-- --></a><ol id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-4A701EAC-92B4-5098-B641-8E119782FA3B"><li class="stepexpand" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-693A56F7-CA46-5C52-B9E0-AC440A59662A"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-693A56F7-CA46-5C52-B9E0-AC440A59662A"><!-- --></a><span/><br/> Call <a href="GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A.html#GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A__GUID-F54A4A2C-7C7D-3FED-BDD2-3B370AF9CB17"><span class="apiname">CCameraViewFinder::GetSupportedROIScopeL(TInt&amp;
                )</span></a> to get support and query the number of scope for a viewfinder. For example, If n is the number of ROI scope supported, then scope indices will vary from 0 to â€“1.  </li>
<li class="stepexpand" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-1E56ECC1-C0B1-5C6E-9006-038F2D3D593C"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-1E56ECC1-C0B1-5C6E-9006-038F2D3D593C"><!-- --></a><span/><br/> Call <a href="GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A.html#GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A__GUID-C595C971-DEE6-382C-890F-57E279E5141E"><span class="apiname">CCameraViewFinder::TROIParameters( )</span></a> to provide the ROI per scope to the <samp class="codeph">CCamera</samp> adaptation. The <samp class="codeph">TROIParameters</samp> function is used to allow you to specify a priority with every ROI.  </li>
<li class="stepexpand" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-12CD9C6F-BA8E-5776-9586-0BCFA6DACAF4"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-12CD9C6F-BA8E-5776-9586-0BCFA6DACAF4"><!-- --></a><span/><br/> Call <a href="GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A.html#GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A__GUID-74970283-BD6F-3E7B-AD58-4DB0249416A9"><span class="apiname">CCameraViewFinder::StartROIOperation(const
                RArray&lt; TROIParameters&gt;&amp;, TInt)</span></a> to perform the operation depending on the ROI scope, <samp class="codeph">CCamera</samp> adaptation adjust the scope priority.   When the ROI operation is completed, <samp class="codeph">CCamera</samp> adaptation notifies you the completion of the ROI Operation. You have to know the viewfinder and the scope with which this ROI operation is linked. This can be done by issuing a new event <samp class="codeph">KUIdECamEvent2ViewFInderROIReady</samp> with <samp class="codeph">iParam</samp> as <samp class="codeph">iViewFinderHandle</samp> and <samp class="codeph">iParam1</samp> as <samp class="codeph">iROIScopeIndex</samp>.     Note: You have to prepare a group of the desired region set with high priorities scopes. When you have set the high priorities scopes, you needs to specify the scope based on which the <samp class="codeph">CCamera</samp> adaptation uses the ROIs.  </li>
<li class="stepexpand" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-59F854ED-0EB4-529A-B99B-A12051AC4076"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-59F854ED-0EB4-529A-B99B-A12051AC4076"><!-- --></a><span/><br/> Call <a href="GUID-C8A9654A-AA22-39FE-B1DC-11F49E1D80C1.html#GUID-C8A9654A-AA22-39FE-B1DC-11F49E1D80C1__GUID-B4DBFB05-BB2D-322B-91D8-45326B340126"><span class="apiname">MDirectViewFInderObserver::ROIChangeReady(CCamera::CCameraV2DirectViewFinder&amp;,
                Tint, Tint)</span></a> to extend the callback associated with the two viewfinders in order to provide the ROI scope notifications.   The two notification function notifies you that <samp class="codeph">CCamera</samp> adaptation starts the ROI operation based on the modified set of ROI parameter.  </li>
<li class="stepexpand" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-417A4073-1DC7-5484-B4C6-8413359A229D"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-417A4073-1DC7-5484-B4C6-8413359A229D"><!-- --></a><span/><br/> When the <samp class="codeph">CCamera</samp> adaptation changes the ROI scope, call <a href="GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A.html#GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A__GUID-94C432C4-EEFC-3A31-8779-5F8698FCF733"><span class="apiname">CCameraViewFinder::GetROIParameters (RArray&lt;
                TROIParameters&gt;&amp;, TInt)</span></a> to retrieve the ROI according to their higher priorities.   You can use these regions for any desired purpose depending on the scope.  </li>
<li class="stepexpand" id="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-578B8B56-46D6-5E3A-B735-2CB1EB19D922"><a name="GUID-AAA27EE5-E323-5822-A339-690316C2D9B4__GUID-578B8B56-46D6-5E3A-B735-2CB1EB19D922"><!-- --></a><span/><br/> Call <a href="GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A.html#GUID-24FF5ADF-77FD-3F0C-9905-CE9F3AC0144A__GUID-B8EBF2A4-3791-3D32-AFE1-8582B2C37654"><span class="apiname">CCameraViewFinder::StopROIOperation(TInt)</span></a> to stop ROI operation for the specific scope.  </li>
</ol>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-39958349-2761-5532-A87F-EABB9EB68D10.html">Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-2A6AAD9C-BB99-5145-B4A2-FCEF6BECCFD4.html">Client Viewfinder</a></div>
<div><a href="GUID-BFE8B989-8B73-5D3E-B5F4-13AC016C122C.html">Direct Viewfinder</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>