<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Configuring the TCP Receive Window"/>
<meta name="abstract" content="How to configure the TCP receive window."/>
<meta name="description" content="How to configure the TCP receive window."/>
<meta name="DC.Relation" scheme="URI" content="GUID-D5987006-A871-5F4E-AEA0-5A3B092D996A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B144EAB9-53AB-579B-9E12-B16518E4FC01.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DBD4964D-7728-5E57-8BBA-824F98D0CCF8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D5987006-A871-5F4E-AEA0-5A3B092D996A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8A678AE5-A133-58EA-A4DD-B5BFC94D3AEA.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-6822E7FA-D055-5693-8872-8D0E8554A734"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Configuring the TCP Receive Window</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2398162 id2398611 id2858224 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-B144EAB9-53AB-579B-9E12-B16518E4FC01.html" title="Networking Services provides a standard framework for accessing network services and actual implementations of network protocols. The components of the Networking Services are closely related to the framework provided by the Communications Framework module.">Networking Services Guide</a> &gt; <a href="GUID-DBD4964D-7728-5E57-8BBA-824F98D0CCF8.html" title="This section describes the TCP/IP Utilities collection of components, which provides libraries used by TCP/IPv4/v6 PRT for the DNS and DHCP protocols.">TCP/IP Utilities</a> &gt; <a href="GUID-D5987006-A871-5F4E-AEA0-5A3B092D996A.html" title="This section provides the summary of concepts and tutorials related to variable TCP receive window.">Variable TCP Receive Window</a> &gt; </div>
<h1 class="topictitle1">Configuring
the TCP Receive Window</h1>
<div><p>How to configure the TCP receive window. </p>

<div class="p" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-C1DA7D2C-54A2-5547-A0E0-52DE599A96FA"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-C1DA7D2C-54A2-5547-A0E0-52DE599A96FA"><!-- --></a><p>Before you start,
you must understand the following: </p>
 <ul>
<li id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-AABAB9C2-A530-53C7-ADBC-9596793B7438"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-AABAB9C2-A530-53C7-ADBC-9596793B7438"><!-- --></a><p> <a href="GUID-8A678AE5-A133-58EA-A4DD-B5BFC94D3AEA.html#GUID-8A678AE5-A133-58EA-A4DD-B5BFC94D3AEA__GUID-CDAA0409-6ECB-5ABB-A0E5-F7C5C58E6347">Bearer types</a>  </p>
 </li>

<li id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-BC616747-9E4B-52C2-94D0-F99402199698"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-BC616747-9E4B-52C2-94D0-F99402199698"><!-- --></a><p> <a href="GUID-8A678AE5-A133-58EA-A4DD-B5BFC94D3AEA.html#GUID-8A678AE5-A133-58EA-A4DD-B5BFC94D3AEA__GUID-E1123CF2-EA87-5F18-8F3C-3FD98DD6ABE8"> Lookup table</a>  </p>
 </li>

<li id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-74EA5607-4298-5742-99F4-46222968443B"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-74EA5607-4298-5742-99F4-46222968443B"><!-- --></a><p> <a href="http://www.ietf.org/rfc/rfc1323.txt" target="_blank">TCP window scaling</a>  </p>
 </li>

</ul>
 </div>

<a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-82094A75-1D96-534F-A536-2EFD0521AEFD"><!-- --></a><ol id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-82094A75-1D96-534F-A536-2EFD0521AEFD"><li class="stepexpand" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-0DCC20CB-3465-5CE5-9EB3-96B689EF1CE5"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-0DCC20CB-3465-5CE5-9EB3-96B689EF1CE5"><!-- --></a><span>To configure the
TCP receive window.</span>
 <p>The <a href="GUID-DCF64049-44EA-3EF9-9A80-D364D56670B2.html"><span class="apiname">CTCPReceiveWindowSize()</span></a> class defines the
public interface that the Licensee's NetMcpr must use to configure the TCP
receive window. </p>

</li>
<li class="stepexpand" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-137AC4D5-F8EC-5B99-9D97-F5710FFBAA8E"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-137AC4D5-F8EC-5B99-9D97-F5710FFBAA8E"><!-- --></a><span>To set the receive
window for different bearers.</span>
 Licensees need to override the <a href="GUID-5AC853D0-31FB-3944-8769-A59977F616B0.html"><span class="apiname">SetTcpWin()</span></a> function
to set the TCP receive window for different bearers. 
</li>
<li class="stepexpand" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-966B3D6A-0252-5130-8917-A54B27770D62"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-966B3D6A-0252-5130-8917-A54B27770D62"><!-- --></a><span>Use the <a href="GUID-D3A23EB5-4EBF-3F2C-9EE1-2D93A6094109.html"><span class="apiname">SetTCPwin()</span></a> function
to set the TCP receive window size.</span>
<a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-6A7AFF4E-FEB2-5DBA-9514-F8DC9A655CD4"><!-- --></a><ol type="a" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-6A7AFF4E-FEB2-5DBA-9514-F8DC9A655CD4">
<li class="substepexpand" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-3938CFE3-7959-5820-B8D2-DF98E6038600"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-3938CFE3-7959-5820-B8D2-DF98E6038600"><!-- --></a><span>To configure
the Max TCP receive window size per TCP socket</span>
 If licensees want to configure the Max TCP receive window size per TCP
socket, then they must specify a value greater than the Max value configured
in the <samp class="codeph">tcpip.ini</samp> file. 
</li>

<li class="substepexpand" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-E458A87D-EEBC-5B8E-A3B3-3CE46E36A4E8"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-E458A87D-EEBC-5B8E-A3B3-3CE46E36A4E8"><!-- --></a><span>To set the TCP
receive Max value uniform across all sockets</span>
 If licensees want to set the TCP receive Max value uniform across all
sockets, then they must specify the value in the <samp class="codeph">tcpip.ini</samp> file
and set the iMaxWinSize = 0. So, MaxWinSize is always configured from the <samp class="codeph">tcpip.ini</samp> file. 
</li>

</ol>

</li>
<li class="stepexpand" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-0C4CC4AB-9198-5EE2-B874-CEC90BAF47C3"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-0C4CC4AB-9198-5EE2-B874-CEC90BAF47C3"><!-- --></a><span>Use the <a href="GUID-AB233410-30BD-36D8-A50F-CE669141D083.html"><span class="apiname">AppendExtensionL()</span></a> function
to add the pointer to the lookup table.</span>
  The lookup table holds the TCP receive window size for different bearer
types. 
</li>
</ol>

<div class="example" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-041AB0DF-6C70-57D0-91B2-D37ECD289853"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-041AB0DF-6C70-57D0-91B2-D37ECD289853"><!-- --></a><h2 class="sectiontitle">Configuring
the TCP receive window example</h2> <p>The following code snippet shows
how to configure the TCP receive window size: </p>
 <pre class="codeblock" id="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-20989729-9AF1-5E36-8F19-EDE0D83D42E8"><a name="GUID-6822E7FA-D055-5693-8872-8D0E8554A734__GUID-20989729-9AF1-5E36-8F19-EDE0D83D42E8"><!-- --></a>

// Licensees need to override the SetTCPwin() function


CNokiaTCPRecvWindow: Public CTCPReceiveWindowSize
{
  public:
   virtual void SetTCPwin(TUint aBearerType)
    {
       //Set iWinSize  based on the bearer type

    // If Licensees want to configure the Max TCP receive window size per TCP socket, 
    // then they must specify a value greater than the max value configured in the tcpip.ini file.

    // If Licensees want to set the TCP Receive max value uniform across all sockets, 
    // then they must specify the value in the tcpip.ini file and set the iMaxWinSize =0.
    // So MaxWinSize will always be configured from the tcpip.ini file.

    }    
  
};


CNetworkMetaConnectionProvider::ConstructL()
{
CTCPReceiveWindowSize * iRecvWIndow = New(ELeave) CNokiaTCpRecvWindow();
//Append the pointer to the lookup table. The Pointer is of the type CTCPReceiveWindowSize.
iAccessPointConfig-&gt;AppendExtensionL(iReceiveWindow);
}

</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-D5987006-A871-5F4E-AEA0-5A3B092D996A.html" title="This section provides the summary of concepts and tutorials related to variable TCP receive window.">Variable TCP Receive Window</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-8A678AE5-A133-58EA-A4DD-B5BFC94D3AEA.html" title="Explains how to improve performance of TCP/IP stack.">Variable
TCP Receive                 Window</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>