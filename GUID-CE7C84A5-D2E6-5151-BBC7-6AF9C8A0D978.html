<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Address string tokenizer overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-61B965D9-B85E-5F40-8D56-1C0FA77D2492.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-94005A46-B4C6-4A30-A8E8-1B9C2D583D50.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E079315A-E5B6-4D33-B7E3-88697A3F11A4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-61B965D9-B85E-5F40-8D56-1C0FA77D2492.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Address string tokenizer overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2561792 id2839629 id2839138 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-94005A46-B4C6-4A30-A8E8-1B9C2D583D50.html">Classic UI Guide</a> &gt; <a href="GUID-E079315A-E5B6-4D33-B7E3-88697A3F11A4.html">Control and animation framework</a> &gt; <a href="GUID-61B965D9-B85E-5F40-8D56-1C0FA77D2492.html" title="This section explains the Symbian Text Utility components and the miscellaneous user interface utility functions relating to fonts, colors and drawing.">Using UI Graphics Utilities (EGUL) and Text Utilities (ETUL)</a> &gt; </div>
<h1 class="topictitle1">Address
string tokenizer overview</h1>
<div>
<div class="section" id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-3380A468-D7C1-478B-81F7-C7B25CA2AF87"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-3380A468-D7C1-478B-81F7-C7B25CA2AF87"><!-- --></a><h2 class="sectiontitle">Purpose</h2> <p>The
Address String Tokenizer offers methods for parsing phone numbers, E-mail
addresses, URL and URI addresses from given text. It provides an interface
for applications that, for example, want to create/use their own GUI for displaying
found items. </p>
 </div>

<div class="section" id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-0A0412D0-A818-42C3-8288-D857FF3FB9AC"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-0A0412D0-A818-42C3-8288-D857FF3FB9AC"><!-- --></a><h2 class="sectiontitle">Architectural
Relationships</h2> <p>All functionality is implemented in the <a href="GUID-D35F2DD5-09A3-366C-8384-46FEB6B7DB18.html"><span class="apiname">CTulAddressStringTokenizer</span></a> class.
The interface can be accessed through the <samp class="codeph">tuladdressstringtokenizer.h </samp> file.
The binaries are linked to the <samp class="codeph">etul.lib</samp> (Text Utilities -
part of Egul component) library. </p>
 <div class="fignone" id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-831D95A9-EDD6-5351-83CD-F9246B88E821"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-831D95A9-EDD6-5351-83CD-F9246B88E821"><!-- --></a><span class="figcap">Figure 1.               Subsystem dependencies            </span>

<img src="GUID-2BF99BD2-5DB5-5DF6-8F82-22DD2E818584_d0e78280_href.png"/>
</div>
 </div>

<div class="section" id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-B712EDB6-0AAD-4E3F-9694-5EABECD3AA1D"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-B712EDB6-0AAD-4E3F-9694-5EABECD3AA1D"><!-- --></a><h2 class="sectiontitle">Description</h2> <p><strong>Usage</strong> </p>
 <p>In
order to use the Address String Tokenizer, the user has to create an instance
of <a href="GUID-D35F2DD5-09A3-366C-8384-46FEB6B7DB18.html"><span class="apiname">CTulAddressStringTokenizer</span></a> by
using the factory method <a href="GUID-D35F2DD5-09A3-366C-8384-46FEB6B7DB18.html"><span class="apiname">CTulAddressStringTokenizer::NewL()</span></a>. </p>
 <p>For
example: </p>
 <pre class="codeblock" id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-59957EA3-0C1D-5A35-87A0-8DCB0D01D840"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-59957EA3-0C1D-5A35-87A0-8DCB0D01D840"><!-- --></a>CTulAddressStringTokenizer* addressStringTokenizer = CTulAddressStringTokenizer::NewL(text, searchCase);</pre>
 <p>The method takes two parameters of type <samp class="codeph">TDesC&amp;</samp> and <a href="GUID-D35F2DD5-09A3-366C-8384-46FEB6B7DB18.html"><span class="apiname">TTokenizerSearchCase</span></a> which is
defined in <samp class="codeph">tuladdressstringtokenizer.h</samp>. </p>
 <p>The first
parameter defines the text to be searched from. </p>
 <p>The second parameter
tells what exactly is being looked for. It is an enum which describes the
type of text being searched for. The types available are phone number, email
address, fixed start URL or generic URI. </p>
 <p>The passed text is parsed
in construction, and found items can be fetched using the <a href="GUID-D35F2DD5-09A3-366C-8384-46FEB6B7DB18.html"><span class="apiname">ItemArray()</span></a> method. <a href="GUID-D35F2DD5-09A3-366C-8384-46FEB6B7DB18.html"><span class="apiname">ItemArray()</span></a> returns a constant
array containing all the found items. </p>
 <p>The interface also offers helper
functions for handling the item array by itself. </p>
 <p>For more information
on individual methods, please see the reference API for <a href="GUID-D35F2DD5-09A3-366C-8384-46FEB6B7DB18.html"><span class="apiname">CTulAddressStringTokenizer</span></a>. </p>
 <p><strong>Example</strong> </p>
 <p>This sample code explains a few simple use cases that
search for items from a text string: </p>
 <pre class="codeblock" id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-2B5E70DF-6757-5803-B7BA-052EA4932EEF"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-2B5E70DF-6757-5803-B7BA-052EA4932EEF"><!-- --></a>// Some text
TBufC&lt;256&gt; strSomeText(_L("Mail to me@someplace.com or call 040 1234567. 
                        You can also tune in to audio feed at rtsp://someplace.com/somefeed.ra."));

// SFoundItem instance
CTulAddressStringTokenizer::SFoundItem item;

// Create an instance of CTulAddressStringTokenizer and search for URLs.
CTulAddressStringTokenizer* singleSearch = CTulAddressStringTokenizer::NewL
                                           (strSomeText, CTulAddressStringTokenizer::EFindItemSearchScheme);

// Get count of found items
TInt count(singleSearch-&gt;ItemCount());

// Get currently selected item (rtsp://someplace.com/somefeed.ra) to the result 
// variable
singleSearch-&gt;Item(item);
TPtrC16 result(strSomeText.Mid(item.iStartPos, item.iLength));

// Deallocate memory
delete singleSearch;

// Look for all possible things (cases work as binary mask)
CTulAddressStringTokenizer* multiSearch = CTulAddressStringTokenizer::NewL
                                          (strSomeText, (CTulAddressStringTokenizer::TTokenizerSearchCase)
                                          (CTulAddressStringTokenizer::EFindItemSearchPhoneNumberBin |           
                                          CTulAddressStringTokenizer::EFindItemSearchURLBin | 
                                          CTulAddressStringTokenizer::EFindItemSearchMailAddressBin | 
                                          CTulAddressStringTokenizer::EFindItemSearchScheme));

// Debug print all items and their type
count = multiSearch-&gt;ItemCount();
multiSearch-&gt;Item(item);

for(TInt i=0; i&lt;count; i++)
    {
    result.Set(strSomeText.Mid(item.iStartPos, item.iLength));
    RDebug::Print(_L("Found type %d item:"), item.iItemType);
    RDebug::Print(_L("%S"), &amp;result)
    multiSearch-&gt;NextItem(item);
    }

// Deallocate memory
delete multiSearch;
</pre>
 <p><strong>Sequence Diagram</strong> </p>
 <div class="fignone" id="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-1FD4B286-A5EE-43B7-BE5C-A22AB47A8E00"><a name="GUID-CE7C84A5-D2E6-5151-BBC7-6AF9C8A0D978__GUID-1FD4B286-A5EE-43B7-BE5C-A22AB47A8E00"><!-- --></a><span class="figcap">Figure 2.                  Sequence of events for <samp class="codeph">CTulAddressStringTokenizer</samp></span>

<img src="GUID-C2D6BAB9-89BA-4E8D-82B4-2FAE04B9086C_d0e78373_href.png"/>
</div>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-61B965D9-B85E-5F40-8D56-1C0FA77D2492.html" title="This section explains the Symbian Text Utility components and the miscellaneous user interface utility functions relating to fonts, colors and drawing.">Using UI Graphics Utilities (EGUL) and Text Utilities (ETUL)</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>