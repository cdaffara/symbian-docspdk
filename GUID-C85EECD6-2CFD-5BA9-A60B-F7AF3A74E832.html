<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="rbufexample: Using resizable buffer descriptors"/>
<meta name="abstract" content="This example application demonstrates how to use the RBuf class."/>
<meta name="description" content="This example application demonstrates how to use the RBuf class."/>
<meta name="DC.Relation" scheme="URI" content="GUID-0D61EBFF-F513-5911-B234-09F36E5E3DC8.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0D61EBFF-F513-5911-B234-09F36E5E3DC8.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>rbufexample: Using resizable buffer descriptors</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2392072 id2392081 id2398849 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">User Library and File Server</a> &gt; <a href="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" title="The User Library allows the applications and services that run on a phone to access the functionality provided by the Symbian platform Kernel.">User Library</a> &gt; <a href="GUID-0D61EBFF-F513-5911-B234-09F36E5E3DC8.html" title="This describes the example code for the User Library component.">User Library Example Code</a> &gt; </div>
<h1 class="topictitle1">rbufexample: Using resizable buffer descriptors</h1>
<div><p>This example application demonstrates how to use the <samp class="codeph">RBuf</samp> class. </p>

<p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html"><span class="apiname">RBuf</span></a> is a resizable buffer descriptor. It is
part of the user library. It is used to contain strings and binary
data when the maximum size of the data is not known until run time. </p>

<p>This overview contains the following sections: </p>

<ul>
<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-6A429EA8-8396-5A67-BF08-5CC81426D99A"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-6A429EA8-8396-5A67-BF08-5CC81426D99A"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-7605348A-0F8B-56A4-A48C-C83CB1CD546D">Download</a> </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-9BBBEFB0-D463-5A81-9AF8-8FE0FB781D5A"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-9BBBEFB0-D463-5A81-9AF8-8FE0FB781D5A"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-BC0B8F0D-94A8-51D1-9BC2-85E4F76C482A">Description</a>  </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-4946F730-6E6A-5EC2-8A73-F0E29EBB09D9"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-4946F730-6E6A-5EC2-8A73-F0E29EBB09D9"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-69043124-f5fc-499b-8550-0c5b6ed66fe5">Class summary</a>  </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-4D0A67AF-FAC5-51F5-8C4F-5E9FBF1C2981"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-4D0A67AF-FAC5-51F5-8C4F-5E9FBF1C2981"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-111B7B66-A3C4-5A15-8CF2-C6A227483651">Build</a>  </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-F01C5F43-391A-562A-A6E2-B7C34A2FB01A"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-F01C5F43-391A-562A-A6E2-B7C34A2FB01A"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-E30CC1D4-B854-5080-8F37-950CA4D86DD0">See also</a>  </p>
 </li>

</ul>

<div class="section" id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-7605348A-0F8B-56A4-A48C-C83CB1CD546D"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-7605348A-0F8B-56A4-A48C-C83CB1CD546D"><!-- --></a><h2 class="sectiontitle">Download</h2> <p>Click on the following link to download the example: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-7520d937-647a-495a-9196-edca52b98e89.zip" target="_blank">rbufexample.zip</a>.</p>
<p>Click: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-7520d937-647a-495a-9196-edca52b98e89.html">browse</a> to view the example code.</p>
 </div>

<div class="section" id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-BC0B8F0D-94A8-51D1-9BC2-85E4F76C482A"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-BC0B8F0D-94A8-51D1-9BC2-85E4F76C482A"><!-- --></a><h2 class="sectiontitle">Description</h2> <ul>
<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-87468748-0221-5005-9A98-EE03F5280421"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-87468748-0221-5005-9A98-EE03F5280421"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-B2AF4A97-A93B-5437-A31D-85C98AFC7DBB"> Creating an RBuf</a>  </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-6A66563D-F504-5D7E-8274-78126F2877F8"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-6A66563D-F504-5D7E-8274-78126F2877F8"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-88B88124-BB7D-58DC-9F8A-61C32BDD58C4">Swapping two RBufs</a>  </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-6F41B457-6A2B-5895-8404-DCE5F971B59B"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-6F41B457-6A2B-5895-8404-DCE5F971B59B"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-893B2BF3-AD9F-587D-95D5-165014C932B4">Copying data to an RBuf using the assignment operator</a>  </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-0B584C6E-A740-5CD6-A8F7-E2DA4327D2B9"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-0B584C6E-A740-5CD6-A8F7-E2DA4327D2B9"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-2B6B8519-6306-5F0C-8A79-4094A3037901">Reallocating an RBuf</a>  </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-D96AC20C-5F22-52F7-B299-F178B90AE214"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-D96AC20C-5F22-52F7-B299-F178B90AE214"><!-- --></a><p> <a href="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832.html#GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-DE5A5DC0-07C6-50B9-AFDA-E69A92A02980"> Replacing and modifying the data in an RBuf</a>  </p>
 </li>

</ul>
 <p id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-B2AF4A97-A93B-5437-A31D-85C98AFC7DBB"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-B2AF4A97-A93B-5437-A31D-85C98AFC7DBB"><!-- --></a><strong>Creating
an RBuf</strong> </p>
 <p>The example demonstrates creating an <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html"><span class="apiname">RBuf</span></a> in the following ways: </p>
 <a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-B4E38F9F-B275-5364-B59C-71087CDDAF1C"><!-- --></a><ol id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-B4E38F9F-B275-5364-B59C-71087CDDAF1C">
<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-0482EE2B-165C-5B55-B819-741026C38F02"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-0482EE2B-165C-5B55-B819-741026C38F02"><!-- --></a><p> <strong>Using RBuf::Create()
or RBuf::CreateL():</strong> These functions create either an empty descriptor,
or one with data copied from another descriptor. </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-00E1680C-CB9C-5CC8-BC4A-C7337E0B9B9D"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-00E1680C-CB9C-5CC8-BC4A-C7337E0B9B9D"><!-- --></a><p> <strong>Using RBuf::CreateMax()
or RBuf::CreateMaxL():</strong> These functions set the buffer's current
length to be the same as its maximum length. </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-A0E4C908-5542-53D3-8452-BDA3BFB8887D"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-A0E4C908-5542-53D3-8452-BDA3BFB8887D"><!-- --></a><p> <strong>By assigning
from an HBufC:</strong> <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-24070146-5588-3525-AC3E-62DA78BEA297"><span class="apiname">RBuf::Assign(HBufC8*)</span></a> transfers
ownership of the heap descriptor. It is not possible to access the
original heap descriptor once ownership has been transferred. </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-B8812B95-CE27-5850-B866-F6DBC18ADF8C"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-B8812B95-CE27-5850-B866-F6DBC18ADF8C"><!-- --></a><p> <strong>By assigning
some previously allocated memory:</strong> <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-8B622E83-88C5-3561-98FC-E2157022BCBC"><span class="apiname">RBuf::Assign(const
RBuf8&amp; )</span></a> transfers ownership of allocated memory. It
is then not possible to access the original memory. </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-9FCBF30F-815B-5CA9-B0B6-1698DA0C4F0E"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-9FCBF30F-815B-5CA9-B0B6-1698DA0C4F0E"><!-- --></a><p> <strong>Using RReadStream:</strong> The example writes some text to a file stream (<samp class="codeph">RFileWriteStream</samp>). Then it creates the buffer by passing the open stream object to <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-C029FB52-971D-3C53-A6BC-C6FEC0E9BCDB"><span class="apiname">RBuf::CreateL(TInt)</span></a>. </p>
 </li>

</ol>
<p><strong>Related APIs</strong></p>
<ul>
<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html"><span class="apiname">RBuf</span></a> - Defines a build-independent resizable
buffer descriptor.</p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-9B5FF0B6-9C38-3E74-A5BC-A5CB02E029B7"><span class="apiname">RBuf::Assign(const RBuf8&amp;)</span></a></p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-E69BAB5A-EFC1-3700-8B56-9A5876BF428D"><span class="apiname">RBuf::Create(const TDesC8&amp;)</span></a></p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-D1478239-6AFC-30F3-B836-D76F53725844"><span class="apiname">RBuf::CreateL(const TDesC8&amp;)</span></a></p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-2BB11BE2-CCD9-3197-B4A5-4001474AEEAF"><span class="apiname">RBuf::CreateMax(TInt)</span></a></p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-EF93482B-CD75-3744-B5B1-3AED1E4F0637"><span class="apiname">RBuf::CreateMaxL(TInt)</span></a></p>
</li>

</ul>
 <p id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-88B88124-BB7D-58DC-9F8A-61C32BDD58C4"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-88B88124-BB7D-58DC-9F8A-61C32BDD58C4"><!-- --></a><strong>Swapping
two RBufs</strong> </p>
 <p>The example creates two resizable buffers using <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-E69BAB5A-EFC1-3700-8B56-9A5876BF428D"><span class="apiname">RBuf::Create(const TDesC8&amp;)</span></a>. Then it swaps the contents
of them using <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-E396F6CA-1353-31E3-8AFF-BAFE2DF6E0E7"><span class="apiname">RBuf::Swap(RBuf8&amp;)</span></a>. </p>
 <p> <strong>Note:</strong> When you swap data between two <samp class="codeph">RBuf</samp> s
ensure that the maximum length of the target <samp class="codeph">RBuf</samp> is sufficient to hold the data, otherwise a panic (<samp class="codeph">User
11</samp>) occurs. </p>
<p><strong>Related APIs</strong></p>
<ul>
<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-E69BAB5A-EFC1-3700-8B56-9A5876BF428D"><span class="apiname">RBuf::Create(const TDesC8&amp;)</span></a></p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-E396F6CA-1353-31E3-8AFF-BAFE2DF6E0E7"><span class="apiname">RBuf::Swap(RBuf8&amp;)</span></a></p>
</li>

</ul>
 <p id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-893B2BF3-AD9F-587D-95D5-165014C932B4"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-893B2BF3-AD9F-587D-95D5-165014C932B4"><!-- --></a><strong>Copying
data to an RBuf using the assignment operator</strong> </p>
 <p>The example
creates two resizable buffers and allocates memory using <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-E69BAB5A-EFC1-3700-8B56-9A5876BF428D"><span class="apiname">RBuf::Create(const TDesC8&amp;)</span></a>. It then copies data to
these buffers. It also copies data from the first buffer to the second
buffer using the assignment operator. </p>
 <p> <strong> Notes:</strong>  </p>
 <ul>
<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-9B2835F9-BD3E-56DD-9CFD-F71677FFC71C"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-9B2835F9-BD3E-56DD-9CFD-F71677FFC71C"><!-- --></a><p>When you use <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-9B5FF0B6-9C38-3E74-A5BC-A5CB02E029B7"><span class="apiname">RBuf::Assign(const RBuf8&amp;)</span></a>, ownership of the buffer
is transferred. <samp class="codeph">Assign(const RBuf8&amp;)</samp> neither
checks nor frees any pre-existing owned allocated memory. If this
descriptor already owns some allocated memory, <a href="GUID-BEFF9C91-DA64-3032-96E8-F5054405DC74.html#GUID-BEFF9C91-DA64-3032-96E8-F5054405DC74__GUID-32EB41B6-A1C8-326C-9D52-095B05D4D20B"><span class="apiname">RBuf16::Close()</span></a> should be invoked on it before calling <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-9B5FF0B6-9C38-3E74-A5BC-A5CB02E029B7"><span class="apiname">RBuf::Assign(const
RBuf8&amp;)</span></a>, otherwise a memory leak will occur. </p>
 </li>

<li id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-41218102-1810-5E83-BAEE-5683D378F75F"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-41218102-1810-5E83-BAEE-5683D378F75F"><!-- --></a><p>When you use
the assignment operator, you must make sure the target descriptor's
maximum length is equal to or greater than the length of the source
descriptor, otherwise a <samp class="codeph">User 11</samp> panic (descriptor
overflow) occurs. Any existing data in the target descriptor is replaced. </p>
 </li>

</ul>
 <p><strong>Related APIs</strong></p>
<ul>
<li><p><a href="GUID-BEFF9C91-DA64-3032-96E8-F5054405DC74.html#GUID-BEFF9C91-DA64-3032-96E8-F5054405DC74__GUID-32EB41B6-A1C8-326C-9D52-095B05D4D20B"><span class="apiname">RBuf16::Close()</span></a></p>
</li>

<li><p> <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-9B5FF0B6-9C38-3E74-A5BC-A5CB02E029B7"><span class="apiname">RBuf::Assign(const RBuf8&amp;)</span></a></p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-05537A6D-F8B8-3760-B9CA-591465BEFE4B"><span class="apiname">RBuf::Create(TInt)</span></a></p>
</li>

</ul>
<p id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-2B6B8519-6306-5F0C-8A79-4094A3037901"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-2B6B8519-6306-5F0C-8A79-4094A3037901"><!-- --></a><strong>Reallocating
an RBuf</strong> </p>
 <p>The example creates a resizable buffer descriptor,
then it resizes it using <samp class="codeph">RBuf::ReAlloc(TInt)</samp>. The
old and new lengths are printed to the console to show how <samp class="codeph">ReAlloc()</samp> does not change the length of the descriptor,
but only its maximum length. Calling <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-9887F6B2-492E-3225-905C-7841A2C9CAE8"><span class="apiname">RBuf::ReAlloc(TInt)</span></a> with a value of zero frees the memory and sets the length and maximum
length to zero. </p>
<p><strong>Related APIs</strong></p>
<ul>
<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-9887F6B2-492E-3225-905C-7841A2C9CAE8"><span class="apiname">RBuf::ReAlloc(TInt)</span></a></p>
</li>

</ul>
 <p id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-DE5A5DC0-07C6-50B9-AFDA-E69A92A02980"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-DE5A5DC0-07C6-50B9-AFDA-E69A92A02980"><!-- --></a><strong> Replacing
and modifying the data in an RBuf</strong> </p>
 <p>The example creates
a resizable buffer descriptor and replaces a portion of the data in
it using <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-FB7C2936-6CE6-38BF-80BE-F02364F21E6B"><span class="apiname">RBuf::Replace(TInt ,TInt ,const TDesC16&amp;)</span></a>. The start position and length of the data to be replaced, and the
replacement text are passed as parameters. <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-05E77813-EAA3-37DF-A857-0687916F2E30"><span class="apiname">RBuf::Delete(TInt
, TInt)</span></a> is then used to delete the replacement text, by
specifying the position and length of the data to be deleted. </p>
<p><strong>Related APIs</strong></p>
<ul>
<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-05E77813-EAA3-37DF-A857-0687916F2E30"><span class="apiname">RBuf::Delete(TInt , TInt)</span></a></p>
</li>

<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html#GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8__GUID-FB7C2936-6CE6-38BF-80BE-F02364F21E6B"><span class="apiname">RBuf::Replace(TInt ,TInt ,const TDesC16&amp;)</span></a></p>
</li>

</ul>
 </div>

<div class="section" id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-69043124-F5FC-499B-8550-0C5B6ED66FE5"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-69043124-F5FC-499B-8550-0C5B6ED66FE5"><!-- --></a><h2 class="sectiontitle">Class
summary</h2><ul>
<li><p><a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html"><span class="apiname">RBuf</span></a> - Defines a build-independent resizable
buffer descriptor.</p>
</li>

<li><p> <a href="GUID-A103FB19-60B3-3E45-97A5-1F295934ACA1.html"><span class="apiname">HBufC</span></a> - Defines a build-independent heap
descriptor.</p>
</li>

<li><p><a href="GUID-EFFA9A71-4CA4-3227-879D-17EFEB8B07D6.html"><span class="apiname">RFileWriteStream</span></a> - Supports the writing
of a stream to a file.</p>
</li>

<li><p><a href="GUID-90A3AE1D-DCB2-3E98-8BE9-C48C15964E7D.html"><span class="apiname">RFileReadStream</span></a> - Supports the reading of
a stream from a file.</p>
</li>

<li><p><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html"><span class="apiname">RFs</span></a></p>
</li>

</ul>
</div>

<div class="section" id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-111B7B66-A3C4-5A15-8CF2-C6A227483651"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-111B7B66-A3C4-5A15-8CF2-C6A227483651"><!-- --></a><h2 class="sectiontitle">Build</h2> <p> The example builds an executable file called <span class="filepath">rbufexample.exe</span> in the standard location (<span class="filepath">\epoc32\release\winscw\&lt;build_variant&gt;</span> for the emulator). After launching the executable, depending on
the emulator you are using, you may need to navigate away from the
application launcher/shell screen to view the console. </p>
 </div>

<div class="section" id="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-E30CC1D4-B854-5080-8F37-950CA4D86DD0"><a name="GUID-C85EECD6-2CFD-5BA9-A60B-F7AF3A74E832__GUID-E30CC1D4-B854-5080-8F37-950CA4D86DD0"><!-- --></a><h2 class="sectiontitle">See
also</h2> <p> <a href="GUID-4AC3CC42-6E8D-584A-AA39-84B5E0F3C16A.html" title="Use this descriptor to hold a string or binary data.">How to use the resizable buffer descriptor - RBuf</a>  </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-0D61EBFF-F513-5911-B234-09F36E5E3DC8.html" title="This describes the example code for the User Library component.">User Library Example Code</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>