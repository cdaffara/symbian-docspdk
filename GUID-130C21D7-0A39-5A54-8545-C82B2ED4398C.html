<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Simultaneous Call Tutorial"/>
<meta name="abstract" content="This tutorial describes how to handle two call with the telephony API for applications."/>
<meta name="description" content="This tutorial describes how to handle two call with the telephony API for applications."/>
<meta name="DC.Relation" scheme="URI" content="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0F647342-E069-5444-9370-58520375543A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6ABEF478-F3DB-524E-A500-9431B42C6665.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Simultaneous Call Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2562267 id2562189 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-0F647342-E069-5444-9370-58520375543A.html" title="The Telephony Utilities is a collection of components that provides small utility libraries related to telephony. The collection also includes the component that implements the telephony API for applications.">Telephony Utilities</a> &gt; <a href="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html" title="The telephony API gives applications access to Telephony services.">Telephony API for Applications</a> &gt; </div>
<h1 class="topictitle1">Simultaneous
Call Tutorial</h1>
<div><p>This tutorial describes how to handle two call with the telephony
API for applications. </p>

<div class="section" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-02566DCB-EFC4-4C74-A9FD-98417AC0AF9D"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-02566DCB-EFC4-4C74-A9FD-98417AC0AF9D"><!-- --></a><p>This state diagram shows how to dial or answer one or two calls
at a time. </p>
 <div class="fignone" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-3603A3BF-5E3F-5945-B762-42411EF4B497"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-3603A3BF-5E3F-5945-B762-42411EF4B497"><!-- --></a><span class="figcap">Figure 1.               Simultaneous Call State Diagram            </span>

<img src="GUID-7E6634DC-7F07-5687-AFEE-D5BD268B8E1D_d0e63531_href.png"/>
</div>
 <p>The boxes are states. The enumeration value in each box is the status
of the voice line. <a href="GUID-0DA6722B-0700-5612-884A-F3B7733E5252.html" title="This tutorial describes how to get the voice line status with the telephony API for applications.">Voice
line status</a> describes these states and their meaning. The arrows show
events that trigger a change of state. In these events, a word in <strong>bold</strong> indicates
a <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony</span></a> method that you can call. </p>
 </div>

<div class="p" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-207F7101-D6BC-54B3-A6FD-BE4FA0C44CE4"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-207F7101-D6BC-54B3-A6FD-BE4FA0C44CE4"><!-- --></a><span/><br/>

<a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-3C223BD1-B3D3-54BF-9CE2-4CF0397C26A6"><!-- --></a><ol type="a" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-3C223BD1-B3D3-54BF-9CE2-4CF0397C26A6">
<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-D333CDDA-E565-5009-BB68-364FDFAEE537"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-D333CDDA-E565-5009-BB68-364FDFAEE537"><!-- --></a><span/><br/>
 check the <a href="GUID-0DA6722B-0700-5612-884A-F3B7733E5252.html" title="This tutorial describes how to get the voice line status with the telephony API for applications.">Voice
line status</a> for other calls 
 <ul>
<li id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-6E5035AE-AA11-5D46-A6FA-FCFF600C3964"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-6E5035AE-AA11-5D46-A6FA-FCFF600C3964"><!-- --></a><p>if the line is <em>Idle</em> (<a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-52E51C0C-8C27-311D-8B6B-223F899DB2C9"><span class="apiname">CTelephony::EStatusIdle</span></a>)
then no calls are in progress </p>
 </li>

<li id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-0B35A0D6-2BB1-54ED-A562-653031ECBE91"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-0B35A0D6-2BB1-54ED-A562-653031ECBE91"><!-- --></a><p>if the line is <em>on
hold</em> (<a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-7F347F6A-0B02-34BC-B082-3449EA63A148"><span class="apiname">CTelephony::EStatusHold</span></a>) then there is another
call in progress, but it is on hold and you can still dial or answer a second
call. Now go to point four below </p>
 </li>

<li id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-A939F59B-59A4-56CE-8949-5DE28588EE57"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-A939F59B-59A4-56CE-8949-5DE28588EE57"><!-- --></a><p>if another call is active,
you must wait until it completes before you can dial or receive a call. </p>
 </li>

</ul>
 
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-DEF3414F-6836-57E2-96A9-6E824696F29A"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-DEF3414F-6836-57E2-96A9-6E824696F29A"><!-- --></a><span/><br/>
  <a href="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC.html" title="This tutorial describes how to dial a call with the telephony API for applications."> Dial a call</a>  
 while no calls are in progress, the line's status is <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-52E51C0C-8C27-311D-8B6B-223F899DB2C9"><span class="apiname">CTelephony::EStatusIdle</span></a>.
To dial a call, use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-E7A25EB6-B7FD-31DF-9A03-F100F93D7138"><span class="apiname">CTelephony::DialNewCall()</span></a>. If dialling
was successful and the remote party answers the call then the line's status
will become <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-641B7EAB-56C6-3E9C-A53C-EE382925E1CE"><span class="apiname">CTelephony::EStatusConnected</span></a>. 
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-1D1F2233-367B-57E7-B4A5-A36CD4C53C8C"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-1D1F2233-367B-57E7-B4A5-A36CD4C53C8C"><!-- --></a><span/><br/>
  <a href="GUID-D6334249-E61D-55E7-9D0E-95231DC3621F.html" title="This tutorial describes how to detect and answer an inbound call with the telephony API for applications.">Answer a call</a>  
 while no calls are in progress, the line's status is <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-52E51C0C-8C27-311D-8B6B-223F899DB2C9"><span class="apiname">CTelephony::EStatusIdle</span></a>.
When a remote party calls your phone, the voice line's status will change
to <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-7632FB7B-0272-39CB-B71A-C3C09EEB5E88"><span class="apiname">CTelephony::EStatusRinging</span></a>. 
 When the status is <samp class="codeph">CTelephony::EStatusRinging</samp>, use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-6D12DBA4-8902-3649-B144-47C91F16C4B3"><span class="apiname">CTelephony::AnswerIncomingCall()</span></a> to
answer the call. The status will change to <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-641B7EAB-56C6-3E9C-A53C-EE382925E1CE"><span class="apiname">CTelephony::EStatusConnected</span></a> and
the phone user can talk to the remote party. 
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-A96B6019-65E1-5D10-9639-0F2D65E8FAE1"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-A96B6019-65E1-5D10-9639-0F2D65E8FAE1"><!-- --></a><span/><br/>
  <a href="GUID-91082AAB-DC8D-5AEA-A6C1-DD89932244FB.html" title="This tutorial describes how to terminate a call with the telephony API for applications.">Terminate the
call</a> 
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-C60ABD8F-C3D0-51F6-9A31-C1A9CDA27B24"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-C60ABD8F-C3D0-51F6-9A31-C1A9CDA27B24"><!-- --></a><span/><br/>
 detect <a href="GUID-42B10CBF-D45A-580F-A639-E2495FF3B4F3.html" title="This tutorial describes how to detect when a caller at the remote end of the connection has terminated a call with the telephony API for applications.">Remote
Termination</a> of a call 
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-EF4ECB49-F37F-54C7-96C8-9105D54AEA43"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-EF4ECB49-F37F-54C7-96C8-9105D54AEA43"><!-- --></a><span/><br/>
  <a href="GUID-1907CF0B-2F4B-50F6-B676-7B7059B7FF74.html" title="This tutorial describes how to place a call on hold with the telephony API for applications.">Hold a Call</a>  
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-BB6D7BB5-4BEF-5D4D-B763-2EA7E8828D0F"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-BB6D7BB5-4BEF-5D4D-B763-2EA7E8828D0F"><!-- --></a><span/><br/>
  <a href="GUID-FFBD95C6-0B12-5FD7-BA69-89BBFB97F0A1.html" title="This tutorial describes how to resume a call with the telephony API for applications.">Resume a call</a>  
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-75078A44-B3EE-50CB-A746-C79D78228398"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-75078A44-B3EE-50CB-A746-C79D78228398"><!-- --></a><span/><br/>
  <a href="GUID-9C5A86D2-E602-55AE-B54B-8511E70CD23D.html" title="This tutorial describes how to send DTMF tones with the telephony API for applications.">Send DTMF tones
down the line</a>  
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-4B8ED301-CAA2-5629-A697-73E6E0122F5E"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-4B8ED301-CAA2-5629-A697-73E6E0122F5E"><!-- --></a><span/><br/>
  <a href="GUID-0DA6722B-0700-5612-884A-F3B7733E5252.html" title="This tutorial describes how to get the voice line status with the telephony API for applications.">Line and call
information</a>  
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-8CB212E7-2B55-580E-9DD4-D5A1694B94FA"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-8CB212E7-2B55-580E-9DD4-D5A1694B94FA"><!-- --></a><span/><br/>
  <a href="GUID-D6334249-E61D-55E7-9D0E-95231DC3621F.html#GUID-D6334249-E61D-55E7-9D0E-95231DC3621F__GUID-19AC29A6-3A34-57E8-A0BE-8242CF60BF86">Answer
a second call</a>  
 at some point, a remote party might try to ring your phone. It is answered
in the same way as the first 
 The voice line state will change to <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-7632FB7B-0272-39CB-B71A-C3C09EEB5E88"><span class="apiname">CTelephony::EStatusRinging</span></a>.
You can receive notification when this occurs; see <a href="GUID-D6334249-E61D-55E7-9D0E-95231DC3621F.html" title="This tutorial describes how to detect and answer an inbound call with the telephony API for applications.">Detect
an incoming call</a>. Before answering the second call, you must put the
original call on hold. This is shown in the diagram above. 
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-E4B328AF-66D5-5E21-BF74-7057D58694E6"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-E4B328AF-66D5-5E21-BF74-7057D58694E6"><!-- --></a><span/><br/>
  <a href="GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC.html#GUID-05759C1B-6731-52A1-8EC0-2570E01FC7BC__GUID-8A1C0CE1-31F8-5B78-9FDC-D2BF46B2924F">Dial
a second call</a>  
 you can also dial a second call in the same way as the first. Once again,
you must put your original call on hold before dialling the second call 
</li>

<li class="substepexpand" id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-B8904540-FBA9-5351-B298-11681E3C9AA9"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-B8904540-FBA9-5351-B298-11681E3C9AA9"><!-- --></a><span/><br/>
 a <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html#GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A__GUID-86D48DF2-1AA1-337A-A270-6703FF29C958"><span class="apiname">CTelephony::TCallId</span></a> will be given to you when you
successfully connect a second call. You will also have a <samp class="codeph">CTelephony::TCallId</samp> from
the first call. Now you will be the owner of two calls: at any one time, one
will always be active and one will always be on hold. 
 Now you can: 
 <ul>
<li id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-B1B06B62-725A-5ACC-92AB-169F8C83EF2F"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-B1B06B62-725A-5ACC-92AB-169F8C83EF2F"><!-- --></a><p> <a href="GUID-91082AAB-DC8D-5AEA-A6C1-DD89932244FB.html" title="This tutorial describes how to terminate a call with the telephony API for applications.">Terminate
either call</a>. If you terminate the <strong>active</strong> call then you will
be left with a call on hold. If you terminate the <strong>on-hold</strong> call then
you will be left with an active call. </p>
 </li>

<li id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-590E8FC0-A09F-5CE5-BAE4-958439E35968"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-590E8FC0-A09F-5CE5-BAE4-958439E35968"><!-- --></a><p> <a href="GUID-42B10CBF-D45A-580F-A639-E2495FF3B4F3.html" title="This tutorial describes how to detect when a caller at the remote end of the connection has terminated a call with the telephony API for applications.">Detect
remote party terminating either call</a>. Once again, if the <strong>active</strong> call
ends then you will be left with a call on hold and vice versa. </p>
 </li>

<li id="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-1638D67F-33E6-50EA-A122-FA54D08E6213"><a name="GUID-130C21D7-0A39-5A54-8545-C82B2ED4398C__GUID-1638D67F-33E6-50EA-A122-FA54D08E6213"><!-- --></a><p> <a href="GUID-E2D4973C-FE93-5DE7-B04E-19B7701621C3.html" title="This tutorial describes how to swap calls with the telephony API for applications.">Swap
held and active calls</a>. </p>
 </li>

</ul>
 
</li>

</ol>

</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html" title="The telephony API gives applications access to Telephony services.">Telephony API for Applications</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-6ABEF478-F3DB-524E-A500-9431B42C6665.html" title="This tutorial describes how to handle single call with the telephony API for applications.">Single Call
                Tutorial</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>