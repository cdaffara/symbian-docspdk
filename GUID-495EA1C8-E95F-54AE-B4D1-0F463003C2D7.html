<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="External Surfaces Overview"/>
<meta name="abstract" content="This topic provides an introduction to displaying an external surface on a window. The surface is then known as a background surface. This feature is available in ScreenPlay only."/>
<meta name="description" content="This topic provides an introduction to displaying an external surface on a window. The surface is then known as a background surface. This feature is available in ScreenPlay only."/>
<meta name="DC.Relation" scheme="URI" content="GUID-1C025957-258C-54C0-94A5-AD60C14E6D76.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-57A777A3-5D67-5CBB-B224-B7AD422A451B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0C4B86B5-530A-5839-86C1-46E7ABE281E0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DC5E8C7D-D697-53E8-87F4-344301430E61.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1C025957-258C-54C0-94A5-AD60C14E6D76.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-859CAA08-59C9-5FD3-98DE-6BDD0D6ED50B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-ADA8CECB-0E70-5B9C-8F36-0714AAF0CD13.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1F9A47CE-7F4C-52BD-8823-25D5D1BEF42F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0EBE5733-A267-5F4A-85AD-87C3ECF80731.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-652DA0DD-AB1D-58A4-A6D2-27B5BAA506FF.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>External Surfaces Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2384499 id2384574 id2384588 id2384867 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-57A777A3-5D67-5CBB-B224-B7AD422A451B.html" title="The Windowing collection contains two components—the Window Server, which manages the use of the screen by applications, and the Window Server Plugins component.">Windowing Collection</a> &gt; <a href="GUID-0C4B86B5-530A-5839-86C1-46E7ABE281E0.html" title="The Window Server component manages the use of the screen by applications and handles key and pointer events.">Window Server Component</a> &gt; <a href="GUID-DC5E8C7D-D697-53E8-87F4-344301430E61.html" title="The Window Server client-side library provides client applications with access to the screen and input devices.">Window Server Client-Side Library</a> &gt; <a href="GUID-1C025957-258C-54C0-94A5-AD60C14E6D76.html" title="This section introduces external surfaces, and related APIs and features such as zoom, flipping, rotation and display.">External Surfaces</a> &gt; </div>
<h1 class="topictitle1">External
Surfaces Overview</h1>
<div><p>This topic provides an introduction to displaying an external surface
on a window. The surface is then known as a background surface. This feature
is available in ScreenPlay only. </p>

<p> <strong>Variant</strong>: <a href="GUID-D93978BE-11A3-5CE3-B110-1DEAA5AD566C.html" title="This topic provides an introduction to ScreenPlay and its architecture. ScreenPlay is a new graphics architecture, introduced in Symbian^3 (S^3). ScreenPlay enables device creators to take advantage of improved software performance, hardware acceleration and third party graphics engines. ScreenPlay is sometimes known as the New Graphics Architecture (NGA).">ScreenPlay</a>. <strong>Target
audience</strong>: Device creators. </p>

<p>There are two main use cases for using external surfaces in this way. One
is to display a video, in which case DevVideo renders the content. The other
main use case is an OpenGL ES background surface, in which case the client
issues OpenGL ES rendering commands. This topic covers how to get the surface
onto the screen and not rendering the content to the surface. </p>

<div class="section"><h2 class="sectiontitle"> Key concepts</h2> <p>The following diagram illustrates
some of the key concepts that are used in the documentation of surfaces. </p>
 <div class="fignone" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-F134C262-EC19-5925-A188-2C7C2CD5EEEA"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-F134C262-EC19-5925-A188-2C7C2CD5EEEA"><!-- --></a><span class="figcap">Figure 1. Composition of the UI surface and an external surface, showing the
             viewport and extent</span>

<img src="GUID-2468821F-6C66-5761-AE56-CEC942A2EE95_d0e245918_href.png"/>
</div>
 <dl>

<dt class="dlterm">Graphics surface</dt>

<dd><p>A graphics surface (usually simply called a <em>surface</em>) is a hardware-independent
memory buffer for holding an image or part of a scene. A surface has a set
of attributes, the most important of which is its ID (which is a <a href="GUID-11F60AEB-003B-3E8D-BDB9-D97F698627DF.html"><span class="apiname">TSurfaceId</span></a>). </p>
 </dd>



<dt class="dlterm">UI surface</dt>

<dd><p>The UI surface is a special surface onto which the Window Server renders
all of the UI content. It is created automatically during system start up
and corresponds to the frame buffer in the non-ScreenPlay variant. The UI
surface is semi-transparent and is always the topmost layer.</p>
 </dd>



<dt class="dlterm">External surface</dt>

<dd><p>An external surface is any surface other than the UI surface—for example,
a surface that holds a video or to which OpenGL ES content is rendered. External
surfaces are always opaque. When an external surface is attached to a window,
the Window Server creates a transparent hole in the UI surface to reveal the
external surface. </p>
 </dd>



<dt class="dlterm">Viewport</dt>

<dd><p>The viewport is a rectangular area of an external surface all or part
of which is to be displayed. You can think of the viewport as the source. </p>
 </dd>



<dt class="dlterm">Extent</dt>

<dd><p>The extent is a rectangular area in the composition scene in which
all or part of the viewport is placed. The content of the viewport can be
scaled and rotated within the extent relative to its normal size and orientation.
The extent is normally a window to which the external surface is attached. </p>
 </dd>


</dl>
 <p>The following diagram provides a cross-section view through the surfaces
shown in the previous figure. Notice that the UI surface is the topmost layer
and that it contains a hole through which the external surface
can be seen.</p>
 <div class="fignone" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-4DB99814-988F-5D51-A1A7-E864B6DA6DFB"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-4DB99814-988F-5D51-A1A7-E864B6DA6DFB"><!-- --></a><span class="figcap">Figure 2.               A cross section through the surfaces, showing the display
output            </span>

<img src="GUID-78B63C44-7765-5408-A611-DFE8709196F8_d0e245996_href.png"/>
</div>
 </div>

<div class="section" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-F9D7659B-1325-5DC2-9D7A-9B6C0DFB8A62"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-F9D7659B-1325-5DC2-9D7A-9B6C0DFB8A62"><!-- --></a><h2 class="sectiontitle">Supported Uses</h2> <p>You
can: </p>
 <ul>
<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-97CAD13E-1C70-59FF-B271-F3E77198086A"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-97CAD13E-1C70-59FF-B271-F3E77198086A"><!-- --></a><p>Display an external
surface (for example, video content or a viewfinder image) within a window. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-BD8FFB28-D56C-581B-9E1C-B2BD97FDAFBC"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-BD8FFB28-D56C-581B-9E1C-B2BD97FDAFBC"><!-- --></a><p>Dynamically set or remove
a background surface across multiple windows on the same screen without having
to register and unregister the surface. This reduces resource churn and content
transfer. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-0A3FD92E-7E99-5961-BC5A-3FBB970A7889"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-0A3FD92E-7E99-5961-BC5A-3FBB970A7889"><!-- --></a><p>Reconfigure the attributes
of the surface such as its extent, viewport and orientation, after it is set
as a background. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-6E962607-1E7D-516E-B855-15A1A67923B6"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-6E962607-1E7D-516E-B855-15A1A67923B6"><!-- --></a><p>Reposition the displayed
surface on the window. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-26E561E7-92BB-5EBA-A3B9-F660507A258D"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-26E561E7-92BB-5EBA-A3B9-F660507A258D"><!-- --></a><p>Zoom in and out of the
contents of the surface. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-287D3286-209B-5E01-B1C6-2373A2B07172"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-287D3286-209B-5E01-B1C6-2373A2B07172"><!-- --></a><p>Place the surface content
in a specified window area rather than filling the entire window. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-6F2DCF0C-32D7-53CD-A2DD-4DBE662015B5"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-6F2DCF0C-32D7-53CD-A2DD-4DBE662015B5"><!-- --></a><p>Crop the surface content
rather than using the entire surface. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-8E49A7FB-0709-5127-8C94-104C512EA6AC"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-8E49A7FB-0709-5127-8C94-104C512EA6AC"><!-- --></a><p>Rotate the contents
of the background surface by quadrant angles. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-5631047A-A8AD-59DF-82FF-021964BA571D"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-5631047A-A8AD-59DF-82FF-021964BA571D"><!-- --></a><p>Flip the background
surface from top to bottom and rotate it by 180° to achieve a mirroring effect. </p>
 </li>

</ul>
 <p>The following diagrams shows some surface configuration use cases. </p>
 <div class="fignone" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-FF25ED24-7A3D-5C4B-A711-D6AEA53E972F"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-FF25ED24-7A3D-5C4B-A711-D6AEA53E972F"><!-- --></a><span class="figcap">Figure 3.               Surface configuration use cases            </span>

<img src="GUID-D04DD8E6-804F-539E-8BD1-146210F4A51C_d0e246063_href.png"/>
</div>
 </div>

<div class="section" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-7EAB8F5D-6290-5B63-B396-8A1FAE7D91A5"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-7EAB8F5D-6290-5B63-B396-8A1FAE7D91A5"><!-- --></a><h2 class="sectiontitle"> Configuration</h2> <p>There
are a number of ways in which dynamically updated content can be configured
to appear on a window. </p>
 <p><strong>A single content surface filling the window </strong> </p>
 <p>External
content can be fitted onto a Window Server window. Each axis of the surface
can be stretched independently of the other axis. The window must be a visible
client window: <a href="GUID-683603DD-F3D3-3193-BEB3-8236C7DE7F79.html"><span class="apiname">RWindow</span></a> or <a href="GUID-A5DFCFA7-7B2D-3872-B6D0-4526DF743630.html"><span class="apiname">RBlankWindow</span></a>. </p>
 <p><strong>Placement
of a single surface on a selected area of the window </strong> </p>
 <p>The position
and display size for the external content can be specified as an area within
the Window Server window, rather than filling the window. The window must
be a visible client (<a href="GUID-683603DD-F3D3-3193-BEB3-8236C7DE7F79.html"><span class="apiname">RWindow</span></a> or <a href="GUID-A5DFCFA7-7B2D-3872-B6D0-4526DF743630.html"><span class="apiname">RBlankWindow</span></a>)
as before. You specify the area by using <a href="GUID-59A10068-E37A-37CF-85C9-36D8DA6619FA.html#GUID-59A10068-E37A-37CF-85C9-36D8DA6619FA__GUID-8984E1F8-2807-301D-B82B-A52CC4254B04"><span class="apiname">TSurfaceConfiguration::SetExtent(const
TRect&amp;           aExtent)</span></a>. </p>
 <p>After the extent is specified,
its size does not change if the window size changes but its position moves
to maintain its relative position on the window. </p>
 <p><strong>Clipping of a
surface </strong> </p>
 <p>Video sometimes needs to appear cropped, so that a sub-area
of the video is displayed instead of the full image. The crop viewport is
specified in surface co-ordinates. The cropped viewport fills the output extent
(or the window when the extent is not specified). The content appears scaled
if the size of the viewport does not match the size of the extent (or the
window). </p>
 <p><strong>Scaling </strong> </p>
 <p>It is possible to arbitrarily scale
a surface to user specifications using the extent and viewport features. Each
axis is scaled independently. When the extent and viewport are coincident,
no scaling occurs. Filtering can be applied by the implementation of stretching
and shrinking. </p>
 <p><strong>Rotation </strong> </p>
 <p>The viewport can be displayed
rotated relative to its normal orientation. For example, if there is a fixed
camera on the front of a device and the device is rotated by 90°, the image
captured by the camera needs to be rotated by 90° in the other direction to
get the expected result. The orientation is always relative to the current
device orientation. </p>
 <p><strong>Flipping </strong> </p>
 <p>An external surface can
be flipped from top to bottom around the x axis. </p>
 <p><strong>Atomic combination
of these operations </strong> </p>
 <p>All the above mentioned configurations can
be specified and combined unambiguously for a particular content on a particular
window. You can specify parameters for a combination of these configurations
in a single operation. </p>
 <p><strong>Changing surfaces </strong> </p>
 <p>The surface
assigned to a window can be changed. </p>
 <p><strong>Reconfiguring </strong> </p>
 <p>It
is possible to change the configuration options applied to a surface without
re-assigning the surface. </p>
 <p><strong>Sharing surfaces </strong> </p>
 <p>Content
surfaces are transferable and sharable between windows. </p>
 <p>The initial
registration step ensures that any resources allocated to the content surface
are held while the surface is removed from one window and added to another.
This reduces the likelihood of failure between operations. </p>
 </div>

<div class="section"><h2 class="sectiontitle">API Summary</h2> <p>This section provides a summary of
the classes and functions that you use to manage surfaces: </p>
 <ul>
<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-D7C9343C-BFAB-5153-B3E6-E5EBA5859570"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-D7C9343C-BFAB-5153-B3E6-E5EBA5859570"><!-- --></a><p><a href="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7.html#GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-3E1EF2ED-7E9C-541F-A439-F2CBA5B6F211">RWindowBase</a>  </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-5AD3B9D5-60E8-5A2A-9C6B-4C914540FE9E"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-5AD3B9D5-60E8-5A2A-9C6B-4C914540FE9E"><!-- --></a><p><a href="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7.html#GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-1DC9E4DF-248F-59A6-92A9-F756F73414B3">TSurfaceConfiguration</a>  </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-2627F547-B979-5682-A69A-97D89969F9B3"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-2627F547-B979-5682-A69A-97D89969F9B3"><!-- --></a><p><a href="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7.html#GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-E2A62988-58F8-5021-BA44-25AE3C3D95B5">RWsSession</a>  </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-3E1EF2ED-7E9C-541F-A439-F2CBA5B6F211"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-3E1EF2ED-7E9C-541F-A439-F2CBA5B6F211"><!-- --></a><h2 class="sectiontitle">RWindowBase </h2> <ul>
<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-7A5D0A6F-C0B6-5D87-B0F4-99C92FA8227B"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-7A5D0A6F-C0B6-5D87-B0F4-99C92FA8227B"><!-- --></a><p> <samp class="codeph">SetBackgroundSurface(const
TSurfaceConfiguration                 &amp;,TBool)</samp> sets the background
of the window to be a given surface. The <a href="GUID-59A10068-E37A-37CF-85C9-36D8DA6619FA.html"><span class="apiname">TSurfaceConfiguration</span></a> argument
contains the surface ID and the configuration attributes. Another form of
the function simply takes a surface ID as an argument, which provides less
control and auto-stretches the surface to fill the window. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-C86F37F7-5017-56F3-9B14-E3B8E0EC0E8A"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-C86F37F7-5017-56F3-9B14-E3B8E0EC0E8A"><!-- --></a><p> <samp class="codeph">RemoveBackgroundSurface()</samp> removes
any background surface that has been set to the window. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-11ABFBDE-556F-5096-810E-6BBA2C81C4B1"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-11ABFBDE-556F-5096-810E-6BBA2C81C4B1"><!-- --></a><p> <samp class="codeph">GetBackgroundSurface()</samp> retrieves
a copy of the current configuration for the background surface attached to
the window. </p>
 </li>

</ul>
 <p>See <a href="GUID-1460DD8F-9AA1-3B99-8FFD-F309959CCA34.html"><span class="apiname">RWindowBase</span></a>. </p>
 </div>

<div class="section" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-1DC9E4DF-248F-59A6-92A9-F756F73414B3"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-1DC9E4DF-248F-59A6-92A9-F756F73414B3"><!-- --></a><h2 class="sectiontitle"> TSurfaceConfiguration</h2> <p>This
class encapsulates the surface configuration attributes that can be specified
while setting the background surface of a window. If the values for the attributes
are not set, the default values for the corresponding attribute are used. </p>
 <p>Symbian
recommends that the client validates the surface configuration data before
passing it on to the server. Invalid data that inadvertently slips through
the client-side validation mechanism, or maliciously bypasses it, causes a
panic. </p>
 <p>See <a href="GUID-59A10068-E37A-37CF-85C9-36D8DA6619FA.html"><span class="apiname">TSurfaceConfiguration</span></a>. </p>
 </div>

<div class="section" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-E2A62988-58F8-5021-BA44-25AE3C3D95B5"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-E2A62988-58F8-5021-BA44-25AE3C3D95B5"><!-- --></a><h2 class="sectiontitle"> RWsSession</h2> <ul>
<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-B1A1CE19-6E12-5BA7-B79A-A6D7C44F5920"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-B1A1CE19-6E12-5BA7-B79A-A6D7C44F5920"><!-- --></a><p> <samp class="codeph">RegisterSurface()</samp> registers
a surface for use in composition on the screen associated with this device
within this session. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-6678C53D-F0B5-5ADD-BCC7-43FC31E81FEE"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-6678C53D-F0B5-5ADD-BCC7-43FC31E81FEE"><!-- --></a><p> <samp class="codeph">UnregisterSurface()</samp> removes
the surface from the session’s register of surfaces that are used in composition
on the screen associated with this device. </p>
 </li>

<li id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-9F5FF304-794C-5BC3-B16E-F036C859F1E2"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-9F5FF304-794C-5BC3-B16E-F036C859F1E2"><!-- --></a><p> <samp class="codeph">PreferredSurfaceConfigurationSize()</samp> returns
the window server’s preferred size for the <samp class="codeph">TSurfaceConfiguration</samp> object,
used for <a href="GUID-683603DD-F3D3-3193-BEB3-8236C7DE7F79.html#GUID-683603DD-F3D3-3193-BEB3-8236C7DE7F79__GUID-AC4FBD36-8CC7-3191-B266-1805DEDE6D50"><span class="apiname">RWindow::SetBackgroundSurface()</span></a>. </p>
 </li>

</ul>
 <p>See <a href="GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html"><span class="apiname">RWsSession</span></a>. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Example</h2> <p>This code snippet is provided for illustrative
purposes only. A Window Server client application wants to run a 3D game full-screen
at the native physical resolution of the display (either current or selected
using a display controlling system application). This example assumes that
the <a href="GUID-BA6FEFAE-8891-3286-A38F-2EA522D7A27E.html"><span class="apiname">MDisplayMapping</span></a> interface has already been obtained,
as shown in <a href="GUID-B1CB6374-2C2B-5D6C-9A7C-6E49D8F235B8.html" title="ScreenPlay provides support for externally connected displays, such as TV-out. Previous versions of Symbian and the non-ScreenPlay variant consider the size of each display to be fixed, assuming it to be built into the phone. However, for High-Definition Multimedia Interface (HDMI) and composite video connectors, there is a range of resolutions that can change dynamically. ScreenPlay provides an optional feature that supports switching between resolutions at runtime and notifies Window Server clients when there are changes to the resolution and connectedness.">Display
Control and Mapping in the Window Server Client</a>. </p>
 <pre class="codeblock" id="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-DE5C6DB0-1096-5BA3-8BB7-78AE3B6619B1"><a name="GUID-495EA1C8-E95F-54AE-B4D1-0F463003C2D7__GUID-DE5C6DB0-1096-5BA3-8BB7-78AE3B6619B1"><!-- --></a>// Establish connection and get display mapping interface.
RWindowGroup group = RWindowGroup(iSession);
RWindow window(iSession);
    
group.Construct(1, iScreenDevice);
window.Construct(group, 2);
    
TRect winExtent;
iDisplayMapping.GetMaximumWindowExtent(winExtent);
window.SetExtent(winExtent);
    
// Map window size to composition coordinates
TRect surfaceExtent;
iDisplayMapping.MapCoordinates(EApplicationSpace, winExtent,
    ECompositionSpace, surfaceExtent);
    
RSurfaceManager::TSurfaceCreationAttributes attribs;
attribs.iSize = surfaceExtent.Size();
    
// Set up other attributes and create surface
    
window.SetBackgroundSurface(surface);
    
window.Activate();
</pre>
 <p>A similar approach can be used by other surface content providers,
such as video. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-1C025957-258C-54C0-94A5-AD60C14E6D76.html" title="This section introduces external surfaces, and related APIs and features such as zoom, flipping, rotation and display.">External Surfaces</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-859CAA08-59C9-5FD3-98DE-6BDD0D6ED50B.html">Graphics
Composition</a></div>
<div><a href="GUID-ADA8CECB-0E70-5B9C-8F36-0714AAF0CD13.html" title="This topic provides an introduction to graphics composition surfaces, which are usually simply called surfaces. Surfaces are pixel buffers that have associated metadata describing the width, height, stride and pixel format and are used as input to the composition components. Surfaces can be multi-buffered and are identified by a 128-bit identifier (called the surface ID).">Graphics Surfaces</a></div>
<div><a href="GUID-1F9A47CE-7F4C-52BD-8823-25D5D1BEF42F.html" title="This section introduces some important concepts that relate to the Window Server client-side library.">Window Server
Client-Side Library Concepts</a></div>
<div><a href="GUID-0EBE5733-A267-5F4A-85AD-87C3ECF80731.html" title="ScreenPlay provides support for externally connected displays, such as TV-out. Previous versions of Symbian and the non-ScreenPlay variant consider the size of all displays to be fixed, assuming them to be built into the phone. However, for High-Definition Multimedia Interface (HDMI) and composite video connectors, there is a range of resolutions that can change dynamically. ScreenPlay provides an optional feature that supports switching between resolutions at runtime.">Dynamic Resolution
Switching</a></div>
<div><a href="GUID-652DA0DD-AB1D-58A4-A6D2-27B5BAA506FF.html" title="This topic provides an example of flipping and rotating a surface in order to mirror the camera viewfinder during video telephony.">Flipping
and Rotating an External  Surface</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>