<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Setting Up A Log Engine Client"/>
<meta name="abstract" content="This tutorial describes how to set up a Log Engine client."/>
<meta name="description" content="This tutorial describes how to set up a Log Engine client."/>
<meta name="DC.Relation" scheme="URI" content="GUID-132DBA2F-B913-5565-9720-015777630C22.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-45A03C42-652C-59BD-9A21-6346A96310DB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5B63D14D-007D-566F-A065-1A25FE4B97A3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-132DBA2F-B913-5565-9720-015777630C22.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BE65B3A7-04E8-5406-B46A-09E2608E0F1F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-55ECBCF5-FC29-5A4A-A3C6-1CB1C0D562CE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BCB0E50F-B22E-5964-BB68-BEE1870D9C79.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2022F702-9899-5798-8932-D70119C7177D"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Setting Up A Log Engine Client</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-2022F702-9899-5798-8932-D70119C7177D"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860103 id2860112 id2860132 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-45A03C42-652C-59BD-9A21-6346A96310DB.html" title="This section provides details about the Log Engine. The Log Engine records various events from operating system components.">Logging Services</a> &gt; <a href="GUID-5B63D14D-007D-566F-A065-1A25FE4B97A3.html" title="This section describes the Log Engine.">Log Engine</a> &gt; <a href="GUID-132DBA2F-B913-5565-9720-015777630C22.html" title="This topic provides tutorials about the log engine.">Log Engine Tutorials</a> &gt; </div>
<h1 class="topictitle1">Setting
Up A Log Engine Client </h1>
<div><p>This tutorial describes how to set up a Log Engine client. </p>

<div class="section" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-4EAACF43-7B17-522C-A617-96C15971EBCA"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-4EAACF43-7B17-522C-A617-96C15971EBCA"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>If
you are certain that you are coding for a platform with logging functionality
you create a custom class with some such name as <a href="GUID-3016DE27-6C94-3119-B174-831B67B09B27.html"><span class="apiname">CMyLogEngine</span></a>.
It should have members of the classes <a href="GUID-51C67545-12BA-326D-BD8F-662B24C68ED2.html"><span class="apiname">CLogClient</span></a>, <a href="GUID-3A3E6F09-0F78-38E1-95F5-00C743F41073.html"><span class="apiname">CLogViewEvent</span></a>, <a href="GUID-F40F9556-F223-36A5-9812-6EF6FF3F5156.html"><span class="apiname">CLogViewRecent</span></a> and <a href="GUID-99144BA6-F79A-3D3C-B1D3-272B3723C42C.html"><span class="apiname">CLogFilter</span></a> and an observer of some kind. The functions of your
custom class will use the functionality of these classes by calls to the member
objects. </p>
 <p>If you are not certain that your platform will provide logging
functionality you must use a log wrapper framework. Write a custom class to
use the log wrapper functionality with some such name as <samp class="codeph">myLogWrapper</samp>.
It should have two members which own <a href="GUID-146D719E-BDD6-3F20-80B1-EDE09081A6EA.html"><span class="apiname">CLogWrapper</span></a> and <a href="GUID-51C67545-12BA-326D-BD8F-662B24C68ED2.html"><span class="apiname">CLogClient</span></a> objects.
In the constructor function of <samp class="codeph">myLogWrapper</samp> call the <a href="GUID-51862DAE-2285-352F-B66E-B2544638E30E.html"><span class="apiname">ClientAvailable()</span></a> function
of <a href="GUID-146D719E-BDD6-3F20-80B1-EDE09081A6EA.html"><span class="apiname">CLogWrapper</span></a> to determine whether logging functionality
is present. If so, construct the <a href="GUID-51C67545-12BA-326D-BD8F-662B24C68ED2.html"><span class="apiname">CLogClient</span></a> member: if
not, leave. The effect of this is that calls to the log client functionality
of <samp class="codeph">myLogWrapper</samp> will access an actual log client if the functionality
is available. However, if the functionality is not available calls to the
log client functionality will either have no effect or else leave as in this
example code. </p>
 </div>

<div class="section" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-00974547-A3DC-442C-B50C-1C8E7180B8A4"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-00974547-A3DC-442C-B50C-1C8E7180B8A4"><!-- --></a><h2 class="sectiontitle">Procedure</h2> <a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-F8F83C3B-A722-5C79-B286-F48F51019524"><!-- --></a><ol id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-F8F83C3B-A722-5C79-B286-F48F51019524">
<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-7F2D3FBF-E541-530D-9A56-3C49A1D006E2"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-7F2D3FBF-E541-530D-9A56-3C49A1D006E2"><!-- --></a><p>Create a custom class <a href="GUID-3016DE27-6C94-3119-B174-831B67B09B27.html"><span class="apiname">CMyLogEngine</span></a>  </p>
 </li>

<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-DFCDEC1F-3B62-5A65-97DB-E63DC68BFEED"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-DFCDEC1F-3B62-5A65-97DB-E63DC68BFEED"><!-- --></a><p>Declare the members <a href="GUID-51C67545-12BA-326D-BD8F-662B24C68ED2.html"><span class="apiname">CLogClient</span></a>, <a href="GUID-3A3E6F09-0F78-38E1-95F5-00C743F41073.html"><span class="apiname">CLogViewEvent</span></a>, <a href="GUID-F40F9556-F223-36A5-9812-6EF6FF3F5156.html"><span class="apiname">CLogViewRecent</span></a> and <a href="GUID-99144BA6-F79A-3D3C-B1D3-272B3723C42C.html"><span class="apiname">CLogFilter</span></a> in the header
file of the client application </p>
 </li>

<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-3471D668-8369-5458-B436-FD8344988065"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-3471D668-8369-5458-B436-FD8344988065"><!-- --></a><p>Declare <a href="GUID-BD2669C7-AE36-3AA8-AAAE-A2F01A319369.html"><span class="apiname">ConstrucL()</span></a> function
in the header file of the client application </p>
 </li>

<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-5B55236A-F7C8-54FB-B0E9-D3CAC99ADDF0"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-5B55236A-F7C8-54FB-B0E9-D3CAC99ADDF0"><!-- --></a><p>Implement <a href="GUID-C8E0575D-5A7F-3D00-9BE5-AD8D6DBCF2F7.html"><span class="apiname">ConstructL()</span></a> function </p>
 <a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-B6FFC684-372C-5FC3-9035-B7A0FF4B884E"><!-- --></a><ol type="a" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-B6FFC684-372C-5FC3-9035-B7A0FF4B884E">
<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-8FAB2EEA-79D9-5572-B2F2-15057B860366"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-8FAB2EEA-79D9-5572-B2F2-15057B860366"><!-- --></a><p>Establish a connection
to the Log Engine </p>
 <div class="p"><pre class="codeblock" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-CDFA500C-FB18-5713-B4F9-7D355D107122"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-CDFA500C-FB18-5713-B4F9-7D355D107122"><!-- --></a>    iLogClient = CLogClient::NewL(iFs);</pre>
 </div>
 </li>

<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-E8DFFAD0-506E-5752-B51D-52153AEADD37"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-E8DFFAD0-506E-5752-B51D-52153AEADD37"><!-- --></a><p>get the log events using <samp class="codeph">CLogViewEvent</samp>  </p>
 <div class="p"><pre class="codeblock" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-55F3DE8A-FAC5-5C9F-8931-55CA7838A8F2"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-55F3DE8A-FAC5-5C9F-8931-55CA7838A8F2"><!-- --></a>iLogViewEvent = CLogViewEvent::NewL(*iLogClient);</pre>
 </div>
 </li>

<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-7CF80109-CA54-549F-A46D-3C950DAC1711"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-7CF80109-CA54-549F-A46D-3C950DAC1711"><!-- --></a><p>get the log of recent
events using <a href="GUID-F40F9556-F223-36A5-9812-6EF6FF3F5156.html"><span class="apiname">CLogViewRecent</span></a>  </p>
 <div class="p"><pre class="codeblock" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-3406E92A-432B-57E6-B6A2-3D63C4EC0B72"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-3406E92A-432B-57E6-B6A2-3D63C4EC0B72"><!-- --></a>iLogViewRecent = CLogViewRecent::NewL(*iLogClient);</pre>
 </div>
 </li>

<li id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-F9DB43F5-F69D-50D1-B287-EFC85DA9828E"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-F9DB43F5-F69D-50D1-B287-EFC85DA9828E"><!-- --></a><p>add a log filter using <a href="GUID-99144BA6-F79A-3D3C-B1D3-272B3723C42C.html"><span class="apiname">CLogFilter</span></a>  </p>
 <div class="p"><pre class="codeblock" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-F90E0B70-AC53-54B9-93B4-26B33A919B33"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-F90E0B70-AC53-54B9-93B4-26B33A919B33"><!-- --></a>iLogFilter = CLogFilter::NewL();</pre>
 </div>
 </li>

</ol>
 </li>

</ol>
 </div>

<div class="section" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-BE0D8C52-2FCA-45F2-9BEF-42D5F8CCD4F9"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-BE0D8C52-2FCA-45F2-9BEF-42D5F8CCD4F9"><!-- --></a><h2 class="sectiontitle">Result</h2> <p>The
client applications can use the log events to be displayed to the user or
for other used as a data for further processing. </p>
 </div>

<div class="example" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-22EAC40F-881C-5AC0-B919-016E502CC7E6"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-22EAC40F-881C-5AC0-B919-016E502CC7E6"><!-- --></a><h2 class="sectiontitle">Log engine
client example</h2> <p>Example code for a Log Engine client on a platform
with logging functionality </p>
 <pre class="codeblock" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-2C393B78-BAA0-5893-9A6A-9DC9D76749B6"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-2C393B78-BAA0-5893-9A6A-9DC9D76749B6"><!-- --></a>void CMyLogEngine::ConstructL()
    {
    
    // Establish connection to log engine
    iLogClient = CLogClient::NewL(iFs);
 
    // Log view and view for recent events with standard priority
    iLogViewEvent = CLogViewEvent::NewL(*iLogClient);
    iLogViewRecent = CLogViewRecent::NewL(*iLogClient);

    // Filter for events
    iLogFilter = CLogFilter::NewL();
</pre>
 <p>Example code for a Log Engine client using a wrapper framework </p>
 <pre class="codeblock" id="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-A409E255-3B0B-51C9-9633-010608E07122"><a name="GUID-2022F702-9899-5798-8932-D70119C7177D__GUID-A409E255-3B0B-51C9-9633-010608E07122"><!-- --></a>void CMyLogWrapper::ConstructL(RFs&amp; aFs)
     {
     
     // create the CLogWrapper to forward requests to.
     iLogWrapper = CLogWrapper::NewL(aFs);
 
     if (iLogWrapper-&gt;ClientAvailable())
         {
         iLogClient = static_cast&lt;CLogClient*&gt;(&amp;iLogWrapper-&gt;Log());
         }
     else
         {
         User::Leave(KErrNotSupported);
         }
     }

</pre>
 <p>You can now use <samp class="codeph">myLogWrapper</samp> as if it was
a log client. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-132DBA2F-B913-5565-9720-015777630C22.html" title="This topic provides tutorials about the log engine.">Log Engine Tutorials</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6.html" title="This tutorial describes how to maintain events using Log Engine.">Maintaining
Log Events</a></div>
<div><a href="GUID-BE65B3A7-04E8-5406-B46A-09E2608E0F1F.html" title="This tutorial describes how to request notification from Log Engine.">Requesting
Log Engine Notifications</a></div>
<div><a href="GUID-55ECBCF5-FC29-5A4A-A3C6-1CB1C0D562CE.html" title="This tutorial describes how to display log events.">Displaying
Log Events</a></div>
<div><a href="GUID-BCB0E50F-B22E-5964-BB68-BEE1870D9C79.html" title="This tutorial describes how to configure Log Engine using TLogConfig class.">Configuring
Log Engine </a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>