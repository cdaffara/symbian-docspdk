<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Class types"/>
<meta name="DC.Relation" scheme="URI" content="GUID-35D7EEFC-B2E4-5444-8875-2A24790E08C2.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-35D7EEFC-B2E4-5444-8875-2A24790E08C2.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Class types</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id1198324 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-35D7EEFC-B2E4-5444-8875-2A24790E08C2.html">Essential Idioms</a> &gt; </div>
<h1 class="topictitle1">Class types</h1>
<div><p>The Symbian platform uses four general kinds of class, and uses naming conventions to indicate to which kind a class belongs. </p>
 <p>The kinds are: </p>
 <ul><li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-D8338E4A-1EF1-5EFC-88EB-4709663F9A00"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-D8338E4A-1EF1-5EFC-88EB-4709663F9A00"><!-- --></a><p>value classes, or types, whose name begins with <samp class="codeph">T</samp>. They do not own any external object, either directly (by pointer) or indirectly (by handle). </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-04DA916C-7E54-519E-BDAA-70FD40464051"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-04DA916C-7E54-519E-BDAA-70FD40464051"><!-- --></a><p>heap-allocated classes, whose name begins with <samp class="codeph">C</samp>. All such classes are derived from class <samp class="codeph">CBase</samp>. </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-ACB1D77E-7256-50D1-AFDB-2E9C70EC1662"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-ACB1D77E-7256-50D1-AFDB-2E9C70EC1662"><!-- --></a><p>resource classes, whose name begins with <samp class="codeph">R</samp>. <samp class="codeph">R</samp> objects are handles to a real resource which is maintained elsewhere. </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-B97DC80C-5261-5774-A6FF-531595770631"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-B97DC80C-5261-5774-A6FF-531595770631"><!-- --></a><p>interface classes, whose name begins with <samp class="codeph">M</samp>. They define abstract protocol definitions that are implemented by derived classes. </p>
 </li>
 </ul>
 <p>These types are closely related to the requirements of cleanup support, which is described in more detail in <a href="GUID-E93E577A-0BDF-5472-B79F-DA60841C30CC.html" title="This document describes the requirements for cleanup after a function leaves.">Cleanup requirements</a>. </p>
 <div class="section" id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-A2117C25-ED3E-59E9-AAFA-B057837130B7"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-A2117C25-ED3E-59E9-AAFA-B057837130B7"><!-- --></a><h2 class="sectiontitle">Value types: T classes</h2> <p>The most fundamental types are value types. These are given type, or class, names beginning with <samp class="codeph">T</samp>. </p>
 <ul><li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-6D34C2A2-FEA1-5E9F-9CBD-0E85DDB764B9"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-6D34C2A2-FEA1-5E9F-9CBD-0E85DDB764B9"><!-- --></a><p> <samp class="codeph">T</samp> types contain their value. They do not own any external object, either directly (by pointer) or indirectly (by handle). </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-A7A8D552-929D-50D1-83F0-19D92852C144"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-A7A8D552-929D-50D1-83F0-19D92852C144"><!-- --></a><p> <samp class="codeph">T</samp> types may be allocated either on the stack (C++ automatic variables) or as members of other classes. </p>
 </li>
 </ul>
 <p>The consequences of these fundamental characteristics are explored below. </p>
 <p><strong>Constructor</strong> </p>
 <p>Many <samp class="codeph">T</samp> types are simple enough not to need a constructor. Those that do, use the constructor to initialise member data. </p>
 <p><strong>Copy constructor and assignment operator</strong> </p>
 <p>A copy constructor (<samp class="codeph">TX(const TX&amp;)</samp>) or assignment operator (<samp class="codeph">TX&amp; operator=(const TX&amp;)</samp>) are rarely needed. This is because copying is always shallow, and almost always involves only a memberwise copy of the source <samp class="codeph">T</samp> object to the destination. This is the default behaviour for the compiler-generated C++ copy constructor and assignment operator. </p>
 <p>These functions may be needed if the <samp class="codeph">T</samp> class is a templated class, parameterised by an integer length, which is also contained as a member of the class. Then, copying or assigning a <samp class="codeph">TX&lt;32&gt;</samp> to a <samp class="codeph">TX&lt;40&gt;</samp> would require more sophistication than a bitwise copy, so a copy constructor and assignment operator would have to be explicitly coded. </p>
 <p><strong>Destructor</strong> </p>
 <p> <samp class="codeph">T</samp> types have no C++ destructor. None is needed, because no external resources need to be cleaned up when a <samp class="codeph">T</samp> object goes out of scope. </p>
 <p><strong>Orphaning</strong> </p>
 <p> <samp class="codeph">T</samp> types may safely be orphaned on the stack. Orphaning implies that the memory is deallocated without calling the destructor. Because <samp class="codeph">T</samp> types do not own external resources, no external resources can become inaccessible when a <samp class="codeph">T</samp> object is orphaned. </p>
 <p><strong>Function arguments</strong> </p>
 <p> <samp class="codeph">T</samp> types may be passed by value, as well as by reference, in function arguments. </p>
 <p><strong>Data members</strong> </p>
 <p> <samp class="codeph">T</samp> types may contain other <samp class="codeph">T</samp> type objects. In addition, they may contain <samp class="codeph">R</samp> objects, or pointers to <samp class="codeph">C</samp> objects, provided these objects are owned by another class or function, which is responsible for these objects’ cleanup. In practice, this rarely occurs. </p>
 <p><strong>Built-in C++ types</strong> </p>
 <p>All built-in C++ types satisfy the criteria for <samp class="codeph">T</samp> classes. Built-in types are given <samp class="codeph">typedef</samp> names beginning with <samp class="codeph">T</samp>, e.g. <samp class="codeph">TInt</samp>. </p>
 </div>
 <div class="section" id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-D959B368-F735-5885-9D1F-1FB9B6B52810"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-D959B368-F735-5885-9D1F-1FB9B6B52810"><!-- --></a><h2 class="sectiontitle">Standard class hierarchy: C classes and class CBase</h2> <p>Most classes that are not <samp class="codeph">T</samp> classes are <samp class="codeph">C</samp> classes, which are derived, directly or indirectly, from class <samp class="codeph">CBase</samp>. </p>
 <p> <samp class="codeph">CBase</samp> -derived classes have the following properties: </p>
 <ul><li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-6C85FF48-ED87-577C-8F6E-A3DF2F2BF2C1"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-6C85FF48-ED87-577C-8F6E-A3DF2F2BF2C1"><!-- --></a><p>they are allocated on the heap not on the stack, and not as members of other classes </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-C38F15C6-BB1F-594B-880E-E91F6B2B5F6B"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-C38F15C6-BB1F-594B-880E-E91F6B2B5F6B"><!-- --></a><p>the allocator used for this class hierarchy initialises all member data to binary zeroes </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-6D320CFE-5146-5729-81BC-177A1D72AD8D"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-6D320CFE-5146-5729-81BC-177A1D72AD8D"><!-- --></a><p>they are passed by pointer, or reference, and so do not need an explicit copy constructor or assignment operator unless there is clear intention that a particular class support copying </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-92936C23-C4A4-5526-85B5-72B16EDD8D85"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-92936C23-C4A4-5526-85B5-72B16EDD8D85"><!-- --></a><p>they have non-trivial construction and, because of the possibility that a leave might occur during the construction process, a two-phase construction protocol is used, in which the C++ constructor is only used for aspects of construction which cannot leave, and a <samp class="codeph">ConstructL()</samp> function is used for aspects of construction which might leave </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-8AB4B4B3-2BD6-5468-800A-FEC53CA269CC"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-8AB4B4B3-2BD6-5468-800A-FEC53CA269CC"><!-- --></a><p>they have a virtual destructor, which is used for standard cleanup processing </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-ED392BD1-22F4-5724-B2EE-A4CCEFD15E2F"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-ED392BD1-22F4-5724-B2EE-A4CCEFD15E2F"><!-- --></a><p>because of the virtual destructor, it is simple to support cleanup of <samp class="codeph">C</samp> objects using the cleanup stack; additionally, because <samp class="codeph">C</samp> objects are allocated on the heap, they <em>must</em> be cleaned up if a leave occurs: this imposes a requirement for cleanup consciousness when dealing with all <samp class="codeph">C</samp> classes </p>
 </li>
 </ul>
 <p>The requirements of <samp class="codeph">C</samp> classes are documented in <a href="GUID-5EBA3C03-2E4E-5DBA-BB5B-0D40DAB3C39B.html" title="This document introduces two phase construction.">Two Phase Construction</a>. </p>
 </div>
 <div class="section" id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-313E6618-D75E-56DE-952C-C8F78116360A"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-313E6618-D75E-56DE-952C-C8F78116360A"><!-- --></a><h2 class="sectiontitle">Resource types: R classes</h2> <p> <samp class="codeph">R</samp> classes are proxies for objects owned elsewhere. There are two main motivations for this: </p>
 <ul><li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-2D062038-0D0C-5621-B8C4-F048DA2494A8"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-2D062038-0D0C-5621-B8C4-F048DA2494A8"><!-- --></a><p>the real object is owned by a server in a different thread or address space, or </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-9FD2364F-E438-58D1-A149-CCE40B0FD925"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-9FD2364F-E438-58D1-A149-CCE40B0FD925"><!-- --></a><p>the real object’s implementation must be hidden from the client </p>
 </li>
 </ul>
 <p>The following are key characteristics of <samp class="codeph">R</samp> objects: </p>
 <ul><li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-4F15304D-68BB-5D44-8368-739A94E0FE79"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-4F15304D-68BB-5D44-8368-739A94E0FE79"><!-- --></a><p>they contain a handle that is used to pass on requests to other objects </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-5EA19A65-928E-5182-8420-34DF63CC9AAC"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-5EA19A65-928E-5182-8420-34DF63CC9AAC"><!-- --></a><p>they are opened using an "open" function particular to the <samp class="codeph">R</samp> class, and closed using a "close" function particular to the class. An <samp class="codeph">R</samp> object must be closed once if it has been opened. Generally, the resource associated with an <samp class="codeph">R</samp> object is closed automatically if the thread which opened the object terminates. </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-C44F1410-5B08-5BE4-95F3-BCB83A25F847"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-C44F1410-5B08-5BE4-95F3-BCB83A25F847"><!-- --></a><p>they may be freely bitwise copied </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-52691656-81E8-5649-A9CA-86DE175D45AD"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-52691656-81E8-5649-A9CA-86DE175D45AD"><!-- --></a><p>they have no explicit constructor, destructor, copy constructor or assignment operator </p>
 </li>
 </ul>
 <p> <samp class="codeph">R</samp> classes use a variety of protocols to meet these needs: </p>
 <ul><li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-EF4E2F44-15BB-5F47-B3BB-B5BC1C1336A1"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-EF4E2F44-15BB-5F47-B3BB-B5BC1C1336A1"><!-- --></a><p>the nature of the handle may differ from <samp class="codeph">R</samp> class to <samp class="codeph">R</samp> class </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-1C83B717-29EE-5AFA-9051-DF75BA12A425"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-1C83B717-29EE-5AFA-9051-DF75BA12A425"><!-- --></a><p>there is no common base class for all <samp class="codeph">R</samp> classes </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-9B8AA46E-0441-5F75-A7E6-63A8C1A7967E"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-9B8AA46E-0441-5F75-A7E6-63A8C1A7967E"><!-- --></a><p>the initialisation function has a variety of names: also possible are <samp class="codeph">Open()</samp>, <samp class="codeph">Create()</samp>, <samp class="codeph">Allocate()</samp>, etc. </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-098D9747-C0BD-5866-B43F-B930100D1D46"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-098D9747-C0BD-5866-B43F-B930100D1D46"><!-- --></a><p>the termination function has a variety of names: also possible are <samp class="codeph">Close()</samp>, <samp class="codeph">Destroy()</samp>, <samp class="codeph">Free()</samp>, etc. </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-60F5ED1D-9D66-5BB2-B232-97AAD4B0DB07"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-60F5ED1D-9D66-5BB2-B232-97AAD4B0DB07"><!-- --></a><p>since <samp class="codeph">R</samp> classes own external resources, there is a requirement for cleanup: this is handled in various ways depending on the class </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">Inteface types: M classes</h2> <p> <samp class="codeph">M</samp> classes define abstract protocols, or interfaces. Concrete implementations of an interface defined by an <samp class="codeph">M</samp> class are provided by derived protocol provider classes. </p>
 <p> <samp class="codeph">M</samp> classes have the following restrictions: </p>
 <ul><li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-01C1BC0A-3C9F-5D28-8601-817B7180022B"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-01C1BC0A-3C9F-5D28-8601-817B7180022B"><!-- --></a><p>they should contain no member data </p>
 </li>
 <li id="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-DB75508B-E563-5D16-9687-2759E212BC5B"><a name="GUID-2458916B-55B2-5E08-A825-4EBDB3503E67__GUID-DB75508B-E563-5D16-9687-2759E212BC5B"><!-- --></a><p>they should not contain constructors or destructors, or overloaded operators such as <samp class="codeph">=</samp>  </p>
 </li>
 </ul>
 <p> <samp class="codeph">M</samp> classes often contain pure virtual functions that define a fully abstract interface. Some <samp class="codeph">M</samp> classes implement some or all member functions, though within the restrictions given above. </p>
 <p> <samp class="codeph">M</samp> classes are the only use of multiple inheritance on the Symbian platform. For details of this, see <a href="GUID-9E0DCB19-5775-5E23-B758-163D747A71C9.html">Multiple inheritance and interfaces</a>. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-35D7EEFC-B2E4-5444-8875-2A24790E08C2.html">Essential Idioms</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>