<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CAnim"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-029C644B-BE0F-37C6-95E2-D27F974E6AD3"/>

<title>CAnim</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-029C644B-BE0F-37C6-95E2-D27F974E6AD3"><a name="GUID-029C644B-BE0F-37C6-95E2-D27F974E6AD3"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2545618 id2556185 id2556190 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CAnim Class Reference</h1>
	<table class="signature"><tr><td>class CAnim : public CBase</td></tr></table><div class="section"><div>
			<p>Server side animated object base interface.</p>

			<p>Animations implement this interface, which is called by the window server to pass commands from clients, perform a step in the animation, or to pass window server events (if required) so that the animation can handle them before the application.</p>

			<p>The functions are all pure virtual, and must be implemented in the derived class to provide server side behaviour. The functions will be called by the window server with optional arguments passed in from the client side animation class <a href="GUID-4180CDBA-E9A5-3A4B-9778-26D172FAFD10.html#GUID-4180CDBA-E9A5-3A4B-9778-26D172FAFD10">RAnim</a>.</p>

			<p>You should derive from <a href="GUID-70AB2433-00C7-3E49-BD6A-CC90E20DA7AE.html#GUID-70AB2433-00C7-3E49-BD6A-CC90E20DA7AE">CWindowAnim</a>, <a href="GUID-BC3E6CD0-4678-36F6-B4D3-AEE4C6672AAE.html#GUID-BC3E6CD0-4678-36F6-B4D3-AEE4C6672AAE">CFreeTimerWindowAnim</a> or <a href="GUID-D49CF183-BD61-3E3E-A77F-C63845E6F0DF.html#GUID-D49CF183-BD61-3E3E-A77F-C63845E6F0DF">CSpriteAnim</a>, depending on whether the animation is to draw to a sprite or a window, rather than directly from this class.</p>

			<p>The derived class is constructed in the DLL factory class <a href="GUID-9E598CDA-6483-3AE3-ABFF-0F701A47AB84.html#GUID-02031921-85A2-3EC8-85C5-2C9548087395">CAnimDll::CreateInstanceL()</a> function.</p>

			<p>The operation to perform an animation step is called by the window server on a timer. The timing properties are set through an <a href="GUID-FFE76181-A701-374B-82AA-CEACC5856E91.html#GUID-FFE76181-A701-374B-82AA-CEACC5856E91">MAnimGeneralFunctions</a> member, which also provides other utility functions.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CAnim<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-991C927D-7191-301D-B781-68BF70C87616">Animate</a>(<a href="GUID-13A9DD2B-8ABC-3D62-B54E-4F5DD5B9228B.html">TDateTime</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-4157B6B7-6C3B-3FD6-A50E-70E4B31FE75E">Command</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-25CB52EE-9F0C-3F6A-AD3D-889CBD9326EB">CommandReplyL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-470BFAE3-BA34-3107-B987-BB8D1E2CCFE0">HandleNotification</a>(const <a href="GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31.html">TWsEvent</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-43EA9A73-21FF-34C5-87A6-5F12B94A04F1">CAnim</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-204EE81E-4D03-36BB-94FA-98CECD5EDC78">Reserved1</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-95558780-EA6E-3F92-AC23-DD6F0AE0B4FB">Reserved2</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D9B0F4CA-E302-3DC3-BE74-E436B2633FC3">Reserved3</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FFE76181-A701-374B-82AA-CEACC5856E91.html">MAnimGeneralFunctions</a> *</td><td><a href="#GUID-84AC5A03-BDA6-3282-92D3-9CE06AF02F90">iFunctions</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-43EA9A73-21FF-34C5-87A6-5F12B94A04F1"><a name="GUID-43EA9A73-21FF-34C5-87A6-5F12B94A04F1"><!-- --></a>
		<h2 class="topictitle2">CAnim()</h2>
		<table class="signature"><tr><td>CAnim</td><td>(</td><td>)</td><td>[private, inline]</td></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-991C927D-7191-301D-B781-68BF70C87616"><a name="GUID-991C927D-7191-301D-B781-68BF70C87616"><!-- --></a>
		<h2 class="topictitle2">Animate(TDateTime *)</h2>
		<table class="signature"><tr><td>void</td><td>Animate</td><td>(</td><td><a href="GUID-13A9DD2B-8ABC-3D62-B54E-4F5DD5B9228B.html">TDateTime</a> *</td><td>aDateTime</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Main animation function, called by the window server.</p>

				<p>The drawing code which implements a given animation should be provided here.</p>

				<p>This function is called at a frequency determined by the SetSync() helper function. Note that if sync is not set, then this function will never be called. This effect can be exploited to use the animation framework, with its server side speed, for what are strictly not animations, e.g. for streaming video images.</p>

				<p>The aDateTime parameter will be null if the current time (as determined by the window server) matches the time implied by the sync period, modulo normalisation, otherwise it will contain a valid (non-normalised) time.</p>

				<p>Normalisation is to some specified granularity, for example if one minute is specified as the animation frequency, then in effect the window server will decide whether the implied time is correct to the minute, but not to the second.</p>

				<p>Implied time is the time implied by the (normalised) actual time of the previous animation call plus the sync interval. For example if the last call was at time 't' and the sync interval is 1 second then if the time at this call is t + 1 second, then actual time and implied time match and the value placed into aDateTime will be NULL.</p>

				<p>Cases in which the two may not match include, for example, system time having been reset between animation calls (perhaps British Summer <a href="GUID-B81A50BE-2045-3040-A5DD-D5DE03B52FCC.html#GUID-B81A50BE-2045-3040-A5DD-D5DE03B52FCC">Time</a> or other daylight saving time has just come into effect). The intention is that when system time changes, a mechanism is provided to alert the animation code and allow it to reset itself. The assumption is that somewhere in its initialisation code, the animation will have performed a CAnimFunctions utility call to set a base time, which is then implicitly tracked by incrementing by a suitable interval; when aDateTime is non-NULL after a call to <a href="GUID-029C644B-BE0F-37C6-95E2-D27F974E6AD3.html#GUID-991C927D-7191-301D-B781-68BF70C87616">Animate()</a>, base time should be reset.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-13A9DD2B-8ABC-3D62-B54E-4F5DD5B9228B.html">TDateTime</a> * aDateTime</td><td>Null if the current time w.r.t. the window server matches the time implied by the synch period. Otherwise a valid (non-normalised) time.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4157B6B7-6C3B-3FD6-A50E-70E4B31FE75E"><a name="GUID-4157B6B7-6C3B-3FD6-A50E-70E4B31FE75E"><!-- --></a>
		<h2 class="topictitle2">Command(TInt, TAny *)</h2>
		<table class="signature"><tr><td>void</td><td>Command</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aOpcode,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aArgs</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Implements client-side initiated commands.</p>

				<p>The window server calls this function in response to application calls to the client side command function <a href="GUID-4180CDBA-E9A5-3A4B-9778-26D172FAFD10.html#GUID-F6A9977A-22E7-3FEE-82CC-8F8DF57E3455">RAnim::Command()</a>. The arguments passed to the function by the window server are the same as were used on the client side function call.</p>

				<p>Because this function does not return errors, it is not safe for commands which might leave.</p>

				<p>
					<a href="GUID-4180CDBA-E9A5-3A4B-9778-26D172FAFD10.html#GUID-4180CDBA-E9A5-3A4B-9778-26D172FAFD10">RAnim</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aOpcode</td><td>Opcode understood by the class  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aArgs</td><td>Arguments packaged on the client side, for example as a struct of a type determined by the aOpcode argument. These mirror the aArgs argument passed in to RAnim::Command().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-25CB52EE-9F0C-3F6A-AD3D-889CBD9326EB"><a name="GUID-25CB52EE-9F0C-3F6A-AD3D-889CBD9326EB"><!-- --></a>
		<h2 class="topictitle2">CommandReplyL(TInt, TAny *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>CommandReplyL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aOpcode,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aArgs</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Implements client-side initiated commands, returning a value.</p>

				<p>The window server calls this function in response to application calls to the client side command function RAnim::CommandReplyL(). The arguments passed to the function by the window server are the same as were used on the client side function call.</p>

				<p>This function returns values to the client side, and should be used to return error codes for commands which might leave.</p>

				<p>
					<a href="GUID-4180CDBA-E9A5-3A4B-9778-26D172FAFD10.html#GUID-4180CDBA-E9A5-3A4B-9778-26D172FAFD10">RAnim</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aOpcode</td><td>Opcode understood by the class.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aArgs</td><td>Arguments packaged on the client side, for example as a struct of a type determined by the aOpcode argument. These mirror the aArgs argument passed in to RAnim::CommandReply().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-470BFAE3-BA34-3107-B987-BB8D1E2CCFE0"><a name="GUID-470BFAE3-BA34-3107-B987-BB8D1E2CCFE0"><!-- --></a>
		<h2 class="topictitle2">HandleNotification(const TWsEvent &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>HandleNotification</td><td>(</td><td>const <a href="GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31.html">TWsEvent</a> &amp;</td><td/><td>)</td><td>[inline, virtual]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31.html">TWsEvent</a> &amp; </td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-204EE81E-4D03-36BB-94FA-98CECD5EDC78"><a name="GUID-204EE81E-4D03-36BB-94FA-98CECD5EDC78"><!-- --></a>
		<h2 class="topictitle2">Reserved1()</h2>
		<table class="signature"><tr><td>void</td><td>Reserved1</td><td>(</td><td>)</td><td>const [private, inline, virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-95558780-EA6E-3F92-AC23-DD6F0AE0B4FB"><a name="GUID-95558780-EA6E-3F92-AC23-DD6F0AE0B4FB"><!-- --></a>
		<h2 class="topictitle2">Reserved2()</h2>
		<table class="signature"><tr><td>void</td><td>Reserved2</td><td>(</td><td>)</td><td>const [private, inline, virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D9B0F4CA-E302-3DC3-BE74-E436B2633FC3"><a name="GUID-D9B0F4CA-E302-3DC3-BE74-E436B2633FC3"><!-- --></a>
		<h2 class="topictitle2">Reserved3()</h2>
		<table class="signature"><tr><td>void</td><td>Reserved3</td><td>(</td><td>)</td><td>const [private, inline, virtual]</td></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-84AC5A03-BDA6-3282-92D3-9CE06AF02F90"><a name="GUID-84AC5A03-BDA6-3282-92D3-9CE06AF02F90"><!-- --></a>
		<h2 class="topictitle2">
					MAnimGeneralFunctions * iFunctions</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FFE76181-A701-374B-82AA-CEACC5856E91.html">MAnimGeneralFunctions</a> *</td><td>iFunctions</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Pointer to a class containing functions implemented by the window server.</p>

				<p>These are available to any <a href="GUID-029C644B-BE0F-37C6-95E2-D27F974E6AD3.html#GUID-029C644B-BE0F-37C6-95E2-D27F974E6AD3">CAnim</a> derived class.</p>

				<p>Note that this value is automatically set for you by the animation framework. You do not need to assign a value to this pointer.   </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>