<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Thread-relative and Process-relative handles"/>
<meta name="abstract" content="This document describes the difference between thread-relative and process-relative handles."/>
<meta name="description" content="This document describes the difference between thread-relative and process-relative handles."/>
<meta name="DC.Relation" scheme="URI" content="GUID-2EAAE194-FAE1-5545-A678-72973E9B72A7.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2EAAE194-FAE1-5545-A678-72973E9B72A7.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Thread-relative and Process-relative handles</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C"><a name="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2392072 id2392081 id2393166 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">User Library and File Server</a> &gt; <a href="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" title="The User Library allows the applications and services that run on a phone to access the functionality provided by the Symbian platform Kernel.">User Library</a> &gt; <a href="GUID-2EAAE194-FAE1-5545-A678-72973E9B72A7.html">Handles</a> &gt; </div>
<h1 class="topictitle1">Thread-relative
and Process-relative handles</h1>
<div><p>This document describes the difference between thread-relative
and process-relative handles.</p>

<p>This is the issue of handle ownership.</p>

<p>Threads and processes each maintain a list of objects to which they refer.
This list is an object index and is the way in which handle-numbers representing
these objects are generated.</p>

<p>When user code causes a Kernel object (e.g. a mutex) to be created, ownership
of the handle which is opened on that object may be vested either in the thread
or the process. If ownership is vested in the thread, the handle associated
with that object is said to be <em>thread-relative</em>, conversely, if ownership
is vested in the process, the handle associated with that object is said to
be<em>process-relative</em>.</p>

<p>The following diagram shows the case where code belonging to thread A creates
a mutex and vests ownership of the handle in the thread. </p>

<div class="fignone" id="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C__GUID-5A22F71B-C146-53A9-B8A4-51D79D4EF668"><a name="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C__GUID-5A22F71B-C146-53A9-B8A4-51D79D4EF668"><!-- --></a><span class="figcap">Figure 1. Thread-relative handle</span>

<img src="GUID-7B589949-2784-5B77-959E-99F8733A8853_d0e336141_href.png"/>
</div>

<p>Compare with the following case where ownership of the mutex handle is
vested in the process.</p>

<div class="fignone" id="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C__GUID-6C60BB64-AE7B-5B46-983B-D6D65D8AB41C"><a name="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C__GUID-6C60BB64-AE7B-5B46-983B-D6D65D8AB41C"><!-- --></a><span class="figcap">Figure 2. Process-relative handle</span>

<img src="GUID-47511301-DFF9-52B0-9602-DD9D293D3044_d0e336152_href.png"/>
</div>

<p>In both cases, the mutex object is added to the appropriate Kernel container
which can be considered as the owner of the object.</p>

<p>The significance of a process-relative handle is that any thread in the
process can use that handle to access the Kernel side object that the handle
represents. In contrast, a thread-relative handle can only be used by the
thread creating it; other threads in that process can only access the Kernel
side object by <a href="GUID-A4799558-AF8C-5E97-9B03-7D1C04FEC243.html" title="This document describes when you should duplicate a handle in kernel side programming.">duplicating</a> that
handle.</p>

<p>For a thread-relative handle, the associated Kernel side object is closed
if the thread dies. For a process-relative handle, the Kernel side object
is closed if the process dies. Such an object is not closed if any thread
belonging to that process dies; the object remains in existence for the lifetime
of the process, or until all references to it have been explicitly closed.</p>

<p>See also:</p>

<ul>
<li id="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C__GUID-7355DCEE-85E8-58C6-9102-CBCE93251098"><a name="GUID-D62A0234-348C-5553-B8C0-7B483AF9D50C__GUID-7355DCEE-85E8-58C6-9102-CBCE93251098"><!-- --></a><p><a href="GUID-A95CDFDE-285F-5DE2-AADE-29B2B9663757.html">The
object index</a> </p>
 </li>

</ul>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-2EAAE194-FAE1-5545-A678-72973E9B72A7.html">Handles</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>