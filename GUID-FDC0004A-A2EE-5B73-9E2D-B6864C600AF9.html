<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="SMIL Parser Overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-99BD7331-D82A-5A2E-B2E4-314AD3FF38B7.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2F6D0FB7-656B-5195-8828-E70531EA56D3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-99BD7331-D82A-5A2E-B2E4-314AD3FF38B7.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>SMIL Parser Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2403778 id2403849 id2403874 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html">Messaging Application Guide</a> &gt; <a href="GUID-2F6D0FB7-656B-5195-8828-E70531EA56D3.html">Messaging Application Base</a> &gt; <a href="GUID-99BD7331-D82A-5A2E-B2E4-314AD3FF38B7.html">SMIL Parser</a> &gt; </div>
<h1 class="topictitle1">SMIL
Parser Overview</h1>
<div>
<p>The SMIL Parser component uses XML DOM to validate SMIL (Synchronized Multimedia
Integration Language) documents for rendering MMS (Multimedia Message Service)
messages. </p>

<div class="section" id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-0EDFED36-1728-48D0-AC92-D269E0568DC9"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-0EDFED36-1728-48D0-AC92-D269E0568DC9"><!-- --></a><h2 class="sectiontitle">Purpose</h2> <p>Its
primary purpose is to provide SMIL parsing and composing functionality for
MMS. However, the component has also been designed to provide support for
parsing and composing other types of XML document, for example XHTML. </p>
 </div>

<div class="section" id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-17D17217-ECD7-49C8-87CE-8505B423727A"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-17D17217-ECD7-49C8-87CE-8505B423727A"><!-- --></a><h2 class="sectiontitle">Architecture</h2> <p>The
SMIL Parser component comprises of the following elements: </p>
 <ul>
<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-299AA6C3-B517-5CAB-95BC-11E36D805941"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-299AA6C3-B517-5CAB-95BC-11E36D805941"><!-- --></a><p>A generic set of classes
that can represent the contents of an XML file in an object hierarchy for
efficient processing. These classes are referred to as the Mini-DOM, because
they use some but not all concepts from the DOM (Document Object Model). The
classes can perform syntax checking and validation with regard to a specific
DTD set at run time. </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-C4FCE7B0-3B24-514D-8D92-B089FBA0CE16"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-C4FCE7B0-3B24-514D-8D92-B089FBA0CE16"><!-- --></a><p>An interface class that
defines the signature for the necessary DTD validation functions. Any DTD-specific
validation class is derived from this, and provides an implementation of these
functions. </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-C26FE2C2-3FDD-5347-909E-86BDD1E003A1"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-C26FE2C2-3FDD-5347-909E-86BDD1E003A1"><!-- --></a><p>A parser that can read
an XML file and can generate Mini-DOM objects. </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-918807C2-FBFB-501D-8388-720834F627B2"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-918807C2-FBFB-501D-8388-720834F627B2"><!-- --></a><p>A composer that can
take a Mini-DOM object tree and output an XML file. </p>
 </li>

</ul>
 <div class="fignone" id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-3B925574-105C-5EA3-94A8-CFCED0D0F544"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-3B925574-105C-5EA3-94A8-CFCED0D0F544"><!-- --></a><span class="figcap">Figure 1.               SMIL Parser architecture            </span>

<img src="GUID-C65D4AB3-4F4B-5005-A9C4-96807EDB3EEC_d0e473858_href.jpg"/>
</div>
 <p>The following sections gives detailed explanation of the above elements: </p>
 <p><strong>XML
Mini-DOM </strong> </p>
 <p>The XML Mini-DOM classes are based on a subset of the
DOM classes. The Mini-DOM is a subset, because it is not intended to support
some of the more ambitious or obscure uses of XML. It also discards some of
the theoretical layers. For example, attributes are not created as separate
nodes, but are member data of element objects. The Mini-DOM is not intended
as a porting API whereby applications written on other platforms using the
DOM can be trivially ported to the Symbian platform. </p>
 <p>When
an XML file is parsed, and a Mini-DOM tree is created, the Mini-DOM classes
provide an API to navigate through the document objects and to query the element
attributes. When an XML file is to be composed, the Mini-DOM provides an API
to inquiry the elements allowing the XML Composer to produce a textual representation. </p>
 <p><strong>SMIL
DTD</strong> </p>
 <p>SMIL DTD allows a Mini-DOM tree to be validated for a specific
DTD. A DTD interface class <a href="GUID-F294DC1C-D762-3CF7-BB64-18E742BA6EAA.html"><span class="apiname">MXMLDtd</span></a> is defined from which
specific DTD classes are derived. The Mini-DOM can then call DTD-specific
functions through implementations of the interface. </p>
 <p><strong>XML Parser</strong> </p>
 <p>XML
Parser is a single-pass parser with a two-stage pipeline. The first stage
is basic lexical analysis that reads the data from a source, performs some
housekeeping and normalization functions on it, and passes on meaningful sections
of text to the second stage for parsing. </p>
 <p>The following operations
are performed on the input in the lexical analysis stage: </p>
 <ul>
<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-EF082699-6424-5F34-A3F9-BE64DE2CDFB7"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-EF082699-6424-5F34-A3F9-BE64DE2CDFB7"><!-- --></a><p>Comments are stripped
out. </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-BCC33D81-F26C-5F76-9EA9-D37B725A9EEA"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-BCC33D81-F26C-5F76-9EA9-D37B725A9EEA"><!-- --></a><p>Processing instructions
are stripped out. </p>
 </li>

</ul>
 <p>The following are the meaningful sections of text: </p>
 <ul>
<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-9CB81940-2E24-568C-8377-761CE85B6490"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-9CB81940-2E24-568C-8377-761CE85B6490"><!-- --></a><p>Complete tag definitions
(for example, start tag, end tag or combined tag) </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-666F1557-907C-541B-8453-2CFD523036DD"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-666F1557-907C-541B-8453-2CFD523036DD"><!-- --></a><p>Sections of text of
specific CDATA sections </p>
 </li>

</ul>
 <p>The second stage is to parse elements by breaking out the element
name and sequence of attribute values and creating generic attributes. </p>
 <p>Built-in
character entities are replaced by their values if they have previously been
defined. Any entity references that are not recognized are left untouched. </p>
 <p>The
second parser stage creates DOM objects in a tree structure by adding new
elements onto the child element list of each element. Encountering a start
tag causes an element to be created under the then-current element, while
encountering an end tag causes the then-current element to move up the object
tree. At the same time, the end tag is compared with the relevant element
to ensure that start and end tags match. If an empty element tag is encountered,
then the element is created, but the position for insertion of the next tag
is not descend the object tree. </p>
 <p>XML Parser is a generic parser and
has no specific functionality to any particular DTD. Instead, validation and
syntax checking is done through the Mini-DOM API. </p>
 <p>The parser carries
out the act of parsing an XML file as an active object. A single activation
of the object parses the whole file. </p>
 <p>The parser takes input from a
file or a buffer. Supported character sets are UTF-8 (of which ASCII is a
subset) and UTF-16. Any data not beginning with a DOM is treated as UTF-8.
The data is parsed and added to a DOM based structure. </p>
 <p><strong>XML Composer</strong> </p>
 <p>XML
Composer takes a DOM tree and produces an XML file representing the data in
that DOM tree. It performs a tree walk for each element, and using the generic
element API, it accesses element details and outputs the text of the elements
or the character data. </p>
 <p>During the tree-walk, elements that are not
empty result in a start tag and an end tag being output. Empty elements result
in a single tag being output. Instances of characters that must be replaced
by built-in entity references are also replaced. </p>
 <p>When an XML file
is parsed, and the resulting object tree passed into the composer, an output
file is created. The output file may not be necessarily identical to the input
file: that is, comments may be lost, and white space elements may be affected
as well. </p>
 </div>

<div class="section" id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-18BC11E3-23B6-4356-A255-12D824D1B454"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-18BC11E3-23B6-4356-A255-12D824D1B454"><!-- --></a><h2 class="sectiontitle">APIs</h2> <p>The
following are the important XML DOM APIs provided by the SMIL Parser component: </p>
 
<div class="tablenoborder"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-84248E72-234B-5487-A049-DB1D9A9B1A9A"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-84248E72-234B-5487-A049-DB1D9A9B1A9A" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d2251359e181">API</th>

<th class="cellrowborder" valign="top" id="d2251359e184">Description</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d2251359e181 "><p> <a href="GUID-DF432AB6-7895-30E8-9B4B-378E61A7A901.html"><span class="apiname">CMDXMLElement</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d2251359e184 "><p>Provides access to element data including attribute name/value pairs. </p>
 <p>Attribute
access is by name. For example, to get the value of the <samp class="codeph">width</samp> attribute,
call <a href="GUID-68E71051-2A4D-311D-8554-14442D098560.html"><span class="apiname">GetAttributeL()</span></a> and the value is returned as another
string. </p>
 <p>DTD element classes are not necessary. All elements are constructed
from the generic element class and has the following functionality: </p>
 <ul>
<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-E46CBA23-1D24-574A-B450-C420F83832E1"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-E46CBA23-1D24-574A-B450-C420F83832E1"><!-- --></a><p>The element class has
member variables created for each element attribute defined. Each member variable
has standard accessor and mutator functions defined. </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-5654E630-FF29-5883-A8E1-16E064FEE064"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-5654E630-FF29-5883-A8E1-16E064FEE064"><!-- --></a><p>Validation of attribute
values can be carried out by calling <a href="GUID-AE599A9F-7E71-3082-8118-ACA87E3E4145.html"><span class="apiname">IsValidAttributeForElementL()</span></a>.
DTD specific validation is done based on the <a href="GUID-F294DC1C-D762-3CF7-BB64-18E742BA6EAA.html"><span class="apiname">MXMLDtd</span></a> object
passed to the document during creation. </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-FCFE73E0-3D5D-5056-BDE3-2BED4E3F3C47"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-FCFE73E0-3D5D-5056-BDE3-2BED4E3F3C47"><!-- --></a><p>The element class has
the <a href="GUID-21F01EDE-1C79-34AD-AF6B-5944B324539D.html"><span class="apiname">CheckChildren()</span></a> function created to check that any
child elements conform in type and order to the requirements of the DTD. This
is achieved by calling <a href="GUID-11DC3525-A8AD-33DE-AFEB-ED840469357F.html"><span class="apiname">CheckValidChildren()</span></a> on the DTD
object owned by the document. </p>
 </li>

</ul>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2251359e181 "><p> <a href="GUID-3AF26F84-F4C0-312D-9ABD-1C6EC0BD1675.html"><span class="apiname">CMDXMLParser</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d2251359e184 "><p>Provides functions to read an XML file and can generate Mini-DOM
objects. </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2251359e181 "><p> <a href="GUID-2A597821-BF7F-379A-A32C-99CF9B5CDFAA.html"><span class="apiname">CMDXMLDocument</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d2251359e184 "><p>It is an XML document with a reference to an <a href="GUID-F294DC1C-D762-3CF7-BB64-18E742BA6EAA.html"><span class="apiname">MXMLDtd</span></a> object. </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2251359e181 "><p> <a href="GUID-F294DC1C-D762-3CF7-BB64-18E742BA6EAA.html"><span class="apiname">MXMLDtd</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d2251359e184 "><p>Defines the signature for the necessary DTD validation functions.
DTD-specific validation class is derived from this and provides an implementation
of these functions. </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2251359e181 "><p> <a href="GUID-8BBCB6A5-A133-3BDD-8614-E5E2F1FED7E5.html"><span class="apiname">CMDXMLNode</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d2251359e184 "><p>Provides functions to store the node type and name and manages a
list of child nodes. </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2251359e181 "><p> <a href="GUID-78751199-C2AA-37C4-970B-191C4D496AAA.html"><span class="apiname">CMDXMLComposer</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d2251359e184 "><p>Provides functions to compose a Mini-DOM object tree and output
an XML file. </p>
 </td>

</tr>

</tbody>

</table>
</div>
 </div>

<div class="section" id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-42B978B7-C272-401C-9A19-E65EFE34E825"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-42B978B7-C272-401C-9A19-E65EFE34E825"><!-- --></a><h2 class="sectiontitle">Typical uses</h2> <ul>
<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-4E0FFD17-4A47-5CEC-B1C5-42CBF9FA0108"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-4E0FFD17-4A47-5CEC-B1C5-42CBF9FA0108"><!-- --></a><p><a href="GUID-2468D736-9F95-5412-B687-765D630651C7.html">Parsing
XML Data</a>  </p>
 </li>

<li id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-ADCD2234-95B0-5959-AFC2-E11F17799AF0"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-ADCD2234-95B0-5959-AFC2-E11F17799AF0"><!-- --></a><p><a href="GUID-99CC6D00-DC3E-51C2-8152-060FB80F5FCD.html">Composing
XML Data</a>  </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-D599779A-17A9-4D12-B7BE-29909F782083"><a name="GUID-FDC0004A-A2EE-5B73-9E2D-B6864C600AF9__GUID-D599779A-17A9-4D12-B7BE-29909F782083"><!-- --></a><h2 class="sectiontitle">See also</h2> <p> <a href="http://www.w3.org/TR/REC-DOM-Level-1/" target="_blank">Document Object
Model Specification</a>  </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-99BD7331-D82A-5A2E-B2E4-314AD3FF38B7.html">SMIL Parser</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>