<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="APIs for Accessing Random Number Generator"/>
<meta name="DC.Relation" scheme="URI" content="GUID-83455AB2-C258-5EEB-8B76-A9E992E9EFD7.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-83455AB2-C258-5EEB-8B76-A9E992E9EFD7.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-BAA558C1-8613-43A0-899E-F53DCAA68F4B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>APIs for Accessing Random Number Generator</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-BAA558C1-8613-43A0-899E-F53DCAA68F4B"><a name="GUID-BAA558C1-8613-43A0-899E-F53DCAA68F4B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2399872 id2400505 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html" title="EKA2 is the principal Hardware and Kernel Services module. It manages the CPU and memory resources of a phone, and provides an architecture for device drivers to manage other hardware resources.">Kernel Architecture (EKA2)</a> &gt; <a href="GUID-83455AB2-C258-5EEB-8B76-A9E992E9EFD7.html" title="A summary of related documentation for the Kernel Architecture 2 component.">Reference</a> &gt; </div>
<h1 class="topictitle1">APIs
for Accessing Random Number Generator</h1>
<div><div><p>Symbian platform provides different APIs by means of which the <a href="GUID-8290AAF0-577C-51D2-8AC1-0D37A10F45CB.html">Cryptographically Secure
Random Number Generator in Kernel</a> (CSPRNG) implemented in the kernel
can be accessed.</p>
<p>The following table lists the various APIs with their
descriptions:</p>
</div>

<div class="tablenoborder"><a name="GUID-BAA558C1-8613-43A0-899E-F53DCAA68F4B__GUID-48D09C12-1BE8-42BC-8140-18F1332A1254"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-BAA558C1-8613-43A0-899E-F53DCAA68F4B__GUID-48D09C12-1BE8-42BC-8140-18F1332A1254" frame="border" border="1" rules="all">
<thead align="left">
<tr>

<th class="cellrowborder" valign="top" width="44%" id="d1707699e29">Random Number Generator APIs</th>

<th class="cellrowborder" valign="top" width="56.00000000000001%" id="d1707699e32">Description</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" colspan="2" valign="top" headers="d1707699e29 d1707699e32 "><strong>Kernel-side access</strong>: Base porters
can use the <a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-FA565586-92EB-3727-9824-FCD5ED341E58"><span class="apiname">Kern::Random</span></a> and <a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-60EC16BC-1A7E-3EC1-9A2A-3019B894BE6E"><span class="apiname">Kern::SecureRandom()</span></a> functions
to obtain random data from the kernel's CSPRNG. For information the use of
these functions, see <a href="GUID-8290AAF0-577C-51D2-8AC1-0D37A10F45CB.html">CSPRNG
Implementation in Kernel</a>.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="44%" headers="d1707699e29 "><a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-13B7C085-495E-36BB-97CE-141A8E5776B6"><span class="apiname">Kern::Random()</span></a></td>

<td class="cellrowborder" valign="top" width="56.00000000000001%" headers="d1707699e32 ">Returns 32 bits of random data from the CSPRNG. <p>Use this function
to get high-quality random number which may not be cryptographically secure.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="44%" headers="d1707699e29 "><a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-60EC16BC-1A7E-3EC1-9A2A-3019B894BE6E"><span class="apiname">Kern::SecureRandom()</span></a></td>

<td class="cellrowborder" valign="top" width="56.00000000000001%" headers="d1707699e32 ">Returns random data of length specified in the descriptor passed as
parameter to this function. <p>This function is used to get cryptographically
secure random numbers. If the returned data is not guaranteed to be cryptographically
secure, the function returns a KErrNotReady argument along with random data
that can be used for non-cryptographic purposes.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" colspan="2" valign="top" headers="d1707699e29 d1707699e32 "><strong>User-side access to the Kernel APIs</strong>:
Developers can use <a href="GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A.html#GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A__GUID-0B4A64E4-7EC3-300F-ACA0-7F53AAEF7066"><span class="apiname">Math::Random()</span></a> and <a href="GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A.html#GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A__GUID-5AE91EA6-A4D7-308C-B5D6-23E2409AF15E"><span class="apiname">Math::RandomL()</span></a> that
call the Kernel's Random APIs to get random data. For information on how these
functions are used, see <a href="GUID-8290AAF0-577C-51D2-8AC1-0D37A10F45CB.html">CSPRNG
Implementation in Kernel</a>.</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44%" headers="d1707699e29 "><a href="GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A.html#GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A__GUID-0B4A64E4-7EC3-300F-ACA0-7F53AAEF7066"><span class="apiname">Math::Random()</span></a></td>

<td class="cellrowborder" valign="top" width="56.00000000000001%" headers="d1707699e32 ">Internally calls <a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-13B7C085-495E-36BB-97CE-141A8E5776B6"><span class="apiname">Kern::Random()</span></a> and returns random
data of length specified in the descriptor passed as parameter to this function
(<a href="GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A.html#GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A__GUID-0B4A64E4-7EC3-300F-ACA0-7F53AAEF7066"><span class="apiname">Math::Random()</span></a>). The random data returned may not be cryptographically
secure.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="44%" headers="d1707699e29 "><a href="GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A.html#GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A__GUID-5AE91EA6-A4D7-308C-B5D6-23E2409AF15E"><span class="apiname">Math::RandomL()</span></a></td>

<td class="cellrowborder" valign="top" width="56.00000000000001%" headers="d1707699e32 ">Internally calls <a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-60EC16BC-1A7E-3EC1-9A2A-3019B894BE6E"><span class="apiname">Kern::SecureRandom()</span></a> and returns
random data of length specified in the descriptor passed as parameter to this
function (<a href="GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A.html#GUID-1DB7AE7A-A505-3530-AC2B-EBAEFCD3F36A__GUID-5AE91EA6-A4D7-308C-B5D6-23E2409AF15E"><span class="apiname">Math::RandomL()</span></a>). </td>

</tr>

<tr>
<td class="cellrowborder" colspan="2" valign="top" headers="d1707699e29 d1707699e32 "><strong>Access from the OS Security Package
(TRandom)</strong>: <div class="p">The <a href="GUID-5B1A7F31-2C04-3E57-BD09-B0EF3AAED1EC.html"><span class="apiname">TRandom</span></a> functions provide means for
the legacy crypto components ( <span class="filepath">cryptography.dll</span>, <span class="filepath">hash.dll</span> and <span class="filepath">random.dll</span>)
to access the CSPRNG through CryptoSPI and generate random numbers. For information
on the legacy crypto components, see <a href="GUID-3FB8AC96-209B-5B1E-8139-BA2D858CBF2F.html">CryptoSPI
Overview (weak build)</a>. For information on <a href="GUID-5B1A7F31-2C04-3E57-BD09-B0EF3AAED1EC.html"><span class="apiname">TRandom</span></a>,
see <a href="GUID-66BBA81D-2488-50B8-8822-43AAAA139DDE.html">Random Number Generation
Overview</a>.<div class="note"><span class="notetitle">Note:</span> If you do not wish to use <a href="GUID-5B1A7F31-2C04-3E57-BD09-B0EF3AAED1EC.html"><span class="apiname">TRandom</span></a> classes
for random number generation, you can directly use the <a href="GUID-CD88247C-561B-3AB4-BF77-AFD322F860A4.html"><span class="apiname">CRandom</span></a> class
for accessing the CSPRNG.</div>
</div>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="44%" headers="d1707699e29 "><a href="GUID-5B1A7F31-2C04-3E57-BD09-B0EF3AAED1EC.html#GUID-5B1A7F31-2C04-3E57-BD09-B0EF3AAED1EC__GUID-82D3EB95-4DA0-3C99-B03C-49D3A54054A1"><span class="apiname">TRandom::RandomL()</span></a></td>

<td class="cellrowborder" valign="top" width="56.00000000000001%" headers="d1707699e32 ">Internally calls <a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-60EC16BC-1A7E-3EC1-9A2A-3019B894BE6E"><span class="apiname">Kern::SecureRandom()</span></a> (by means
of CryptoSPI) for accessing the CSPRNG and generating random numbers. It does
not return any argument indicating whether the data returned is cryptographically
secure.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="44%" headers="d1707699e29 "><a href="GUID-5B1A7F31-2C04-3E57-BD09-B0EF3AAED1EC.html#GUID-5B1A7F31-2C04-3E57-BD09-B0EF3AAED1EC__GUID-0C7F0D0C-8F02-3683-A9CE-96C2EA1A3BFB"><span class="apiname">TRandom::SecureRandomL()</span></a></td>

<td class="cellrowborder" valign="top" width="56.00000000000001%" headers="d1707699e32 ">Internally calls <a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-60EC16BC-1A7E-3EC1-9A2A-3019B894BE6E"><span class="apiname">Kern::SecureRandom()</span></a> (by means
of CryptoSPI) for accessing the CSPRNG and generating random numbers.  <p>This
function returns cryptographically secure random data. If the returned data
is not guaranteed to be cryptographically secure, the function returns a KErrNotSecure
argument along with random data that can be used for non-cryptographic purposes.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" colspan="2" valign="top" headers="d1707699e29 d1707699e32 "><strong>Access from the OS Security Package
(CRandom)</strong>: <p> <a href="GUID-CD88247C-561B-3AB4-BF77-AFD322F860A4.html"><span class="apiname">CRandom</span></a> is a CryptoSPI class that provides
functions to access CSPRNG and generate random data. For information on generating
random data using <a href="GUID-CD88247C-561B-3AB4-BF77-AFD322F860A4.html"><span class="apiname">CRandom</span></a>, see <a href="GUID-0CD273A2-434C-52E0-B840-CCF24B2853B8.html">Generating
Random Bytes</a>.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="44%" headers="d1707699e29 "><a href="GUID-CD88247C-561B-3AB4-BF77-AFD322F860A4.html#GUID-CD88247C-561B-3AB4-BF77-AFD322F860A4__GUID-F251BF16-E212-3595-9FE8-C7BC754972E1"><span class="apiname">CRandom::GenerateRandomBytesL()</span></a></td>

<td class="cellrowborder" valign="top" width="56.00000000000001%" headers="d1707699e32 ">Internally calls <a href="GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D.html#GUID-C6946ECB-775F-3EC2-A56F-78F25B9FBE3D__GUID-60EC16BC-1A7E-3EC1-9A2A-3019B894BE6E"><span class="apiname">Kern::SecureRandom()</span></a> for accessing
the CSPRNG and generating cryptographically secure random numbers.  f the
returned data is not guaranteed to be cryptographically secure, the function
returns a KErrNotSecure argument along with random data that can be used for
non-cryptographic purposes.</td>

</tr>

</tbody>

</table>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-83455AB2-C258-5EEB-8B76-A9E992E9EFD7.html" title="A summary of related documentation for the Kernel Architecture 2 component.">Reference</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>