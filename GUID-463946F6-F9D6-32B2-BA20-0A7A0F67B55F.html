<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxFile"/>
<meta name="DC.Title" content="upnpitemutility.cpp"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F"/>

<title>upnpitemutility.cpp</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F"><a name="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0;
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">upnpitemutility.cpp File Reference</h1>
	<div class="nested1" id="GUID-5B621A70-B5DB-372E-9A2B-BA5631116FEF"><a name="GUID-5B621A70-B5DB-372E-9A2B-BA5631116FEF"><!-- --></a>
		<h2 class="topictitle2">const TLitC&lt; sizeof(L"upnpavcontrollerhelper.txt")/2 &gt; KComponentLogfile</h2>
		<table class="signature"><tr><td>const <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">TLitC</a>&lt; sizeof(L"upnpavcontrollerhelper.txt")/2 &gt;</td><td>KComponentLogfile</td><td>[static]</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-62733886-4791-3464-A691-8BC0C8648968"><a name="GUID-62733886-4791-3464-A691-8BC0C8648968"><!-- --></a>
		<h2 class="topictitle2">const TInt KDateStringLength</h2>
		<table class="signature"><tr><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>KDateStringLength</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-9FB37E78-8316-37CD-B1E9-529DFC3492D8"><a name="GUID-9FB37E78-8316-37CD-B1E9-529DFC3492D8"><!-- --></a>
		<h2 class="topictitle2">const TInt KDateTimeStringLength</h2>
		<table class="signature"><tr><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>KDateTimeStringLength</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-4C64E5BB-C7AB-3C86-810E-FEBC4B15AEAB"><a name="GUID-4C64E5BB-C7AB-3C86-810E-FEBC4B15AEAB"><!-- --></a>
		<h2 class="topictitle2">const TInt KMaxDateStringLength</h2>
		<table class="signature"><tr><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>KMaxDateStringLength</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-7D371554-F217-3827-9D62-C59B9EEE1146"><a name="GUID-7D371554-F217-3827-9D62-C59B9EEE1146"><!-- --></a>
		<h2 class="topictitle2">const TInt KCodeSemicolon</h2>
		<table class="signature"><tr><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>KCodeSemicolon</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-09CA3415-E15C-3446-BD1A-C34D80083D7D"><a name="GUID-09CA3415-E15C-3446-BD1A-C34D80083D7D"><!-- --></a>
		<h2 class="topictitle2">const TLitC&lt; sizeof(L":")/2 &gt; KSeparator</h2>
		<table class="signature"><tr><td>const <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">TLitC</a>&lt; sizeof(L":")/2 &gt;</td><td>KSeparator</td><td>[static]</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-DCF9B024-C74F-3728-B922-830929556B62"><a name="GUID-DCF9B024-C74F-3728-B922-830929556B62"><!-- --></a>
		<h2 class="topictitle2">const TLitC&lt; sizeof(L"000000")/2 &gt; KNullTime</h2>
		<table class="signature"><tr><td>const <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">TLitC</a>&lt; sizeof(L"000000")/2 &gt;</td><td>KNullTime</td><td>[static]</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-F9337E55-A53B-3EAD-8A23-B7D3DF576E44"><a name="GUID-F9337E55-A53B-3EAD-8A23-B7D3DF576E44"><!-- --></a>
		<h2 class="topictitle2">const TLitC8&lt; sizeof("http:const static TLitC8&lt;sizeof( "DLNA.ORG_CI" )&gt; KCiParam ={sizeof( "DLNA.ORG_CI" )-1, "DLNA.ORG_CI" }; EXPORT_C TBool UPnPItemUtility::BelongsToClass( const CUpnpObject&amp; aObject, const TDesC8&amp; aClass ) { TBool beginsWith = ( aObject.ObjectClass().Find( aClass ) == 0 ); return beginsWith; } EXPORT_C void UPnPItemUtility::GetResElements( const CUpnpObject&amp; aObject, RUPnPElementsArray&amp; aResElementsArray ) { const RUPnPElementsArray&amp; array = const_cast&lt;CUpnpObject&amp;&gt;aObject).GetElements(); for( TInt i = 0; i &lt; array.Count(); i++ ) { if( array[ i ]-&gt;Name() == KElementRes() ) { aResElementsArray.Append( array[ i ] ); } } } EXPORT_C const CUpnpElement&amp; UPnPItemUtility::ResourceFromItemL( const CUpnpItem&amp; aItem ) { __Dummy_KComponentLogfile();; RUPnPElementsArray elms; GetResElements( aItem, elms ); TInt count = elms.Count(); CUpnpDlnaProtocolInfo* pInfo = 0 ; TBool found = EFalse; TInt i(0); const CUpnpElement* bestCandidate = 0; for( i = 0 ; i &lt; count; i++ ) { if( elms[ i ]-&gt;Value().Left( KHttp.iTypeLength ).Compare( KHttp() ) != 0 ) { continue; } const CUpnpAttribute* attr = FindAttributeByName( *elms Value</h2>
		<table class="signature"><tr><td>const <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">TLitC8</a>&lt; sizeof("http:const static <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">TLitC8</a>&lt;sizeof( "DLNA.ORG_CI" )&gt; KCiParam ={sizeof( "DLNA.ORG_CI" )-1, "DLNA.ORG_CI" }; EXPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> UPnPItemUtility::BelongsToClass( const <a href="GUID-F1A61CAE-424A-3B34-A898-B807D1620182.html">CUpnpObject</a>&amp; aObject, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a>&amp; aClass ) { <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> beginsWith = ( aObject.ObjectClass().Find( aClass ) == 0 ); return beginsWith; } EXPORT_C void UPnPItemUtility::GetResElements( const <a href="GUID-F1A61CAE-424A-3B34-A898-B807D1620182.html">CUpnpObject</a>&amp; aObject, <a href="GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html">RUPnPElementsArray</a>&amp; aResElementsArray ) { const <a href="GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html">RUPnPElementsArray</a>&amp; array = const_cast&lt;<a href="GUID-F1A61CAE-424A-3B34-A898-B807D1620182.html">CUpnpObject</a>&amp;&gt;aObject).GetElements(); for( <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> i = 0; i &lt; array.Count(); i++ ) { if( array[ i ]-&gt;Name() == <a href="GUID-BA9880B3-1062-3243-A14D-AEF6D67F826A.html">KElementRes</a>() ) { aResElementsArray.Append( array[ i ] ); } } } EXPORT_C const <a href="GUID-EED43583-E9F2-3681-A9D8-0A8B4B505BE6.html">CUpnpElement</a>&amp; UPnPItemUtility::ResourceFromItemL( const <a href="GUID-1EA479FF-1D46-320E-AF74-31DA55FCB3DE.html">CUpnpItem</a>&amp; aItem ) { __Dummy_KComponentLogfile();; <a href="GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html">RUPnPElementsArray</a> elms; GetResElements( aItem, elms ); <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> count = elms.Count(); <a href="GUID-9F5CFF2F-3D42-37DC-82F5-02783F597DB8.html">CUpnpDlnaProtocolInfo</a>* <a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">pInfo</a> = 0 ; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> found = EFalse; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> i(0); const <a href="GUID-EED43583-E9F2-3681-A9D8-0A8B4B505BE6.html">CUpnpElement</a>* <a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">bestCandidate</a> = 0; for( i = 0 ; i &lt; count; i++ ) { if( elms[ i ]-&gt;<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">Value</a>().Left( KHttp.iTypeLength ).Compare( KHttp() ) != 0 ) { continue; } const <a href="GUID-EE0CE607-B1CB-3890-AC54-5A9249C0DCED.html">CUpnpAttribute</a>* attr = FindAttributeByName( *elms</td><td>Value</td><td>[static]</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-91165DC7-049A-3CE9-8CFA-401946F44010"><a name="GUID-91165DC7-049A-3CE9-8CFA-401946F44010"><!-- --></a>
		<h2 class="topictitle2">if(!)</h2>
		<table class="signature"><tr><td>if</td><td>(</td><td>!</td><td>pInfo</td><td>)</td><td/></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">! pInfo</td><td> </td></tr></table></div>

	</div>

	<div class="nested1" id="GUID-9E5D42C3-60DA-3FE8-B8ED-F59AF83A2D7B"><a name="GUID-9E5D42C3-60DA-3FE8-B8ED-F59AF83A2D7B"><!-- --></a>
		<h2 class="topictitle2">if((attr-&gt;Value().Find(KCiParam())!=KErrNotFound &amp;&amp;pInfo-&gt;CiParameter()==EFalse)||attr-&gt;Value().Find(KCiParam()))</h2>
		<table class="signature"><tr><td>if</td><td>(</td><td>(attr-&gt;<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">Value</a>().Find(KCiParam())!=<a href="GUID-B36D0060-C3FF-3933-81EF-50790DC89B7E.html">KErrNotFound</a> &amp;&amp;<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">pInfo</a>-&gt;CiParameter()==EFalse)||attr-&gt;<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">Value</a>().Find(KCiParam())</td><td> = =<a href="GUID-B36D0060-C3FF-3933-81EF-50790DC89B7E.html">KErrNotFound</a></td><td>)</td><td/></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">(attr-&gt;<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">Value</a>().Find(KCiParam())!=<a href="GUID-B36D0060-C3FF-3933-81EF-50790DC89B7E.html">KErrNotFound</a> &amp;&amp;<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">pInfo</a>-&gt;CiParameter()==EFalse)||attr-&gt;<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">Value</a>().Find(KCiParam())  = =<a href="GUID-B36D0060-C3FF-3933-81EF-50790DC89B7E.html">KErrNotFound</a></td><td> </td></tr></table></div>

	</div>

	<div class="nested1" id="GUID-2E03AD2D-A99B-3AA9-8AEE-62B36CE8E04E"><a name="GUID-2E03AD2D-A99B-3AA9-8AEE-62B36CE8E04E"><!-- --></a>
		<h2 class="topictitle2">if(0)</h2>
		<table class="signature"><tr><td>if</td><td>(</td><td>0</td><td> = =<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">bestCandidate</a></td><td>)</td><td/></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">0  = =<a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">bestCandidate</a></td><td> </td></tr></table></div>

	</div>

	<div class="nested1" id="GUID-D8D2D3EA-886B-3E96-9B21-21F8E2CB996B"><a name="GUID-D8D2D3EA-886B-3E96-9B21-21F8E2CB996B"><!-- --></a>
		<h2 class="topictitle2">delete pInfo</h2>
		<table class="signature"><tr><td>delete</td><td>pInfo</td></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-CF8FA6AF-5C03-3610-A84B-1D6351C35DAE"><a name="GUID-CF8FA6AF-5C03-3610-A84B-1D6351C35DAE"><!-- --></a>
		<h2 class="topictitle2">if(found)</h2>
		<table class="signature"><tr><td>else</td><td>if</td><td>(</td><td>found</td><td/><td>)</td><td/></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">found </td><td> </td></tr></table></div>

	</div>

	<div class="nested1" id="GUID-01D2AF56-21E1-3FF3-BF86-0C356A1658EF"><a name="GUID-01D2AF56-21E1-3FF3-BF86-0C356A1658EF"><!-- --></a>
		<h2 class="topictitle2">Close()</h2>
		<table class="signature"><tr><td>elms</td><td>Close</td><td>(</td><td>)</td><td/></tr></table><div class="section"></div>

	</div>

	<div class="nested1" id="GUID-AD51959B-48C1-3577-B7F5-6000EBD54778"><a name="GUID-AD51959B-48C1-3577-B7F5-6000EBD54778"><!-- --></a>
		<h2 class="topictitle2">if(bestCandidate)</h2>
		<table class="signature"><tr><td>if</td><td>(</td><td><a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">bestCandidate</a></td><td> = =0</td><td>)</td><td/></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-463946F6-F9D6-32B2-BA20-0A7A0F67B55F.html">bestCandidate</a>  = =0</td><td> </td></tr></table></div>

	</div>

	<div class="nested1" id="GUID-8E25707C-A16F-3C63-B908-574C09A7C2B3"><a name="GUID-8E25707C-A16F-3C63-B908-574C09A7C2B3"><!-- --></a>
		<h2 class="topictitle2">return * bestCandidate</h2>
		<table class="signature"><tr><td>return *</td><td>bestCandidate</td></tr></table><div class="section"></div>

	</div>

	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>