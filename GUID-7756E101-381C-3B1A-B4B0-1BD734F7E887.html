<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MeshMachine::AActivitySemaphore"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887"/>

<title>MeshMachine::AActivitySemaphore</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887"><a name="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2611716 id2612216 id2612221 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MeshMachine::AActivitySemaphore Class Reference</h1>
	<table class="signature"><tr><td>class MeshMachine::AActivitySemaphore : public MeshMachine::AContextStore</td></tr></table><div class="section"><div>
			<p>Aggregate class for activities which wish to use mutexes.</p>

			<p>After a serialised state or transition has been unblocked, signalled and invoked, <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887">AActivitySemaphore</a> clears all of the synchronisation related information (e.g stored context), assuming that the job has been done. Sometimes however the serialised state, upon more careful inspection of the environment (context), may decide that it still does not want to be executed and it wishes to sleep again.</p>

			<p>In such case it would call <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-DB7C7207-FB42-3678-9C10-74AA07A6F25B">Wait()</a> and return <tt>EIgnore</tt> from its <tt>TransitionTag()</tt>. The same applies to a serialised transition. It may want to call <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-DB7C7207-FB42-3678-9C10-74AA07A6F25B">Wait()</a> instead of, for example sending a request message.</p>

			<p>After calling <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-DB7C7207-FB42-3678-9C10-74AA07A6F25B">Wait()</a> the serialised state will be woken up when the policy matches, which allows the serialised state to finish its job. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">MeshMachine::AActivitySemaphore<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-0A63B36E-1CB6-32C7-A6CD-67B42076DAEC.html">MeshMachine::AContextStore</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-6B315241-D6BF-3236-B206-E7E9A233BC2F">IsWaiting</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-8210BF29-0177-3B08-85FB-39A42CC0E7E4">ParkState</a>(const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-30A81B3F-20D9-34C8-8B7D-9B3D3F02A9AC">ParkTransitionL</a>(const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-FB3D85B3-D0F2-3374-BFE0-C9563F94109E">Signal</a>(<a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-AF7104F5-445A-3D27-8D1B-596324F61BCA">UnparkState</a>(const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DB7C7207-FB42-3678-9C10-74AA07A6F25B">Wait</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-EC432CC4-E529-3EC6-BDD9-B06028939977">AActivitySemaphore</a>()</td></tr><tr class="bg"><td align="right" class="code"/><td><a href="#GUID-80BB4142-59EA-30D3-96B4-71E20C05266C">~AActivitySemaphore</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-526E8A47-F9E0-3DA7-8542-918B9BB737FC">ClearIsWaiting</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-FC475A9A-B3BD-3BD8-81CE-863D2E465503">ClearWillWait</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-4C194E2B-5C9C-3EF7-9DD0-A4DDAB2DCCD6">SetIsWaiting</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-BEF911C3-DC0F-3EB8-BDE5-D750A5269A8C">SetWillWait</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-C32D720F-AE04-3FD7-BC6F-8627BEB23481">WillWait</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-0A268CEC-3398-34F9-850A-CFEE45DD3FAD">ClearIsTransition</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-16626D17-AA22-3655-BB8F-42214FDFC4CB">IsTransition</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-59D051B5-CFBB-3B4F-8DC2-A37C890A5CF2">SetIsTransition</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-94EC9D5E-2716-3516-BF30-B01D158A1BE5">anonymous</a> { <a href="#GUID-07226F66-CCB4-353D-ADA3-31EA07BA8E33">KIsWaiting</a> = 0x1, <a href="#GUID-87E292D0-D140-3496-B93C-DAA634D81786">KWillWait</a> = 0x2, <a href="#GUID-6BCB4650-6F37-39EA-8CAA-2483E5677A04">KIsTransition</a> = 0x4 }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-CF8FD015-14E7-363E-B76F-9706DDD8DAC2">KInterfaceId</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a>
				</td><td><a href="#GUID-DE14379D-8332-3239-8A1D-0B707A48C302">iFlags</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-EC432CC4-E529-3EC6-BDD9-B06028939977"><a name="GUID-EC432CC4-E529-3EC6-BDD9-B06028939977"><!-- --></a>
		<h2 class="topictitle2">AActivitySemaphore()</h2>
		<table class="signature"><tr><td>AActivitySemaphore</td><td>(</td><td>)</td><td>[protected, inline, explicit]</td></tr></table><div class="section"><div>
				<p>Constructor for <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887">AActivitySemaphore</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-80BB4142-59EA-30D3-96B4-71E20C05266C"><a name="GUID-80BB4142-59EA-30D3-96B4-71E20C05266C"><!-- --></a>
		<h2 class="topictitle2">~AActivitySemaphore()</h2>
		<table class="signature"><tr><td>~AActivitySemaphore</td><td>(</td><td>)</td><td>[protected, inline]</td></tr></table><div class="section"><div>
				<p>Destructor for <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887">AActivitySemaphore</a> </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-0A268CEC-3398-34F9-850A-CFEE45DD3FAD"><a name="GUID-0A268CEC-3398-34F9-850A-CFEE45DD3FAD"><!-- --></a>
		<h2 class="topictitle2">ClearIsTransition()</h2>
		<table class="signature"><tr><td>void</td><td>ClearIsTransition</td><td>(</td><td>)</td><td>[private, inline]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-526E8A47-F9E0-3DA7-8542-918B9BB737FC"><a name="GUID-526E8A47-F9E0-3DA7-8542-918B9BB737FC"><!-- --></a>
		<h2 class="topictitle2">ClearIsWaiting()</h2>
		<table class="signature"><tr><td>void</td><td>ClearIsWaiting</td><td>(</td><td>)</td><td>[protected, inline]</td></tr></table><div class="section"><div>
				<p>Clear the <tt>isWaiting</tt> flag </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-FC475A9A-B3BD-3BD8-81CE-863D2E465503"><a name="GUID-FC475A9A-B3BD-3BD8-81CE-863D2E465503"><!-- --></a>
		<h2 class="topictitle2">ClearWillWait()</h2>
		<table class="signature"><tr><td>void</td><td>ClearWillWait</td><td>(</td><td>)</td><td>[protected, inline]</td></tr></table><div class="section"><div>
				<p>Clear the willWait flag </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-16626D17-AA22-3655-BB8F-42214FDFC4CB"><a name="GUID-16626D17-AA22-3655-BB8F-42214FDFC4CB"><!-- --></a>
		<h2 class="topictitle2">IsTransition()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>IsTransition</td><td>(</td><td>)</td><td>const [private, inline]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-6B315241-D6BF-3236-B206-E7E9A233BC2F"><a name="GUID-6B315241-D6BF-3236-B206-E7E9A233BC2F"><!-- --></a>
		<h2 class="topictitle2">IsWaiting()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>IsWaiting</td><td>(</td><td>)</td><td>const [inline]</td></tr></table><div class="section"><div>
				<p>Check if the activity is waiting </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8210BF29-0177-3B08-85FB-39A42CC0E7E4"><a name="GUID-8210BF29-0177-3B08-85FB-39A42CC0E7E4"><!-- --></a>
		<h2 class="topictitle2">ParkState(const TNodeContextBase &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ParkState</td><td>(</td><td>const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;</td><td>aContext</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Park a state.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp; aContext</td><td>The context which the state is to run in. This will be stored </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-30A81B3F-20D9-34C8-8B7D-9B3D3F02A9AC"><a name="GUID-30A81B3F-20D9-34C8-8B7D-9B3D3F02A9AC"><!-- --></a>
		<h2 class="topictitle2">ParkTransitionL(const TNodeContextBase &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ParkTransitionL</td><td>(</td><td>const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;</td><td>aContext</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Park a transition</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp; aContext</td><td>The context which the transition is to run in.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-59D051B5-CFBB-3B4F-8DC2-A37C890A5CF2"><a name="GUID-59D051B5-CFBB-3B4F-8DC2-A37C890A5CF2"><!-- --></a>
		<h2 class="topictitle2">SetIsTransition()</h2>
		<table class="signature"><tr><td>void</td><td>SetIsTransition</td><td>(</td><td>)</td><td>[private, inline]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-4C194E2B-5C9C-3EF7-9DD0-A4DDAB2DCCD6"><a name="GUID-4C194E2B-5C9C-3EF7-9DD0-A4DDAB2DCCD6"><!-- --></a>
		<h2 class="topictitle2">SetIsWaiting()</h2>
		<table class="signature"><tr><td>void</td><td>SetIsWaiting</td><td>(</td><td>)</td><td>[protected, inline]</td></tr></table><div class="section"><div>
				<p>Set the <tt>isWaiting</tt> flag </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-BEF911C3-DC0F-3EB8-BDE5-D750A5269A8C"><a name="GUID-BEF911C3-DC0F-3EB8-BDE5-D750A5269A8C"><!-- --></a>
		<h2 class="topictitle2">SetWillWait()</h2>
		<table class="signature"><tr><td>void</td><td>SetWillWait</td><td>(</td><td>)</td><td>[protected, inline]</td></tr></table><div class="section"><div>
				<p>Set the willWait flag </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-FB3D85B3-D0F2-3374-BFE0-C9563F94109E"><a name="GUID-FB3D85B3-D0F2-3374-BFE0-C9563F94109E"><!-- --></a>
		<h2 class="topictitle2">Signal(TNodeContextBase &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>Signal</td><td>(</td><td><a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;</td><td>aContext</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Signals to the activity that an event has occurred. Used for waking up sleeping activities which use mutexes. The activity is expected to check if the mutex has now cleared.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp; aContext</td><td>Current context in the state machine. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AF7104F5-445A-3D27-8D1B-596324F61BCA"><a name="GUID-AF7104F5-445A-3D27-8D1B-596324F61BCA"><!-- --></a>
		<h2 class="topictitle2">UnparkState(const TNodeContextBase &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>UnparkState</td><td>(</td><td>const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp;</td><td>aContext</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Unpark a state.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-064A0393-5D68-33F9-8B06-B83533855616.html">TNodeContextBase</a> &amp; aContext</td><td>The context which the state is to run in. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-DB7C7207-FB42-3678-9C10-74AA07A6F25B"><a name="GUID-DB7C7207-FB42-3678-9C10-74AA07A6F25B"><!-- --></a>
		<h2 class="topictitle2">Wait()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Wait</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Tell the activity to wait. The activity will wait until <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-FB3D85B3-D0F2-3374-BFE0-C9563F94109E">Signal()</a> is called. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-C32D720F-AE04-3FD7-BC6F-8627BEB23481"><a name="GUID-C32D720F-AE04-3FD7-BC6F-8627BEB23481"><!-- --></a>
		<h2 class="topictitle2">WillWait()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>WillWait</td><td>(</td><td>)</td><td>const [protected, inline]</td></tr></table><div class="section"><div>
				<p>Check if the WillWait flag is set. The WillWait flag indicates whether the activity will be in a waiting state at the end of the signal function. This is distinct from "is waiting" which indicates whether the activity was waiting on entry to the <a href="GUID-7756E101-381C-3B1A-B4B0-1BD734F7E887.html#GUID-FB3D85B3-D0F2-3374-BFE0-C9563F94109E">Signal()</a> function.</p>

				<p/>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-94EC9D5E-2716-3516-BF30-B01D158A1BE5"><a name="GUID-94EC9D5E-2716-3516-BF30-B01D158A1BE5"><!-- --></a>
		<h2 class="topictitle2">Enum anonymous</h2>
		<div class="section"></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">KIsWaiting = 0x1</td><td> </td></tr><tr class="bg"><td valign="top">KWillWait = 0x2</td><td> </td></tr><tr><td valign="top">KIsTransition = 0x4</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-CF8FD015-14E7-363E-B76F-9706DDD8DAC2"><a name="GUID-CF8FD015-14E7-363E-B76F-9706DDD8DAC2"><!-- --></a>
		<h2 class="topictitle2">const TInt KInterfaceId</h2>
		<table class="signature"><tr><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>KInterfaceId</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Interface id </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-DE14379D-8332-3239-8A1D-0B707A48C302"><a name="GUID-DE14379D-8332-3239-8A1D-0B707A48C302"><!-- --></a>
		<h2 class="topictitle2">
					TUint8
				 iFlags</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a>
				</td><td>iFlags</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>