<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Handling of Multiple Clients"/>
<meta name="DC.Relation" scheme="URI" content="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0522B178-0FD5-4416-B7FE-390749F7A13D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3AF6CE70-DDBE-53F3-ABB6-7E78A300F14B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Handling of Multiple Clients</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2518949 id2518958 id2518972 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-0522B178-0FD5-4416-B7FE-390749F7A13D.html">Contacts Guide</a> &gt; <a href="GUID-3AF6CE70-DDBE-53F3-ABB6-7E78A300F14B.html">Contacts Model</a> &gt; <a href="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html">Concepts</a> &gt; </div>
<h1 class="topictitle1">Handling of Multiple Clients</h1>
<div><div class="section" id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-10385EFC-1D2E-5B5B-A45F-481DDB7FD7E6"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-10385EFC-1D2E-5B5B-A45F-481DDB7FD7E6"><!-- --></a><h2 class="sectiontitle">Overview</h2> <p>The Contacts Model uses a Client Server architecture. Many clients can send requests to the server for operations on one or more contacts databases. </p>
 <p>In the case where multiple clients are accessing the same database the server will attempt to process the requests sequentially. </p>
 <p>Requests are usually carried out immediately: </p>
 <ul><li id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-0C2B9C63-789B-5119-A184-EFEBB0D3C48B"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-0C2B9C63-789B-5119-A184-EFEBB0D3C48B"><!-- --></a><p>The request is valid for the current state and is processed </p>
 </li>
 <li id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-CCDE2531-BC43-5611-AA73-DC6DF26AB938"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-CCDE2531-BC43-5611-AA73-DC6DF26AB938"><!-- --></a><p>The request is not valid for the current state and is completed by leaving with an appropriate error code </p>
 </li>
 </ul>
 <p>There are however two scenarios where a request cannot be processed immediately: </p>
 <ul><li id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-2FBB589B-0BB1-5BD9-AA34-81BEE3867A86"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-2FBB589B-0BB1-5BD9-AA34-81BEE3867A86"><!-- --></a><p>The request needs to open or modify a contact item currently locked by any session </p>
 </li>
 <li id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-8DA367AD-939A-58BF-887A-AADEFBCE33C4"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-8DA367AD-939A-58BF-887A-AADEFBCE33C4"><!-- --></a><p>The current state of the server prevents the request from being carried out </p>
 </li>
 </ul>
 <p>In both of these cases the request is queued with the expectation that the condition preventing its completion will soon cease. </p>
 <p>When a contact item is unlocked, or the state of the server changes, an attempt is made to execute the first request in the queue. If the request still cannot be processed it is once again added to the queue. This activity is repeated for all queued requests. </p>
 <p>A request will only remain in the queue for a defined period known as the operation timeout. At the end of this period the client’s request will be completed by leaving with an error code appropriate for the request. These error codes conform to the values used in the previous version of the Contacts Model. </p>
 </div>
 <div class="section" id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-92691A23-A7E9-5C54-A4BF-A84CE7358F65"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-92691A23-A7E9-5C54-A4BF-A84CE7358F65"><!-- --></a><h2 class="sectiontitle">Setting the Operation Timeout Value</h2> <p>The following API is used to set the operation timeout value: </p>
 <pre class="codeblock" id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-6E74B20E-5C63-5ADA-9AAB-459416A58DC7"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-6E74B20E-5C63-5ADA-9AAB-459416A58DC7"><!-- --></a>void CContactDatabase::SetOperationTimeOutL(const TInt aMilSeconds) const</pre>
 
<div class="tablenoborder"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-3C039DC6-75D0-5C60-965C-2312CB353DB6"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-3C039DC6-75D0-5C60-965C-2312CB353DB6" frame="border" border="1" rules="all"><tbody><tr><td class="cellrowborder" valign="top"><p>Parameter </p>
 </td>
 <td class="cellrowborder" valign="top"><p> <em>aMilSeconds </em>  </p>
 <p>The operation timeout in milliseconds. This timeout is only applied to requests sent by clients of this database after this time. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 <div class="section" id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-4AAFE94A-183C-57D5-9456-09026F050DE7"><a name="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B__GUID-4AAFE94A-183C-57D5-9456-09026F050DE7"><!-- --></a><h2 class="sectiontitle">Implementation Considerations </h2> <p>By default the operation timeout is 1 second. You may wish to change this value based on the way in which the application layer uses the Contacts Model. </p>
 <p>The timeout is set per session – multiple clients using the same database can specify independent values for the operation timeout. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html">Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>