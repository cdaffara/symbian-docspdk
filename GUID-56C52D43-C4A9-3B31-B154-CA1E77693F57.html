<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RSqlSecurityPolicy"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57"/>

<title>RSqlSecurityPolicy</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57"><a name="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2490214 id2490614 id2490875 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">RSqlSecurityPolicy Class Reference</h1>
	<table class="signature"><tr><td>class RSqlSecurityPolicy</td></tr></table><div class="section"><div>
			<p>A container for the security policies for a shared SQL database.</p>

			<div class="p">The container can contain:<ul><li><p>security policies that apply to the database.</p>
</li>
<li><p>security policies that apply to individual database objects, i.e. database tables.</p>
</li>
</ul>
</div>

			<div class="p">For the database, you use <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-64C1B8E5-8317-339F-8525-C91140239881">RSqlSecurityPolicy::SetDbPolicy()</a> to apply a separate security policy to:<ul><li><p>the database schema.</p>
</li>
<li><p>read activity on the database.</p>
</li>
<li><p>write activity on the database.</p>
</li>
</ul>
</div>

			<div class="p">For database tables, you use <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-DD32ED80-E275-3793-8703-5C20EEB79E4C">RSqlSecurityPolicy::SetPolicy()</a> to apply a separate security policy to:<ul><li><p>write activity on each named database table.</p>
</li>
<li><p>read activity on each named database table.</p>
</li>
</ul>
</div>

			<div class="p">A client uses a <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object to create a secure database. It does this by:<ul><li><p>creating a <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object.</p>
</li>
<li><p>setting all the appropriate security policies into it.</p>
</li>
<li><p>passing the object as an argument to <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-32C2E97B-1D52-30B7-B615-359ACAB652A8">RSqlDatabase::Create()</a>.</p>
</li>
<li><p>closing the <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object on return from <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-32C2E97B-1D52-30B7-B615-359ACAB652A8">RSqlDatabase::Create()</a>.</p>
</li>
</ul>
</div>

			<p>Once a secure shared database has been created with specific security policies, these policies are made persistent and cannot be changed during the life of that database.</p>

			<p>Security policies are encapsulated by <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> objects. The general usage pattern is to create the security policies container object (<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a>) using a default security policy (<a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a>), and then to assign more specific 'overriding' security policies.</p>

			<p>The following code fragment shows how you do this:</p>

			<div class="p">
				<pre class="codeblock">TSecurityPolicy defaultPolicy;
RSqlSecurityPolicy securityPolicy;
RSqlDatabase database;
TInt err;

// Create security policies container object using a default security policy.
securityPolicy.Create(defaultPolicy); 

// Set up policy to apply to database schema
// and assign it
TSecurityPolicy schemaPolicy;
...
err = securityPolicy.SetDbPolicy(RSqlSecurityPolicy::ESchemaPolicy, schemaPolicy);

// Set up policy to apply to write activity on the database
// and assign it
TSecurityPolicy writePolicy;
...
err = securityPolicy.SetDbPolicy(RSqlSecurityPolicy::EWritePolicy, writePolicy);

// Set up policy to apply to write activity to the database table named "Table1"
// and assign it
TSecurityPolicy tablePolicy1;
...
err = securityPolicy.SetPolicy(RSqlSecurityPolicy::ETable, _L("Table1"), RSqlSecurityPolicy::EWritePolicy, tablePolicy1);

// Set up policy to apply to read activity to the database table named "Table2"
TSecurityPolicy tablePolicy2;
err = securityPolicy.SetPolicy(RSqlSecurityPolicy::ETable, _L("Table2"), RSqlSecurityPolicy::EReadPolicy, tablePolicy2);

// Create the database, passing the security policies
err = database.Create(KDatabaseName, securityPolicy);

// We can close the RSqlSecurityPolicy object.
securityPolicy.Close();</pre>

			</div>

			<p>Note that in this example code fragment, the client has not assigned specific overriding policies for all possible cases; for example, no overriding policy has been assigned to control read activity on the database, read activity on "Table1", nor write activity on "Table2". For these cases, the default security policy will apply.</p>

			<p>A client can also retrieve a database's security policies by calling <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-7538F1ED-BF9C-3BF4-ADCC-46B89121E752">RSqlDatabase::GetSecurityPolicy()</a>; this returns a <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object containing the security policies. Note that it is the client's responsibility to close the <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object when the client no longer needs it. The following code fragment suggests how you might do this:</p>

			<div class="p">
				<pre class="codeblock">RSqlDatabase database;
RSqlSecurityPolicy securityPolicy;

// Retrieve the security policies; on return from the call to 
// GetSecurityPolicy(), the RSqlSecurityPolicy object passed 
// to this function will contain the security policies.
database.GetSecurityPolicy(securityPolicy);
...
// This is the security policy that applies to database schema
TSecurityPolicy schemaPolicy = securityPolicy.DbPolicy(RSqlSecurityPolicy::ESchemaPolicy);
...
// This is the security policy that applies to write activity to the database
// table named "Table1".
TSecurityPolicy writePolicy = securityPolicy.Policy(RSqlSecurityPolicy::ETable, _L("Table1"), RSqlSecurityPolicy::EWritePolicy);
...
// Close the RSqlSecurityPolicy object when no longer needed.
securityPolicy.Close();</pre>

			</div>

			<p>Note that in the cases where an 'overriding' security policy was not originally assigned, then the security policy returned will simply be the default security policy.</p>

			<p>Note: The database security policies are used to control the access to the objects (tables, indexes, triggers, views) in the main database. The access to the temporary tables, indexes, etc. is not a subject of any restrictions, e.g. a client with "read" database security policy only can create and use temporary tables, views, indexes, triggers.</p>

			<p>
				<a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF">RSqlDatabase</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-64C1B8E5-8317-339F-8525-C91140239881">RSqlSecurityPolicy::SetDbPolicy()</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-DD32ED80-E275-3793-8703-5C20EEB79E4C">RSqlSecurityPolicy::SetPolicy()</a></p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-CAF9137F-7E96-3176-9695-A440AE9F5577">RSqlSecurityPolicy</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-74EF3B00-9AFD-37A0-BBE9-A8040260F1F7">CreateL</a>(const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td><a href="#GUID-31E7A5DE-0B70-3B1A-B7E7-815FE8154FC4">DefaultPolicy</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5CF4B47E-2645-3723-B709-DDE41D124F52">ExternalizeL</a>(<a href="GUID-ADAC48A2-3D24-306B-9473-70201F4D351D.html">RWriteStream</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-048996F9-64B3-381D-9EC9-5457FC88B3CC">InternalizeL</a>(<a href="GUID-81056EAD-722C-373F-A8CF-4CC67A5B4468.html">RReadStream</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td><a href="#GUID-C55507A9-807C-3AE4-B66B-7B002E895602">Policy</a>(<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-64C1B8E5-8317-339F-8525-C91140239881">SetDbPolicy</a>(<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a>, const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-DD32ED80-E275-3793-8703-5C20EEB79E4C">SetPolicy</a>(<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a>, const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">CSqlSecurityPolicy &amp;</td><td><a href="#GUID-99F0087C-6D7E-32EE-87BB-D14AAFA6FB17">Impl</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-624B3F23-A396-3E89-8A79-9579C0FCAD97">Set</a>(CSqlSecurityPolicy &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377">TObjectType</a> { <a href="#GUID-DFFB81AE-5A8A-3EAA-A6CB-230B64058DCD">ETable</a> }</td></tr><tr class="bg"><td align="right" valign="top">enum</td><td><a href="#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">TPolicyType</a> { <a href="#GUID-A5FCEFC4-6ADE-37E6-A94E-F4DED49AA97C">ESchemaPolicy</a>, <a href="#GUID-7C46A711-A0DC-36D6-8432-6962AEE75EF0">EReadPolicy</a>, <a href="#GUID-7613A165-7AFC-3DC2-8836-8293336E6D7E">EWritePolicy</a> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">CSqlSecurityPolicy *</td><td><a href="#GUID-F1FFE766-F878-3AB6-B208-CAD4E940AD4D">iImpl</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-CAF9137F-7E96-3176-9695-A440AE9F5577"><a name="GUID-CAF9137F-7E96-3176-9695-A440AE9F5577"><!-- --></a>
		<h2 class="topictitle2">RSqlSecurityPolicy()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>RSqlSecurityPolicy</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Initializes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance data members with their default values.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-74EF3B00-9AFD-37A0-BBE9-A8040260F1F7"><a name="GUID-74EF3B00-9AFD-37A0-BBE9-A8040260F1F7"><!-- --></a>
		<h2 class="topictitle2">CreateL(const TSecurityPolicy &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CreateL</td><td>(</td><td>const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;</td><td>aDefaultPolicy</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Initializes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occured. Note that database specific errors categorised as ESqlDbError, and other system-wide error codes may also be returned.</dd>

						
					</dl>

					<a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp; aDefaultPolicy</td><td>Default security policy which will be used for the database and all database objects. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-31E7A5DE-0B70-3B1A-B7E7-815FE8154FC4"><a name="GUID-31E7A5DE-0B70-3B1A-B7E7-815FE8154FC4"><!-- --></a>
		<h2 class="topictitle2">DefaultPolicy()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td>DefaultPolicy</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-5CF4B47E-2645-3723-B709-DDE41D124F52"><a name="GUID-5CF4B47E-2645-3723-B709-DDE41D124F52"><!-- --></a>
		<h2 class="topictitle2">ExternalizeL(RWriteStream &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ExternalizeL</td><td>(</td><td><a href="GUID-ADAC48A2-3D24-306B-9473-70201F4D351D.html">RWriteStream</a> &amp;</td><td>aStream</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Externalizes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance to a write stream.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occured.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-ADAC48A2-3D24-306B-9473-70201F4D351D.html">RWriteStream</a> &amp; aStream</td><td>Stream to which RSqlSecurityPolicy instance should be externalised. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-99F0087C-6D7E-32EE-87BB-D14AAFA6FB17"><a name="GUID-99F0087C-6D7E-32EE-87BB-D14AAFA6FB17"><!-- --></a>
		<h2 class="topictitle2">Impl()</h2>
		<table class="signature"><tr><td>CSqlSecurityPolicy &amp;</td><td>Impl</td><td>(</td><td>)</td><td>const [private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-048996F9-64B3-381D-9EC9-5457FC88B3CC"><a name="GUID-048996F9-64B3-381D-9EC9-5457FC88B3CC"><!-- --></a>
		<h2 class="topictitle2">InternalizeL(RReadStream &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>InternalizeL</td><td>(</td><td><a href="GUID-81056EAD-722C-373F-A8CF-4CC67A5B4468.html">RReadStream</a> &amp;</td><td>aStream</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Initializes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance from a stream. In case of an error the original security policy data is preserved.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occured. Note that the function may leave with other system-wide error codes.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-81056EAD-722C-373F-A8CF-4CC67A5B4468.html">RReadStream</a> &amp; aStream</td><td>A read stream containing the data with which the RSqlSecurityPolicy instance will be initialized. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C55507A9-807C-3AE4-B66B-7B002E895602"><a name="GUID-C55507A9-807C-3AE4-B66B-7B002E895602"><!-- --></a>
		<h2 class="topictitle2">Policy(TObjectType, const TDesC &amp;, TPolicyType)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td>Policy</td><td>(</td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a></td><td>aObjectType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aObjectName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a></td><td>aPolicyType</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table><div class="section"><div>
				<p>Gets a database object security policy of the specified type.</p>

				<p>If no security policy of the specified type exists for that database object - the default security policy will be returned.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aPolicyType value. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectType value (It has to be <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-DFFB81AE-5A8A-3EAA-A6CB-230B64058DCD">RSqlSecurityPolicy::ETable</a>). </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectName value (Null descriptor).</dd>

						
					</dl>

					<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377">RSqlSecurityPolicy::TObjectType</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">RSqlSecurityPolicy::TPolicyType</a> <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a><dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>None </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a> aObjectType</td><td>Database object type. At the moment there is only one database object type - RSqlSecurityPolicy::ETable.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aObjectName</td><td>Database object name. It cannot be a null descriptor.  </td></tr><tr><td class="parameter"><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a> aPolicyType</td><td>Database object security policy type: RSqlSecurityPolicy::EReadPolicy, RSqlSecurityPolicy::EWritePolicy. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-624B3F23-A396-3E89-8A79-9579C0FCAD97"><a name="GUID-624B3F23-A396-3E89-8A79-9579C0FCAD97"><!-- --></a>
		<h2 class="topictitle2">Set(CSqlSecurityPolicy &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Set</td><td>(</td><td>CSqlSecurityPolicy &amp;</td><td>aImpl</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Destroys the existing iImpl object and replaces it with aImpl parameter.</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">CSqlSecurityPolicy &amp; aImpl</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-64C1B8E5-8317-339F-8525-C91140239881"><a name="GUID-64C1B8E5-8317-339F-8525-C91140239881"><!-- --></a>
		<h2 class="topictitle2">SetDbPolicy(TPolicyType, const TSecurityPolicy &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetDbPolicy</td><td>(</td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a></td><td>aPolicyType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;</td><td>aPolicy</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Sets a database security policy of a specific type.</p>

				<p>Sets database security policy (aPolicy argument) of aPolicyType type. If the aPolicyType database security policy has already been set then it will be replaced with the supplied policy.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aPolicyType value.</dd>

						
					</dl>

					<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">RSqlSecurityPolicy::TPolicyType</a> <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a><dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>None </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a> aPolicyType</td><td>Database security policy type: RSqlSecurityPolicy::ESchema, RSqlSecurityPolicy::ERead, RSqlSecurityPolicy::EWrite.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp; aPolicy</td><td>The database security policy. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-DD32ED80-E275-3793-8703-5C20EEB79E4C"><a name="GUID-DD32ED80-E275-3793-8703-5C20EEB79E4C"><!-- --></a>
		<h2 class="topictitle2">SetPolicy(TObjectType, const TDesC &amp;, TPolicyType, const TSecurityPolicy &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetPolicy</td><td>(</td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a></td><td>aObjectType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aObjectName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a></td><td>aPolicyType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;</td><td>aPolicy</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Sets a database object security policy of a specific type.</p>

				<p>If there is no entry in the security policy container for the object with aObjectName name, then a new entry for this object will be created and all object security policies will be initialized with the default security policy. The specific database object policy, refered by aPolicyType parameter, will be set after that.</p>

				<p>If an entry for aObjectName object already exists, its security policy of "aPolicyType" type will be reinitialized with the data of aPolicy parameter.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aPolicyType value. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectType value (It has to be <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-DFFB81AE-5A8A-3EAA-A6CB-230B64058DCD">RSqlSecurityPolicy::ETable</a>). </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectName value (Null descriptor).</dd>

						
					</dl>

					<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377">RSqlSecurityPolicy::TObjectType</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">RSqlSecurityPolicy::TPolicyType</a> <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a><dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>None </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a> aObjectType</td><td>Database object type. At the moment there is only one database object type - RSqlSecurityPolicy::ETable.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aObjectName</td><td>Database object name. It cannot be a null descriptor.  </td></tr><tr><td class="parameter"><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a> aPolicyType</td><td>Database object security policy type: RSqlSecurityPolicy::EReadPolicy, RSqlSecurityPolicy::EWritePolicy.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp; aPolicy</td><td>Database security policy. </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377"><a name="GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377"><!-- --></a>
		<h2 class="topictitle2">Enum TObjectType</h2>
		<div class="section"><div>
				<p>Not currently supported.</p>

				<p>Defines a set of values that represents the database objects which can be protected by database security policy types. </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ETable</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1"><a name="GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1"><!-- --></a>
		<h2 class="topictitle2">Enum TPolicyType</h2>
		<div class="section"><div>
				<p>Defines a set of values that represents the database security policy types. Each database security policy type refers to a set of capabilities encapsulated in a <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> object. The <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> object defines what capabilities the calling application must have in order to perform partiqular database operation. <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ESchemaPolicy</td><td>
							<p>Schema database security policy. An application with schema database security policy can modify the database schema, write to database, read from database. </p>

						 </td></tr><tr class="bg"><td valign="top">EReadPolicy</td><td>
							<p>Read database security policy. An application with read database security policy can read from database. </p>

						 </td></tr><tr><td valign="top">EWritePolicy</td><td>
							<p>Write database security policy. An application with write database security policy can write to database. </p>

						 </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-F1FFE766-F878-3AB6-B208-CAD4E940AD4D"><a name="GUID-F1FFE766-F878-3AB6-B208-CAD4E940AD4D"><!-- --></a>
		<h2 class="topictitle2">CSqlSecurityPolicy * iImpl</h2>
		<table class="signature"><tr><td>CSqlSecurityPolicy *</td><td>iImpl</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>