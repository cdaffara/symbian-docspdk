<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Single Phase Constructor"/>
<meta name="DC.Relation" scheme="URI" content="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Single Phase Constructor</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C"><a name="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2384051 id2384059 id2384073 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html">Generic Usability Library</a> &gt; <a href="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html" title="The EUser High Level (EUserHL) library is a general purpose user library that provides a usability layer to hide away some of the complexities of the Symbian platform. This section lists the concepts, the overview and the tutorials that helps the Symbian Developers understand the importance of the EUserHL library.">EUser High Level Library</a> &gt; <a href="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html" title="The EUser High Level Library introduces a new L-Class idiom along with a self managing string class and automatic resource management classes.">EUser High Level Concepts</a> &gt; </div>
<h1 class="topictitle1">Single Phase Constructor</h1>
<div><p>Single phase constructor is to push a pointer to the clean-up stack, and then complete its construction. It uses the macro <a href="GUID-8BB41BAD-5ED4-32E5-B4B4-312E472297CB.html"><span class="apiname">CONSTRUCTORS_MAY_LEAVE</span></a> that is necessary to ensure whether the cleanup is correctly handled in the event that a constructor may leave beneath a call to new(ELeave). </p>
 <div class="example"><h2 class="sectiontitle">Characteristics of single phase constructor</h2> <p>The following are the major characteristics of single phase constructor: </p>
 <ul><li id="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-2682874E-E2C1-5985-A1E5-0C802889575B"><a name="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-2682874E-E2C1-5985-A1E5-0C802889575B"><!-- --></a><p>The implementation of NewL becomes much simpler </p>
 </li>
 <li id="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-CDFDB865-4BCA-59E5-9E20-60591E04027B"><a name="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-CDFDB865-4BCA-59E5-9E20-60591E04027B"><!-- --></a><p>By using RAII classes in fields to manage owned resources, constructor exception-safety can be maintained </p>
 </li>
 <li id="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-765D89CC-8B72-5A11-8392-82861D056A30"><a name="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-765D89CC-8B72-5A11-8392-82861D056A30"><!-- --></a><p>Cleanup stack technology </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">Example</h2> <p>The following code snippet implies the usage of single phase constructor using <a href="GUID-8BB41BAD-5ED4-32E5-B4B4-312E472297CB.html"><span class="apiname">CONSTRUCTORS_MAY_LEAVE</span></a> macro. </p>
 <pre class="codeblock" id="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-7A76F800-7980-58A0-9DCA-95502E8D4F3E"><a name="GUID-38C37BA5-B972-5C8B-B8DE-B2FECF2A3C3C__GUID-7A76F800-7980-58A0-9DCA-95502E8D4F3E"><!-- --></a>
        class CManagedUserSinglePhase : public CBase
            {
            public:
            CONSTRUCTORS_MAY_LEAVE
            static CManagedUserSinglePhase* NewL(CTicker* aTicker)
                {
                    return new(ELeave) CManagedUserSinglePhase(aTicker);
                }
            }
</pre>
 </div>
 <div class="section"><h2 class="sectiontitle">See Also</h2> <p><a href="GUID-B007634D-4D55-528A-8B85-6120C633AC8B.html">EUser High Level Library Overview</a>  </p>
 <p><a href="GUID-D33EB877-CCCB-527B-8AFC-4A8385C55E78.html" title="The EUser High Level Library tutorials are meant to discuss the usage of the LString and resource management class implementation.">EUser High Level Library Tutorials</a>  </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html" title="The EUser High Level Library introduces a new L-Class idiom along with a self managing string class and automatic resource management classes.">EUser High Level Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>