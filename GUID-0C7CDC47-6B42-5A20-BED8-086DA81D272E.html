<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="PBE -- guide"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E1B040A-1C18-4F62-95F9-CE0ECE39C430.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5B112A34-1CBA-5B28-A941-27847FC1D30A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E1B040A-1C18-4F62-95F9-CE0ECE39C430.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>PBE -- guide</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2858558 id2859177 id2859191 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html">OS Security Guide</a> &gt; <a href="GUID-5B112A34-1CBA-5B28-A941-27847FC1D30A.html">Cryptography overview</a> &gt; <a href="GUID-1E1B040A-1C18-4F62-95F9-CE0ECE39C430.html" title="This section provides all the conceptual information about the Crypto and the different features supported by Crypto.">Cryptography Concepts</a> &gt; </div>
<h1 class="topictitle1">PBE
-- guide</h1>
<div>
<ul>
<li id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-BE431C93-15F3-5A3E-B461-6D0B8CAA50CA"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-BE431C93-15F3-5A3E-B461-6D0B8CAA50CA"><!-- --></a><p> <a href="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E.html#GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-297963A8-4FD2-5350-AE7C-18D6C7C11179">What is PBE?</a>  </p>
 </li>

<li id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-3A2686D3-6A20-5E45-AB34-256BE39862FF"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-3A2686D3-6A20-5E45-AB34-256BE39862FF"><!-- --></a><p> <a href="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E.html#GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-CC39624C-D78C-5AD4-A5CA-8E9C09C4C80F">What is PBE used for?</a>  </p>
 </li>

<li id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-9E2294EF-D5B2-5C80-ABB4-1E5A100FF96F"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-9E2294EF-D5B2-5C80-ABB4-1E5A100FF96F"><!-- --></a><p> <a href="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E.html#GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-6EFD52CC-D8C7-57A3-8607-6EA6DD09ABEE">Base classes and their derived classes</a>  </p>
 </li>

<li id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-B433029C-EF44-5536-ADE8-2DA4A64E2A4C"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-B433029C-EF44-5536-ADE8-2DA4A64E2A4C"><!-- --></a><p> <a href="GUID-18358882-A4DD-5010-BED7-4ACAE021495D.html">Example
code</a>  </p>
 </li>

</ul>

<div class="section" id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-297963A8-4FD2-5350-AE7C-18D6C7C11179"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-297963A8-4FD2-5350-AE7C-18D6C7C11179"><!-- --></a><h2 class="sectiontitle">What is PBE?</h2> <p>PBE
provides an API to encrypt and decrypt data with a user-supplied password.
It is intended to be used by applications, such as editors or database programs,
that might provide the ability to encrypt a user's documents. It aims to be
secure and easy to use, and attempts to overcome the common pitfalls of encryption
based on user-supplied passwords. Specifically, it uses a <a href="http://www.rsasecurity.com/rsalabs/pkcs/pkcs-5/index.html" target="_blank">PKCS#5</a> -based key derivation function to create the
symmetric key based on the user's password. </p>
 <p> <a href="http://www.rsasecurity.com/rsalabs/pkcs/pkcs-5/index.html" target="_blank">PKCS#5</a> is the Password Based Encryption standard produced
by RSA laboratories. It describes a method to generate a symmetric key based
on a password. We use PKCS#5 v2.0 (specified in <a href="ftp://ftp.rfc-editor.org/in-notes/rfc2898.txt" target="_blank">RFC 2898</a>), which is able to generate unlimited key
length. </p>
 <p>The PBE algorithm generates a symmetric key based on a password,
which is provided by the user. To impede dictionary attacks, the password
is appended with a salt before being digested to produce the key; the salt
is generated using a pseudo random number generator. Furthermore, the PBE
algorithm by which the keys are derived is iterated a number of times, the
default being <samp class="codeph">KDefaultIterations</samp>. As the ciphers operate
in CBC mode, a randomly selected Initialization Vector (IV) is passed to them
as a seed. Note that the salt value, iteration count value, and the IV (i.e.,
the <samp class="codeph">CPBEncryptParms</samp> object) do not have to be kept secret
and can be sent along with the ciphertext. </p>
 <p>PBE provides APIs for encrypting
a single object (<samp class="codeph">CPBEncryptElement</samp>) and multiple objects
(<samp class="codeph">CPBEncryptSet</samp>). The latter is useful in the situation if
one wants random access to an encrypted source consisting of multiple, independent
elements; for example a database or a store. </p>
 </div>

<div class="section" id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-CC39624C-D78C-5AD4-A5CA-8E9C09C4C80F"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-CC39624C-D78C-5AD4-A5CA-8E9C09C4C80F"><!-- --></a><h2 class="sectiontitle">What is PBE
used for?</h2> <p>PBE is used to implement <a href="GUID-D6B1B658-0582-511A-8583-758F9338E5CB.html">Secure
Stream Encryption</a>, which can be used, for example: </p>
 <ul>
<li id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-13D8CD70-E1A2-5635-8515-C6C8811F468D"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-13D8CD70-E1A2-5635-8515-C6C8811F468D"><!-- --></a><p>to password protect
a database file </p>
 </li>

<li id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-2F2CC007-18BA-5254-AAF6-428C57F12DDE"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-2F2CC007-18BA-5254-AAF6-428C57F12DDE"><!-- --></a><p>to store contacts encrypted
on a mobile phone. </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-6EFD52CC-D8C7-57A3-8607-6EA6DD09ABEE"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-6EFD52CC-D8C7-57A3-8607-6EA6DD09ABEE"><!-- --></a><h2 class="sectiontitle">Base classes
and their derived classes</h2> <p>The diagrams below show the main classes
used in password based encryption and which are implemented in <span class="filepath">pbe.dll</span>.
Blue dotted arrows indicate that a class is contained or used by another class.
The arrows are labelled with the variable(s) through which the pointed class
is accessible. The color of the boxes indicates the type of Symbian class,
i.e., <samp class="codeph">M</samp>, <samp class="codeph">C</samp>, <samp class="codeph">R</samp> or <samp class="codeph">T</samp> class.
For detailed information on each component see the Cryptography API Reference
material. </p>
 <div class="fignone" id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-E3F6C83F-6B73-52A1-88F2-B996E2FD1D5C"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-E3F6C83F-6B73-52A1-88F2-B996E2FD1D5C"><!-- --></a><span class="figcap">Figure 1. The inheritance diagram above shows the <samp class="codeph">CPBEncryptionBase</samp> abstract
base class. Also shown are the following classes from the Cryptography API: <samp class="codeph">CPBEncryptElement</samp>, <samp class="codeph">CPBEncryptSet</samp>, <samp class="codeph">CPBAuthData</samp>, <samp class="codeph">CPBEncryptionData</samp>, and <samp class="codeph">CPBEncryptParams</samp>.</span>

<img src="GUID-FB45BC8B-FE99-5616-9270-132C4174DAE7_d0e593616_href.png"/>
</div>
 <div class="fignone" id="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-3843237A-3246-5179-8481-426A0E0CD095"><a name="GUID-0C7CDC47-6B42-5A20-BED8-086DA81D272E__GUID-3843237A-3246-5179-8481-426A0E0CD095"><!-- --></a><span class="figcap">Figure 2. The inheritance diagram above shows the <samp class="codeph">CPBEncryptor</samp> abstract
base class. Also shown are the following classes from the Cryptography API: <samp class="codeph">CPBDecryptor</samp>, <samp class="codeph">CPBDecryptorElement</samp>, <samp class="codeph">CPBDecryptorSet</samp>, <samp class="codeph">CSymmetricCipher</samp>, <samp class="codeph">CPBEncryptorElement</samp>, <samp class="codeph">CPBEncryptorSet</samp>.</span>

<img src="GUID-383A96FD-99C3-593C-B7A2-58153F4050DE_d0e593645_href.png"/>
</div>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-1E1B040A-1C18-4F62-95F9-CE0ECE39C430.html" title="This section provides all the conceptual information about the Crypto and the different features supported by Crypto.">Cryptography Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>