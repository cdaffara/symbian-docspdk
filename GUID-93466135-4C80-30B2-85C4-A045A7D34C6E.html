<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CImMobilityManager"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E"/>

<title>CImMobilityManager</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E"><a name="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0;
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CImMobilityManager Class Reference</h1>
	<table class="signature"><tr><td>class CImMobilityManager : public CBase</td></tr></table><div class="section"><div>
			<p>The <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html#GUID-93466135-4C80-30B2-85C4-A045A7D34C6E">CImMobilityManager</a> class manages notifications from the Bearer Mobility Framework, passing notifications up to the Mobility Policy Provider, and instructing the server MTM of the appropriate actions to take to perform the requested mobility behaviour.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CImMobilityManager<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-BD1F6204-275C-3624-9055-D4E6879EC544">~CImMobilityManager</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D1020065-3254-36C0-A2AE-B2E3BE07BDA5">AcceptNewCarrier</a>(<a href="GUID-329CFA8D-C7AF-3FE2-80A7-7F9D916C844F.html">TImMobilityAction</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-7DFE28ED-22BA-333A-B60F-ACA974EA4C7E">Error</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-45248469-5730-3D67-8D47-CE88A9F04F96">IgnoreNewCarrier</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-41B1A1F5-D205-3B5D-9C19-E66DAEE1E9D0">MigrateToNewCarrier</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5A7C0950-C634-3785-9352-FA1479246521">NewCarrierAccepted</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-4FE47CCC-FD28-3960-9EB5-C12BFDB67C6C">NewCarrierActive</a>(<a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-C495387A-C9E6-3F7E-9108-A52912C12B2E">NewCarrierRejected</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html">CImMobilityManager</a> *</td><td><a href="#GUID-5DC32335-6A8A-340B-9D1F-BC3026AB7FB0">NewL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, <a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>, <a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-B8A3B175-F7D5-3C8A-BE54-CC903AB7F29B">PreferredCarrierAvailable</a>(<a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a>, <a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8CA7E286-FDA4-3F8B-971D-E0F27CEFD482">SetConnection</a>(RCommsSubSession &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-7DCA5D0A-ACA7-3169-B6A9-04F9A69405C3">CImMobilityManager</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, <a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>, <a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-19C620F3-0BF5-3129-B851-566ACF641B11">ConstructL</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-856E9474-9D7E-377F-8826-DF67AE21FA1F">TMobilityState</a> { <br/><a href="#GUID-4AD38EB2-3545-3C83-A408-E0A8022FDAC7">EMobilityUninitialised</a>, <a href="#GUID-189CA755-AE30-3328-8456-316ED27BFBE8">EMobilityIdle</a>, <a href="#GUID-E796823B-A0ED-3FF7-B333-DFA63B1EAD6F">EMobilityWaitForUpgradePolicy</a>, <a href="#GUID-13769F5D-5D50-3617-B9A5-8484C10673BC">EMobilityWaitForDowngradePolicy</a>, <a href="#GUID-4806DC50-AD37-3C3E-9FCB-2D5DB1F1B2C9">EMobilityWaitForUpgradePolicyAndOldSocketClose</a>, <a href="#GUID-BB61FB46-CCD4-3035-A5CC-4EB48931B488">EMobilityWaitForOldSocketCloseCarrierRejected</a>, <a href="#GUID-E9955EE3-E1B5-3141-A1B9-F58C7BE1C711">EMobilityWaitForOldSocketClose</a>, <a href="#GUID-1175BC02-3652-391D-9376-F9E54ACD4459">EMobilityWaitForMigrate</a>, <a href="#GUID-CD7D7576-5FF5-3DF7-AEE7-4822ED34CC44">EMobilityConnectingToNewCarrier</a><br/> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>
				</td><td><a href="#GUID-B910ED1F-F1CD-388D-A1F7-0A40F52464AB">iAccountId</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-6CA83252-4D0C-3B72-83ED-B5152B666C83.html">CActiveCommsMobilityApiExt</a> *</td><td><a href="#GUID-DE8BF70D-0114-309B-AAB2-8DC7592466B7">iCommsMobilityApi</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-14C5D688-805C-3B16-943D-60ECFE646EFF">iIsCancelled</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-12EE4738-4F26-3CBA-97EC-87329764D36E">iIsSeamless</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp;</td><td><a href="#GUID-0D1B1CF7-6C3D-373E-A4C1-624B5FFFEF28">iMtm</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
				</td><td><a href="#GUID-74665BF7-B419-329E-9423-B30424AB852E">iMtmUid</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a>
				</td><td><a href="#GUID-9A555860-9087-338E-A4A0-0C7ECFC846C6">iNewAp</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a>
				</td><td><a href="#GUID-BFD88946-57F1-3DD9-A001-48C483B001B5">iOldAp</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>
				</td><td><a href="#GUID-D06EF9C4-CA14-3EB8-B2D5-E82C1B687CE3">iState</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-7DCA5D0A-ACA7-3169-B6A9-04F9A69405C3"><a name="GUID-7DCA5D0A-ACA7-3169-B6A9-04F9A69405C3"><!-- --></a>
		<h2 class="topictitle2">CImMobilityManager(TUid, TMsvId, MImMobileServer &amp;)</h2>
		<table class="signature"><tr><td>CImMobilityManager</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aMtmUid,</td></tr><tr><td colspan="2"> </td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a></td><td>aAccountId,</td></tr><tr><td colspan="2"> </td><td><a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp;</td><td>aMtm</td></tr><tr><td colspan="1"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aMtmUid</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> aAccountId</td><td> </td></tr><tr><td class="parameter"><a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp; aMtm</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BD1F6204-275C-3624-9055-D4E6879EC544"><a name="GUID-BD1F6204-275C-3624-9055-D4E6879EC544"><!-- --></a>
		<h2 class="topictitle2">~CImMobilityManager()</h2>
		<table class="signature"><tr><td>~CImMobilityManager</td><td>(</td><td>)</td><td/></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-D1020065-3254-36C0-A2AE-B2E3BE07BDA5"><a name="GUID-D1020065-3254-36C0-A2AE-B2E3BE07BDA5"><!-- --></a>
		<h2 class="topictitle2">AcceptNewCarrier(TImMobilityAction)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>AcceptNewCarrier</td><td>(</td><td><a href="GUID-329CFA8D-C7AF-3FE2-80A7-7F9D916C844F.html">TImMobilityAction</a></td><td>aAction</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Instruction from the Messaging Plugin Provider that the new carrier is to be accepted.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-329CFA8D-C7AF-3FE2-80A7-7F9D916C844F.html">TImMobilityAction</a> aAction</td><td>- action that the server MTM should take when closing existing sockets.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-19C620F3-0BF5-3129-B851-566ACF641B11"><a name="GUID-19C620F3-0BF5-3129-B851-566ACF641B11"><!-- --></a>
		<h2 class="topictitle2">ConstructL()</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-7DFE28ED-22BA-333A-B60F-ACA974EA4C7E"><a name="GUID-7DFE28ED-22BA-333A-B60F-ACA974EA4C7E"><!-- --></a>
		<h2 class="topictitle2">Error(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>Error</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Notification that an error has occured. This indicates that the <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html#GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD">RConnection</a> in use is no longer valid, therefore the Server MTM will be immediately notified. Once this is done, this function MUST NOT perform any actions that use class data, as the Server MTM may delete its instance of <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html#GUID-93466135-4C80-30B2-85C4-A045A7D34C6E">CImMobilityManager</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>- error code  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-45248469-5730-3D67-8D47-CE88A9F04F96"><a name="GUID-45248469-5730-3D67-8D47-CE88A9F04F96"><!-- --></a>
		<h2 class="topictitle2">IgnoreNewCarrier()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>IgnoreNewCarrier</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Instruction from the Messaging Plugin Provider that the new carrier is to be ignored.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-41B1A1F5-D205-3B5D-9C19-E66DAEE1E9D0"><a name="GUID-41B1A1F5-D205-3B5D-9C19-E66DAEE1E9D0"><!-- --></a>
		<h2 class="topictitle2">MigrateToNewCarrier()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>MigrateToNewCarrier</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Notification from the server MTM that existing sockets have been closed and that it is ready for migration to the new carrier to occur. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-5A7C0950-C634-3785-9352-FA1479246521"><a name="GUID-5A7C0950-C634-3785-9352-FA1479246521"><!-- --></a>
		<h2 class="topictitle2">NewCarrierAccepted()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>NewCarrierAccepted</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Notification from the server MTM that it has successfully re-established connection with the remote server using the new carrier. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-4FE47CCC-FD28-3960-9EB5-C12BFDB67C6C"><a name="GUID-4FE47CCC-FD28-3960-9EB5-C12BFDB67C6C"><!-- --></a>
		<h2 class="topictitle2">NewCarrierActive(TAccessPointInfo, TBool)</h2>
		<table class="signature"><tr><td>void</td><td>NewCarrierActive</td><td>(</td><td><a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a></td><td>aNewAp,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aIsSeamless</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Notification that the new carrier is active and available for connecting sockets.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a> aNewAp</td><td>- info about the new carrier  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aIsSeamless</td><td>- indicates if a migration will be seamless  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C495387A-C9E6-3F7E-9108-A52912C12B2E"><a name="GUID-C495387A-C9E6-3F7E-9108-A52912C12B2E"><!-- --></a>
		<h2 class="topictitle2">NewCarrierRejected()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>NewCarrierRejected</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Notification from the server MTM that it has been unable to re-established connection with the remote server using the new carrier. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-5DC32335-6A8A-340B-9D1F-BC3026AB7FB0"><a name="GUID-5DC32335-6A8A-340B-9D1F-BC3026AB7FB0"><!-- --></a>
		<h2 class="topictitle2">NewL(TUid, TMsvId, MImMobileServer &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html">CImMobilityManager</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aMtmUid,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a></td><td>aAccountId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp;</td><td>aMtm</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>The factory constructor. Part of two phased construction. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aMtmUid</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> aAccountId</td><td>- the ID of the email account  </td></tr><tr><td class="parameter"><a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp; aMtm</td><td>- Bearer Mobility API for the server MTM  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B8A3B175-F7D5-3C8A-BE54-CC903AB7F29B"><a name="GUID-B8A3B175-F7D5-3C8A-BE54-CC903AB7F29B"><!-- --></a>
		<h2 class="topictitle2">PreferredCarrierAvailable(TAccessPointInfo, TAccessPointInfo, TBool, TBool)</h2>
		<table class="signature"><tr><td>void</td><td>PreferredCarrierAvailable</td><td>(</td><td><a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a></td><td>aOldAp,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a></td><td>aNewAp,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aIsUpgrade,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aIsSeamless</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Notification of preferred carrier availability. This is called as a result of a new, preferred carrier becoming available (upgrade) or the existing carrier being lost, with an alternative available (downgrade).</p>

				<p>The notification is handed up to the Mobility Policy Provider for decision.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a> aOldAp</td><td>- info about the old carrier  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a> aNewAp</td><td>- info about the new carrier  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aIsUpgrade</td><td>- indicates if this is an upgrade  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aIsSeamless</td><td>- indicates if a migration will be seamless  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8CA7E286-FDA4-3F8B-971D-E0F27CEFD482"><a name="GUID-8CA7E286-FDA4-3F8B-971D-E0F27CEFD482"><!-- --></a>
		<h2 class="topictitle2">SetConnection(RCommsSubSession &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetConnection</td><td>(</td><td>RCommsSubSession &amp;</td><td>aConnection</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Registers with the Bearer Mobility Framework for preferred carrier notifications </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">RCommsSubSession &amp; aConnection</td><td>- the connected session.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-856E9474-9D7E-377F-8826-DF67AE21FA1F"><a name="GUID-856E9474-9D7E-377F-8826-DF67AE21FA1F"><!-- --></a>
		<h2 class="topictitle2">Enum TMobilityState</h2>
		<div class="section"><div>
				<p>Specifies the high-level state of the mobility manager </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EMobilityUninitialised</td><td>
							<p>The Mobility Manager is uninitialiased. </p>

						 </td></tr><tr class="bg"><td valign="top">EMobilityIdle</td><td>
							<p>The Mobility Manager has been initialised. No notifications received, nor waiting for any response. </p>

						 </td></tr><tr><td valign="top">EMobilityWaitForUpgradePolicy</td><td>
							<p>PreferredCarrierAvailable(upgradade) notification received and policy provider notified. Waiting for instruction from the policy provider. </p>

						 </td></tr><tr class="bg"><td valign="top">EMobilityWaitForDowngradePolicy</td><td>
							<p>PreferredCarrierAvailable(downgradade) notification received and policy provider notified. Waiting for instruction from the policy provider. </p>

						 </td></tr><tr><td valign="top">EMobilityWaitForUpgradePolicyAndOldSocketClose</td><td>
							<p>Second PreferredCarrierAvailable(upgrade) notification received while waiting for the original old sockets to be closed. Policy provider notified. Waiting for instruction from the policy provider. Also waiting for notification that sockets using the old carrier have been disconnected. This state exists purely to handle an unexpected race condition </p>

						 </td></tr><tr class="bg"><td valign="top">EMobilityWaitForOldSocketCloseCarrierRejected</td><td>
							<p>Second PreferredCarrierAvailable(upgrade) notification received while waiting for the original old sockets to be closed. Policy provider notified. Policy Provider has rejected the second upgrade notice. Waiting for notification that sockets using the old carrier have been disconnected. When the old sockets become disconnected, the MTM shall be instructed to reconnect (via <a href="GUID-93466135-4C80-30B2-85C4-A045A7D34C6E.html#GUID-4FE47CCC-FD28-3960-9EB5-C12BFDB67C6C">NewCarrierActive()</a>, even though this will be a connection via the original carrier. This state exists purely to handle an unexpected race condition </p>

						 </td></tr><tr><td valign="top">EMobilityWaitForOldSocketClose</td><td>
							<p>Waiting for notification that sockets using the old carrier have been disconnected. </p>

						 </td></tr><tr class="bg"><td valign="top">EMobilityWaitForMigrate</td><td>
							<p>Waiting for notification from the Bearer Mobility Framework that the new carrier is active and available for creation of new sockets. </p>

						 </td></tr><tr><td valign="top">EMobilityConnectingToNewCarrier</td><td>
							<p>Waiting for notification from the Server MTM that either new sockets have been successfully created using the new carrier, or that connection has been unsuccessful. </p>

						 </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-B910ED1F-F1CD-388D-A1F7-0A40F52464AB"><a name="GUID-B910ED1F-F1CD-388D-A1F7-0A40F52464AB"><!-- --></a>
		<h2 class="topictitle2">
					TMsvId
				 iAccountId</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>
				</td><td>iAccountId</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-DE8BF70D-0114-309B-AAB2-8DC7592466B7"><a name="GUID-DE8BF70D-0114-309B-AAB2-8DC7592466B7"><!-- --></a>
		<h2 class="topictitle2">
					CActiveCommsMobilityApiExt * iCommsMobilityApi</h2>
		<table class="signature"><tr><td>
					<a href="GUID-6CA83252-4D0C-3B72-83ED-B5152B666C83.html">CActiveCommsMobilityApiExt</a> *</td><td>iCommsMobilityApi</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-14C5D688-805C-3B16-943D-60ECFE646EFF"><a name="GUID-14C5D688-805C-3B16-943D-60ECFE646EFF"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iIsCancelled</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iIsCancelled</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-12EE4738-4F26-3CBA-97EC-87329764D36E"><a name="GUID-12EE4738-4F26-3CBA-97EC-87329764D36E"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iIsSeamless</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iIsSeamless</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-0D1B1CF7-6C3D-373E-A4C1-624B5FFFEF28"><a name="GUID-0D1B1CF7-6C3D-373E-A4C1-624B5FFFEF28"><!-- --></a>
		<h2 class="topictitle2">
					MImMobileServer &amp; iMtm</h2>
		<table class="signature"><tr><td>
					<a href="GUID-3AD3C1EE-B54E-347C-8BA7-B1AE6415911E.html">MImMobileServer</a> &amp;</td><td>iMtm</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-74665BF7-B419-329E-9423-B30424AB852E"><a name="GUID-74665BF7-B419-329E-9423-B30424AB852E"><!-- --></a>
		<h2 class="topictitle2">
					TUid
				 iMtmUid</h2>
		<table class="signature"><tr><td>
					<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>
				</td><td>iMtmUid</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-9A555860-9087-338E-A4A0-0C7ECFC846C6"><a name="GUID-9A555860-9087-338E-A4A0-0C7ECFC846C6"><!-- --></a>
		<h2 class="topictitle2">
					TAccessPointInfo
				 iNewAp</h2>
		<table class="signature"><tr><td>
					<a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a>
				</td><td>iNewAp</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-BFD88946-57F1-3DD9-A001-48C483B001B5"><a name="GUID-BFD88946-57F1-3DD9-A001-48C483B001B5"><!-- --></a>
		<h2 class="topictitle2">
					TAccessPointInfo
				 iOldAp</h2>
		<table class="signature"><tr><td>
					<a href="GUID-9AC0F2EC-57FA-32E7-A80E-B4C724822CB2.html">TAccessPointInfo</a>
				</td><td>iOldAp</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D06EF9C4-CA14-3EB8-B2D5-E82C1B687CE3"><a name="GUID-D06EF9C4-CA14-3EB8-B2D5-E82C1B687CE3"><!-- --></a>
		<h2 class="topictitle2">
					TUint
				 iState</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>
				</td><td>iState</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>