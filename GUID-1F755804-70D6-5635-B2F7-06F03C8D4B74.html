<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="IMAP4 MTM Overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-AFF7DA70-E993-5943-A27A-266541922E2F.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4384066E-158A-5F63-A823-7793DAE680BF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-AFF7DA70-E993-5943-A27A-266541922E2F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8B843382-D27A-5E36-8F60-304903F3AA41.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-24860917-0FE2-5C8F-B436-96928350996E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E56E21A9-B545-5217-A877-E64D30275157.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-931F2B0C-0F7D-5819-83AF-8EC2C8988538.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8832AED4-6B9F-5B35-8211-0C6661CD6DCA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D73AD200-BE4D-50BF-BCF9-14627DE530B7.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>IMAP4 MTM Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2403778 id2403944 id2404010 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html">Messaging Application Guide</a> &gt; <a href="GUID-4384066E-158A-5F63-A823-7793DAE680BF.html">Email</a> &gt; <a href="GUID-AFF7DA70-E993-5943-A27A-266541922E2F.html">IMAP4 MTM</a> &gt; </div>
<h1 class="topictitle1">IMAP4
MTM Overview</h1>
<div>
<p>This section provides an overview of the Internet Message Access Protocol
(IMAP4) MTM. </p>

<div class="section"><h2 class="sectiontitle">Purpose</h2> <p>Provides retrieval and management of email
on a remote Internet Message Access Protocol (IMAP4) server. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Architectural relationships</h2> <p>The Messaging Middleware
architecture defines a framework in which modules (MTMs) can be implemented
that provide support for particular messaging protocols. A client MTM provides
the API for application engines to use the protocol. The IMAP4 MTM API provides
the Client MTM API, plus supporting classes for IMAP4, see <a href="GUID-9BB849A2-8F69-580D-8A52-C7002D919521.html">Email
Overview</a>. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Description</h2> <p>The API has two key concepts: IMAP4
Client MTM, and IMAP4 service settings. </p>
 <p><strong>IMAP4 Client MTM</strong> </p>
 <p>The
IMAP4 Client MTM provides IMAP-specific operations, the most important of
which are synchronising with a remote server, or folder on a remote server.
Some generic messaging operations, such as sending messages (for which you
should use SMTP), are not supported by the MTM. Extra functions are provided
for obtaining and setting IMAP4 service settings. </p>
 <p>The IMAP4 Client
MTM class is <a href="GUID-2DEC2EBD-EC94-3BAF-AD9D-8900FCD1CABE.html"><span class="apiname">CImap4ClientMtm</span></a> and it does not support many
of the generic functions defined by the <a href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html"><span class="apiname">CBaseMtm</span></a> base class.
The IMAP4 Client MTM implements the standard Client MTM APIs and extensions
for the following operations: </p>
 <ul>
<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-BD531DC9-0308-5A6E-A6BD-8A21E7F83DD7"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-BD531DC9-0308-5A6E-A6BD-8A21E7F83DD7"><!-- --></a><p> <strong>Connecting, disconnecting,
synchronising, subscribing and unsubscribing folders </strong>  </p>
 <p>These operations
are accessible as commands available through the <a href="GUID-41E5C23D-CD5A-3DD3-BFCE-F8C576CE2149.html"><span class="apiname">InvokeAsyncFunction</span></a> class
of the Client MTM. They are implemented as calls to the IMAP4 Server MTM. </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-15A978DB-B7D0-5DD6-BE57-2A79B020B8FA"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-15A978DB-B7D0-5DD6-BE57-2A79B020B8FA"><!-- --></a><p> <strong>Send on next connection</strong>  </p>
 <p>If
the Client MTM gets a request to connect to an email server, it checks for
the IMAP4 settings. . If the send on next connection option is set, the Client
MTM launches the <span class="filepath">autosend.exe</span> executable that handles
sending messages waiting in the outbox. </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-FD1C41EF-2B1D-5850-B14A-DC50CE94A053"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-FD1C41EF-2B1D-5850-B14A-DC50CE94A053"><!-- --></a><p> <strong> Reply to and forward
messages</strong>  </p>
 <p>These are accessible through the <a href="GUID-4E0F9B6F-C46B-34BA-BB8C-0A75014D31FD.html"><span class="apiname">ReplyL()</span></a> and <a href="GUID-3BBE6922-4F08-36AB-BAA9-2F37D6819794.html"><span class="apiname">ForwardL()</span></a> classes
of a Client MTM and are implemented as calls to the email utilities <a href="GUID-3F7DC1AB-D13C-31E9-967B-526AD72CD498.html"><span class="apiname">CImEmailOperation</span></a> class. </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-7F025996-0ABD-50DE-BC2F-908AE7D3AB7D"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-7F025996-0ABD-50DE-BC2F-908AE7D3AB7D"><!-- --></a><p> <strong>Reply to, forward,
create new, create receipt and forward as attachment </strong>  </p>
 <p>These are
accessible as commands available through the <a href="GUID-41E5C23D-CD5A-3DD3-BFCE-F8C576CE2149.html"><span class="apiname">InvokeAsyncFunction</span></a> class
of the Client MTM. They are implemented as calls to <a href="GUID-3F7DC1AB-D13C-31E9-967B-526AD72CD498.html"><span class="apiname">CImEmailOperation</span></a>. </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-78221799-2E57-5082-A66E-FF19BACD90AF"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-78221799-2E57-5082-A66E-FF19BACD90AF"><!-- --></a><p> <strong>Querying connection
status</strong>  </p>
 <p>These commands let clients know whether the IMAP4 Server
MTM is connected to an email server and whether it is currently processing
a request. They are available through the <a href="GUID-41E5C23D-CD5A-3DD3-BFCE-F8C576CE2149.html"><span class="apiname">InvokeAsyncFunction</span></a> class
of the Client MTM. The Client MTM requests the information from the Server
MTM. </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-850927D5-5A35-5468-904A-EA71FE11C5F8"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-850927D5-5A35-5468-904A-EA71FE11C5F8"><!-- --></a><p> <strong>Compound connection
and synchronisation </strong>  </p>
 <p>The IMAP4 Client MTM provides a compound
operation that connects and synchronises with an IMAP4 server. This operation
is implemented as a client-side object that combines requests to the IMAP4
Server MTM. The client-side operation can complete the client request either:
after the connection; after the connection and synchronisation; or after the
connection, synchronisation, and disconnection. The client keeps requesting
that the inbox be resynchronised at a configurable interval so new messages
received in the inbox on the server appears under the IMAP4 inbox. The <a href="GUID-1D7F2733-BC6F-30EA-A40D-C8573545CCB0.html"><span class="apiname">CImapConnectAndSyncOp</span></a> class
handles these compound operations. </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-F666A79F-9623-5E93-8CB0-133CAA07FE83"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-F666A79F-9623-5E93-8CB0-133CAA07FE83"><!-- --></a><p> <strong>Compound connect
and copy, move or populate messages </strong>  </p>
 <p>The IMAP4 Client MTM provides
a compound operation that connects to an IMAP4 server and copies, moves, or
populates messages. The implementation is provided by the <a href="GUID-B9209668-D191-35F0-A02A-DABD6B1A706C.html"><span class="apiname">CImImap4GetMail</span></a> class
which makes callbacks into the IMAP4 Client MTM. </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-1C58BE15-59F9-5915-8F5F-01374C87D071"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-1C58BE15-59F9-5915-8F5F-01374C87D071"><!-- --></a><p> <strong> Offline operations</strong>  </p>
 <p>The
IMAP4 Client MTM has a command to cancel offline operations. This is available
through the <a href="GUID-41E5C23D-CD5A-3DD3-BFCE-F8C576CE2149.html"><span class="apiname">InvokeAsyncFunction</span></a> API of the Client MTM.
The Client MTM passes the request to the Server MTM. </p>
 </li>

</ul>
 <p><strong>IMAP4 service settings</strong> </p>
 <p>Settings for a service are
associated with a service-type entry in the Message Server's Message Store.
IMAP service settings, such as the user name and password, synchronisation
strategy, and the maximum number of messages to synchronise are specified
in this object. This is used by many IMAP components. </p>
 <p>The settings
are loaded when a connection is made to the server. However, the settings
are not actually stored in the message store, but in the device's Central
Repository data store. </p>
 <p>Encapsulation of service settings is provided
by the <a href="GUID-55F11633-988C-39D5-ADE7-23C4966FD995.html"><span class="apiname">CImImap4Settings</span></a> class. </p>
 <p><strong>Get mail helper</strong> </p>
 <p>The
helper wraps up many individual IMAP operations into a single call. A large
number of options are available, which fall into the following groups: </p>
 <ul>
<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-CFAEF51C-65F1-5AC4-BF2D-DFEACA5899A7"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-CFAEF51C-65F1-5AC4-BF2D-DFEACA5899A7"><!-- --></a><p>get mail when already
connected </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-D9BBC7C4-24C8-5E99-A2A9-CFA1214734C4"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-D9BBC7C4-24C8-5E99-A2A9-CFA1214734C4"><!-- --></a><p>connect, get mail and
then disconnect </p>
 </li>

<li id="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-C3FB09F4-09F4-5E97-9269-91A0E4AD03E5"><a name="GUID-1F755804-70D6-5635-B2F7-06F03C8D4B74__GUID-C3FB09F4-09F4-5E97-9269-91A0E4AD03E5"><!-- --></a><p>connect, get mail and
then stay online </p>
 </li>

</ul>
 <p>The get mail helper class is <a href="GUID-B9209668-D191-35F0-A02A-DABD6B1A706C.html"><span class="apiname">CImImap4GetMail</span></a>. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-AFF7DA70-E993-5943-A27A-266541922E2F.html">IMAP4 MTM</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-8B843382-D27A-5E36-8F60-304903F3AA41.html">Message Type
Module</a></div>
<div><a href="GUID-24860917-0FE2-5C8F-B436-96928350996E.html">Bearer Mobility
Overview</a></div>
<div><a href="GUID-E56E21A9-B545-5217-A877-E64D30275157.html">Using the
Policy Evaluator Plug-in</a></div>
<div><a href="GUID-8832AED4-6B9F-5B35-8211-0C6661CD6DCA.html">Email Tutorials</a></div>
<div><a href="GUID-D73AD200-BE4D-50BF-BCF9-14627DE530B7.html">Example code</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a href="GUID-931F2B0C-0F7D-5819-83AF-8EC2C8988538.html" title="The Email collection provides IMAP MTM, POP3 MTM and SMTP MTM components to support the IMAP4, POP3 and SMTP email protocols respectively. These components provide APIs to modify configuration settings of an email MTM.">Email   
             Settings</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>