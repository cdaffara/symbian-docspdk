<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="ContentAccess::CImportFile"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C"/>

<title>ContentAccess::CImportFile</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C"><a name="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2487220 id2487360 id2487365 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">ContentAccess::CImportFile Class Reference</h1>
	<table class="signature"><tr><td>class ContentAccess::CImportFile : public CBase</td></tr></table><div class="section"><div>
			<p>Created by the <a href="GUID-0CE549BA-2F8C-3101-AD01-A1BF15C4EAE4.html#GUID-0CE549BA-2F8C-3101-AD01-A1BF15C4EAE4">CSupplier</a> to import a file.</p>

			<p>The mime type of the file must be one of the CAF supplier mime types. Applications should check using <a href="GUID-0CE549BA-2F8C-3101-AD01-A1BF15C4EAE4.html#GUID-52E025EA-9673-3521-90D8-73D3BD5375B5">CSupplier::IsImportSupported()</a>.</p>

			<p>This class creates a CAgentSupplier and uses it to import the file into the content access agent who supports the given mime type.</p>

			<p>This class is single use only and cannot be used to import multiple files. The import process may result in one or more output files.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">ContentAccess::CImportFile<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-1C7481EF-D68C-38A2-98DE-292EB3C3937B">~CImportFile</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-75F414DC-E57E-301E-8F21-1F2ED40A7A06">Cancel</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-E018485C-3355-321E-A9EE-26D6BD5DCA45">ContentMimeTypeL</a>(<a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9D301B4B-5A30-3599-A0CE-E59C869CA5E0">ContinueWithNewOutputFile</a>(<a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-26933C6F-A269-3668-B334-C8BEB10EAE1B">ContinueWithNewOutputFile</a>(<a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-F702BEA4-B711-37AB-BE96-889A94A06FD8.html">TImportStatus</a></td><td><a href="#GUID-1C1B5E81-CEF6-3C70-8BEE-F312CB2F2587">GetImportStatus</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2119FE0B-0A24-35AF-AB4D-DF0B98A07E05">GetSuggestedOutputFileExtension</a>(<a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-3004BC9D-1B87-397E-892C-0CC987F7908A">GetSuggestedOutputFileName</a>(<a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-BFE160FB-7E5E-3019-A453-982FAC4AEB72">OutputFileCountL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-6FB0CFCB-1776-3436-8B4B-4B32BD400C24.html">CSupplierOutputFile</a> &amp;</td><td><a href="#GUID-7C2428B2-E779-3636-AE1C-F745A06E45A9">OutputFileL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-88A37A62-8113-3E7D-A020-11DAA3DD7207">WriteData</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F6CA1D26-22B4-3B1C-AC95-CDA1B6C712C5">WriteData</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-1E6BD37D-B2CF-333A-A77A-1712377285EA">WriteDataComplete</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-56A6F376-DBC0-3E36-B271-57860A5D3805">WriteDataComplete</a>(<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-8FF7E897-7C6D-30DA-9DD0-5F707BB9D0FB">CImportFile</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-A750B73C-FE3A-3FA9-8135-ED9658017B96">ConstructL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-F1C1ED19-61F5-3AC6-8760-A8E2A3201220">ConstructL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html">CImportFile</a> *</td><td><a href="#GUID-2B7C08A7-4E31-3DEB-AFEE-6C90FBF27D6D">NewL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html">CImportFile</a> *</td><td><a href="#GUID-EFFAFC40-4FF5-3378-A378-6AAC2A3B6A62">NewL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-798F4B18-D6AE-36B9-B03F-C1FC55266CB5.html">CAgentFactory</a> *</td><td><a href="#GUID-693C014B-1B04-3287-8F53-EA59633D3E7C">iAgentFactory</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-89000D71-032A-3F08-947C-AF7006A06D2F.html">CAgentImportFile</a> *</td><td><a href="#GUID-6CF1D56C-E7D4-384F-9B84-22B854E2F07E">iAgentImportFile</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-8FF7E897-7C6D-30DA-9DD0-5F707BB9D0FB"><a name="GUID-8FF7E897-7C6D-30DA-9DD0-5F707BB9D0FB"><!-- --></a>
		<h2 class="topictitle2">CImportFile()</h2>
		<table class="signature"><tr><td>CImportFile</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-1C7481EF-D68C-38A2-98DE-292EB3C3937B"><a name="GUID-1C7481EF-D68C-38A2-98DE-292EB3C3937B"><!-- --></a>
		<h2 class="topictitle2">~CImportFile()</h2>
		<table class="signature"><tr><td>~CImportFile</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Destructor - deleting the <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C">CImportFile</a> instance before calling WriteComplete() aborts the import operation </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-75F414DC-E57E-301E-8F21-1F2ED40A7A06"><a name="GUID-75F414DC-E57E-301E-8F21-1F2ED40A7A06"><!-- --></a>
		<h2 class="topictitle2">Cancel()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Cancel</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Cancel an outstanding asynchronous request to <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-88A37A62-8113-3E7D-A020-11DAA3DD7207">WriteData()</a> or <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-1E6BD37D-B2CF-333A-A77A-1712377285EA">WriteDataComplete()</a>. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-A750B73C-FE3A-3FA9-8135-ED9658017B96"><a name="GUID-A750B73C-FE3A-3FA9-8135-ED9658017B96"><!-- --></a>
		<h2 class="topictitle2">ConstructL(TUid, const TDesC8 &amp;, const CMetaDataArray &amp;, const TDesC &amp;, const TDesC &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aAgentUid,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aMimeType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;</td><td>aImportMetaData,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aOutputDirectory,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aSuggestedFileName</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aAgentUid</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aMimeType</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp; aImportMetaData</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aOutputDirectory</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aSuggestedFileName</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F1C1ED19-61F5-3AC6-8760-A8E2A3201220"><a name="GUID-F1C1ED19-61F5-3AC6-8760-A8E2A3201220"><!-- --></a>
		<h2 class="topictitle2">ConstructL(TUid, const TDesC8 &amp;, const CMetaDataArray &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aAgentUid,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aMimeType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;</td><td>aImportMetaData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aAgentUid</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aMimeType</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp; aImportMetaData</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E018485C-3355-321E-A9EE-26D6BD5DCA45"><a name="GUID-E018485C-3355-321E-A9EE-26D6BD5DCA45"><!-- --></a>
		<h2 class="topictitle2">ContentMimeTypeL(TDes8 &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>ContentMimeTypeL</td><td>(</td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td>aContentMime</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Retrieve the content MIME type based on available data</p>

				<div class="p">This function should only be called when the agent has returned KErrCANewFileHandleRequired from <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-88A37A62-8113-3E7D-A020-11DAA3DD7207">WriteData()</a> . Example of use: <pre class="codeblock">		while(!endofsource) 
			{
			source.read(data); 
			err = import-&gt;WriteData(data); 

			// When application supplies file handles it must always check to see if 
			// the agent needs a new file handle 
			while(err == KErrCANewFileHandleRequired) 
				{               
				//We need to find out the content MIME type based on available data
				TBuf&lt;KMaxDataTypeLength&gt; contentMime;
				if(import-&gt;ContentMimeTypeL(contentMime) == KErrNone)
					{
					//content MIME type is discovered. Now client code could do something
					//to determine the output location and supply the appropriate file handle
					
					
					}
				else
					{
					//content MIME type can't be determined yet. Client should decide the location for
					//output file now,e.g. a default location

					}
				        
				err = import-&gt;ContinueWithNewOutputFile(outputFileHandle, outputFileName); 
				// It is possible that the agent needs yet another file handle 
				outputFileHandle.Close(); // agent makes a copy so we don't need to keep our file handle 
				}
			}</pre>
</div>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp; aContentMime</td><td>On return this will contain the appropriate content MIME type.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9D301B4B-5A30-3599-A0CE-E59C869CA5E0"><a name="GUID-9D301B4B-5A30-3599-A0CE-E59C869CA5E0"><!-- --></a>
		<h2 class="topictitle2">ContinueWithNewOutputFile(RFile &amp;, const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ContinueWithNewOutputFile</td><td>(</td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aFile,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aFileName</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Continue the last write operation with a new file handle as requested by the agent</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aFile</td><td>A new file handle opened with write permission.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aFileName</td><td>The name of the file handle that has been supplied. This is used by the agent when creating CSupplierOutputFile objects. It should include the full path and filename in order to be consistent with files generated by the agent.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-26933C6F-A269-3668-B334-C8BEB10EAE1B"><a name="GUID-26933C6F-A269-3668-B334-C8BEB10EAE1B"><!-- --></a>
		<h2 class="topictitle2">ContinueWithNewOutputFile(RFile &amp;, const TDesC &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ContinueWithNewOutputFile</td><td>(</td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aFile,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aFileName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Continue the last write operation with a new file handle and return the result asynchronously. NB: It is important that the handle passed to aFile and the descriptor passed to aFileName remain in scope until the request has completed.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aFile</td><td>A new file handle opened with write permission.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aFileName</td><td>The name of the file handle that has been supplied. This is used by the agent when creating CSupplierOutputFile objects. It should include the full path and filename in order to be consistent with files generated by the agent  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous request status. On completion this will contain one of the following error codes: KErrNone if the WriteData() or WriteDataComplete() operation is now complete. KErrCANewFileHandleRequired if the agent requires a new file handle before proceeding - the agent must save its state and continue processing when the new handle is supplied by ContinueWithNewOutputFile(). Otherwise one of the other CAF error codes defined in caferr.h or one of the other system-wide error codes for any other errors.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1C1B5E81-CEF6-3C70-8BEE-F312CB2F2587"><a name="GUID-1C1B5E81-CEF6-3C70-8BEE-F312CB2F2587"><!-- --></a>
		<h2 class="topictitle2">GetImportStatus()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-F702BEA4-B711-37AB-BE96-889A94A06FD8.html">TImportStatus</a></td><td>GetImportStatus</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Retrieve the import status</p>

				<p>Used to indicate non fatal problems encountered during the import operation. Provides feedback to the client in case any problems are encountered.</p>

				<p>The client can then decide whether or not to continue the import.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-2119FE0B-0A24-35AF-AB4D-DF0B98A07E05"><a name="GUID-2119FE0B-0A24-35AF-AB4D-DF0B98A07E05"><!-- --></a>
		<h2 class="topictitle2">GetSuggestedOutputFileExtension(TDes &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetSuggestedOutputFileExtension</td><td>(</td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;</td><td>aFileExtension</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Get the agents suggestion for the file extension of the output file required by the agent</p>

				<p>This function should only be called when the agent has returned KErrCANewFileHandleRequired from <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-88A37A62-8113-3E7D-A020-11DAA3DD7207">WriteData()</a> or <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-1E6BD37D-B2CF-333A-A77A-1712377285EA">WriteDataComplete()</a>.</p>

				<p>The extension must include the dot '.' character.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp; aFileExtension</td><td>On completion this will contain the appropriate file extension.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3004BC9D-1B87-397E-892C-0CC987F7908A"><a name="GUID-3004BC9D-1B87-397E-892C-0CC987F7908A"><!-- --></a>
		<h2 class="topictitle2">GetSuggestedOutputFileName(TDes &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetSuggestedOutputFileName</td><td>(</td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;</td><td>aFileName</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Get the agents suggestion for the file name (with extension) of the output file required by the agent</p>

				<p>This function should only be called when the agent has returned KErrCANewFileHandleRequired from <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-88A37A62-8113-3E7D-A020-11DAA3DD7207">WriteData()</a> or <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-1E6BD37D-B2CF-333A-A77A-1712377285EA">WriteDataComplete()</a>.</p>

				<p>The file name is of the form filename.extension.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp; aFileName</td><td>On completion this will contain the appropriate file name.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2B7C08A7-4E31-3DEB-AFEE-6C90FBF27D6D"><a name="GUID-2B7C08A7-4E31-3DEB-AFEE-6C90FBF27D6D"><!-- --></a>
		<h2 class="topictitle2">NewL(TUid, const TDesC8 &amp;, const CMetaDataArray &amp;, const TDesC &amp;, const TDesC &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html">CImportFile</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aAgentUid,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aMimeType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;</td><td>aImportMetaData,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aOutputDirectory,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aSuggestedFileName</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aAgentUid</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aMimeType</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp; aImportMetaData</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aOutputDirectory</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aSuggestedFileName</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-EFFAFC40-4FF5-3378-A378-6AAC2A3B6A62"><a name="GUID-EFFAFC40-4FF5-3378-A378-6AAC2A3B6A62"><!-- --></a>
		<h2 class="topictitle2">NewL(TUid, const TDesC8 &amp;, const CMetaDataArray &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html">CImportFile</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aAgentUid,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aMimeType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp;</td><td>aImportMetaData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aAgentUid</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aMimeType</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-75CF5D9D-11BE-32B8-9F5C-C53976B691DE.html">CMetaDataArray</a> &amp; aImportMetaData</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BFE160FB-7E5E-3019-A453-982FAC4AEB72"><a name="GUID-BFE160FB-7E5E-3019-A453-982FAC4AEB72"><!-- --></a>
		<h2 class="topictitle2">OutputFileCountL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>OutputFileCountL</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Gets the number of output files produced so far. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-7C2428B2-E779-3636-AE1C-F745A06E45A9"><a name="GUID-7C2428B2-E779-3636-AE1C-F745A06E45A9"><!-- --></a>
		<h2 class="topictitle2">OutputFileL(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-6FB0CFCB-1776-3436-8B4B-4B32BD400C24.html">CSupplierOutputFile</a> &amp;</td><td>OutputFileL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aIndex</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Return information about an output file generated by the import operation.</p>

				<p>It is possible that the output file does not have the same name as the one suggested at the beginning of the import. An agent may need to use a particular file extension or a particular name.</p>

				<p>The agent may decide not to store the output file in the output directory suggested at the start of the import. eg. it may store the file in its private server directory.</p>

				<p>The output files may only appear in this array after the <a href="GUID-E952CB96-3638-321A-B9BC-01C559FB8F4C.html#GUID-1E6BD37D-B2CF-333A-A77A-1712377285EA">WriteDataComplete()</a> function has been called.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aIndex</td><td>The zero-based index of the file (must be less than the value returned by OutputFileCountL().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-88A37A62-8113-3E7D-A020-11DAA3DD7207"><a name="GUID-88A37A62-8113-3E7D-A020-11DAA3DD7207"><!-- --></a>
		<h2 class="topictitle2">WriteData(const TDesC8 &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>WriteData</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aData</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Write a block of data from a file to an agent.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aData</td><td>The block of data.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F6CA1D26-22B4-3B1C-AC95-CDA1B6C712C5"><a name="GUID-F6CA1D26-22B4-3B1C-AC95-CDA1B6C712C5"><!-- --></a>
		<h2 class="topictitle2">WriteData(const TDesC8 &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>WriteData</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aData,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Asynchronously write a block of data from a file to an agent. Notifies the client when the write operation is complete. NB: It is important that the descriptor passed to aData remains in scope until the request has completed.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aData</td><td>The block of data.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous request status. On completion this will contain one of the following error codes: KErrNone if the data was written successfully. KErrCANewFileHandleRequired if the agent requires a new file handle before proceeding - the agent must save its state and continue processing when the new handle is supplied by ContinueWithNewOutputFile(). KErrCorrupt if the file does not match the format the agent is expecting. KErrNotReady if the agent was not expecting WriteDataComplete() to be called at this point. Otherwise one of the other CAF error codes defined in caferr.h or one of the other standard system-wide error codes for any other errors.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1E6BD37D-B2CF-333A-A77A-1712377285EA"><a name="GUID-1E6BD37D-B2CF-333A-A77A-1712377285EA"><!-- --></a>
		<h2 class="topictitle2">WriteDataComplete()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>WriteDataComplete</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Signals to the agent that the entire file has now been transferred to the agent.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-56A6F376-DBC0-3E36-B271-57860A5D3805"><a name="GUID-56A6F376-DBC0-3E36-B271-57860A5D3805"><!-- --></a>
		<h2 class="topictitle2">WriteDataComplete(TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>WriteDataComplete</td><td>(</td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Signals to the agent that the entire file has now been transferred to the agent</p>

				<p>Notifies the client when any final processing operation is complete.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous request status. On completion this will contain one of the following error codes: KErrNone if the data was written successfully. KErrCANewFileHandleRequired if the agent requires a new file handle before proceeding - the agent must save its state and continue processing when the new handle is supplied by ContinueWithNewOutputFile(). KErrCorrupt if the file does not match the format the agent is expecting. KErrNotReady if the agent was not expecting WriteDataComplete() to be called at this point. Otherwise one of the other CAF error codes defined in caferr.h or one of the other standard system-wide error codes for any other errors.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-693C014B-1B04-3287-8F53-EA59633D3E7C"><a name="GUID-693C014B-1B04-3287-8F53-EA59633D3E7C"><!-- --></a>
		<h2 class="topictitle2">
					CAgentFactory * iAgentFactory</h2>
		<table class="signature"><tr><td>
					<a href="GUID-798F4B18-D6AE-36B9-B03F-C1FC55266CB5.html">CAgentFactory</a> *</td><td>iAgentFactory</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-6CF1D56C-E7D4-384F-9B84-22B854E2F07E"><a name="GUID-6CF1D56C-E7D4-384F-9B84-22B854E2F07E"><!-- --></a>
		<h2 class="topictitle2">
					CAgentImportFile * iAgentImportFile</h2>
		<table class="signature"><tr><td>
					<a href="GUID-89000D71-032A-3F08-947C-AF7006A06D2F.html">CAgentImportFile</a> *</td><td>iAgentImportFile</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>