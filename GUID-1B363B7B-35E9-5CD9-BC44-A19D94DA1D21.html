<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Removing attachments from messages"/>
<meta name="abstract" content="The messaging framework allows you to remove attachments from messages."/>
<meta name="description" content="The messaging framework allows you to remove attachments from messages."/>
<meta name="DC.Relation" scheme="URI" content="GUID-3FD2EADD-DC46-516D-B88D-DA523F51C5E3.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DD27A452-8B0F-5C6D-A2E6-FC21145468B6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3FD2EADD-DC46-516D-B88D-DA523F51C5E3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1963A487-D6A7-4225-8D0C-EC5FAB746854.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-54AB166A-8B24-5065-92AD-5FC1BF3ED89C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Removing attachments from messages</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21"><a name="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2404348 id2404397 id2404434 id2404652 id2404730 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">Messaging Middleware Guide</a> &gt; <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">Messaging Framework</a> &gt; <a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">Message Server and Store</a> &gt; <a href="GUID-DD27A452-8B0F-5C6D-A2E6-FC21145468B6.html">Message Server and Store Tutorials</a> &gt; <a href="GUID-3FD2EADD-DC46-516D-B88D-DA523F51C5E3.html" title="The MMsvAttachmentManager interface is used to create, add, modify and remove message attachments.">Messaging Attachments Tutorial</a> &gt; </div>
<h1 class="topictitle1">Removing
attachments from messages</h1>
<div><p>The messaging framework allows you to remove attachments from messages. </p>

<div class="section" id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-E21AD703-A9AA-5153-B0EE-D068D6295257"><a name="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-E21AD703-A9AA-5153-B0EE-D068D6295257"><!-- --></a><p>Attachments to
a message may be removed. </p>
 </div>

<a name="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-F9F2F6BC-DC86-5931-BA0F-9E20212640ED"><!-- --></a><ol id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-F9F2F6BC-DC86-5931-BA0F-9E20212640ED"><li class="stepexpand" id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-38716981-EE99-52C2-9522-082D188776C9"><a name="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-38716981-EE99-52C2-9522-082D188776C9"><!-- --></a><span>Get the details
of the message to which you want to add an attachment using <a href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49__GUID-1864B96D-CB22-3EE1-8E73-023F12C68CB0"><span class="apiname">CMsvEntry::EditStoreL()</span></a>. </span>
 This function returns <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html"><span class="apiname">CMsvStore</span></a> in writable mode. 
</li>
<li class="stepexpand" id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-98B33831-888B-5354-80B6-9628C32F05C8"><a name="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-98B33831-888B-5354-80B6-9628C32F05C8"><!-- --></a><span>Get an <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html"><span class="apiname">MMsvAttachmentManager</span></a> attachment
manager for the message entry, using <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE__GUID-73CE27F3-855B-3F87-AE11-4B4F2B8F8825"><span class="apiname">CMsvStore::AttachmentManagerL()</span></a>. </span>
</li>
<li class="stepexpand" id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-DCE18F1F-1314-581E-A6A9-06EFF8FF102D"><a name="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-DCE18F1F-1314-581E-A6A9-06EFF8FF102D"><!-- --></a><span/><br/>
 Remove an attachment using the <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD__GUID-3BD2E3BF-AD83-3BFA-9C8D-D823F4F9D71E"><span class="apiname">MMsvAttachmentManager::RemoveAttachmentL()</span></a> function. 
 <pre class="codeblock" id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-A70E9B23-6962-5347-8C4A-D79E7CD514E6"><a name="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21__GUID-A70E9B23-6962-5347-8C4A-D79E7CD514E6"><!-- --></a>void CFoo::RemoveAttachL(TInt aNum)
    {
    ...
    
    TRequestStatus status;
    
    // Remove attachment with index aNum
    attManager.RemoveAttachmentL(aNum, status);
    
    // Wait for request to complete
    User::WaitForRequest(status);
    
    ...
    }</pre>
 
</li>
</ol>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-3FD2EADD-DC46-516D-B88D-DA523F51C5E3.html" title="The MMsvAttachmentManager interface is used to create, add, modify and remove message attachments.">Messaging Attachments Tutorial</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-54AB166A-8B24-5065-92AD-5FC1BF3ED89C.html">Messaging
Framework Overview</a></div>
</div>
<div class="relinfo"><strong>Related information</strong><br/>
<div><a href="GUID-1963A487-D6A7-4225-8D0C-EC5FAB746854.html">Attachment
Tutorial</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>