<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Finding the location of a mobile device"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E158DE6-33F5-4B45-8923-28117EBAB68A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E158DE6-33F5-4B45-8923-28117EBAB68A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Finding the location of a mobile device</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560"><a name="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2402605 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-1E158DE6-33F5-4B45-8923-28117EBAB68A.html" title="This section provides concept material that relates to the Location Based Services module.">Location Based Services Concepts</a> &gt; </div>
<h1 class="topictitle1">Finding
the location of a mobile device</h1>
<div>
<p>The Location Acquisition API allows applications to access the <a href="GUID-BC8D1F02-3FBB-406A-80CE-5836E61EBD82.html">location information</a> of
a mobile device regardless of the <a href="GUID-647F0CA5-5568-4C72-9CB5-C8CBF09B4B4B.html">location
technology</a> used. </p>

<p>Typical use cases include:</p>

<ul>
<li><p>Finding the location of a mobile device by using the Global
Positioning System (GPS).</p>
</li>

<li><p>Finding the location of a mobile device by network based
positioning.</p>
</li>

<li><p>Basic calculations using location information such as distances,
bearing, and timestamp (see <a href="jar:GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6.jar!/html/classTPosition.html"><samp class="codeph">TPosition</samp></a> and
Extended location information).</p>
</li>

</ul>

<p>Important implementation considerations include:</p>

<ul>
<li><p>Applications should close their <a href="jar:GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6.jar!/html/classRPositioner.html"><samp class="codeph">RPositioner</samp></a> when
they do not need positioning for an extended period of time. Also, when staying
in background for more then a minute.</p>
</li>

<li><p>The system automatically selects an appropriate positioning
method, based on the type of the class given as input for Open (<a href="jar:GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6.jar!/html/classRPositionServer.html"><samp class="codeph">RPositionServer</samp></a> <samp class="codeph">&amp;aPosServer</samp>) method. The system tries all available methods until it succeeds. Generally
applications use this method. For special cases, applications can use Open
(<a href="jar:GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6.jar!/html/classRPositionServer.html"><samp class="codeph">RPositionServer</samp></a> <samp class="codeph">&amp;aPosServer</samp>, <samp class="codeph">TPositionModuleId aModuleId</samp>) to
force system to use specified positioning method. In that case system does
not fallback in case of failure</p>
</li>

</ul>

<div class="note"><span class="notetitle">Note:</span> 
<p>The Symbian SDK does not have a Map API, and therefore you must use
a third party API to display the location information you receive on a map.</p>

</div>

<div class="section" id="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-7BB06E28-B1A5-4CBB-95B3-6F5735F945A6"><a name="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-7BB06E28-B1A5-4CBB-95B3-6F5735F945A6"><!-- --></a><h2 class="sectiontitle">Getting the location
of a device</h2>
<p>To find the location of a mobile device:</p>

<ol>
<li id="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-21F99413-A2DC-4588-856B-292FF3C0F6D4"><a name="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-21F99413-A2DC-4588-856B-292FF3C0F6D4"><!-- --></a><p>Use the methods
of the Location Acquisition API to construct your application. </p>


<p>The <a href="jar:GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6.jar!/html/classRPositionServer.html"><samp class="codeph">RPositionServer</samp></a> and <a href="jar:GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6.jar!/html/classRPositioner.html"><samp class="codeph">RPositioner</samp></a> classes
are particularly relevant in getting the location of your device, which is
typically stored in the <a href="jar:GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6.jar!/html/classTPositionInfo.html"><samp class="codeph">TPositionInfo</samp></a> class.</p>

<p>For information on some detailed uses of the API, see the Location Acquisition
API Usage section for:</p>

<ul>
<li><p>a list of the steps required for finding the location of
a mobile device in a basic use case</p>
</li>

<li><p>how to obtain the current location estimate</p>
</li>

<li><p>how to obtain an extended location estimate, including information
such as bearing, speed, and available satellites, which is not normally returned
with the current location estimate</p>
</li>

<li><p>how to obtain your last known position information, using
cached information if available. This means that this method does not retrieve
the location information from the underlying positioning methods.</p>
</li>

</ul>


</li>

<li id="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-AC8282F7-4916-4364-960A-0217659C57DD"><a name="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-AC8282F7-4916-4364-960A-0217659C57DD"><!-- --></a><p>Make sure <samp class="codeph">lbs.lib</samp> is
accessible to your linker when compiling your application by including it
in your <a href="GUID-1F7E1476-D7A3-49E4-B05B-F3A0FD6333B6.html"><samp class="codeph">mmp</samp></a> file
or by editing the project properties in your IDE, depending on your build
environment.</p>
</li>

<li id="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-6AF9355F-BB88-4C44-A0C7-96ED3B0EF720"><a name="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-6AF9355F-BB88-4C44-A0C7-96ED3B0EF720"><!-- --></a><p>Make sure
you have the correct capabilities information set for your application, depending
on your application you need at least <samp class="codeph">Location</samp>.</p>
</li>

</ol>

</div>

<div class="section" id="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-3D55E67C-8A43-4214-AB1C-0924285B6DA3"><a name="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-3D55E67C-8A43-4214-AB1C-0924285B6DA3"><!-- --></a><h2 class="sectiontitle">Additional information
on locating your device</h2>
<p>For more information, see:</p>

<ul>
<li><p>The purpose and general overview of the Location Acquisition
API.</p>
</li>

<li><p>The description and class structure of the API.</p>
</li>

<li><p>A general overview on how to create applications using the
API.</p>
</li>

<li><p>The <samp class="codeph">LocationRefAppForS60</samp> in the SDK (<samp class="codeph">&lt;SDK
installation directory&gt;\S60CppExamples\AutoAdaptedToTouchEx</samp>), for
an example of how to use the Location Acquisition API.</p>
</li>

</ul>

</div>

<div class="section" id="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-94FC6381-CDB3-4F70-B3F5-66D450F827EC"><a name="GUID-A996FAAF-DB18-4F78-A8DA-873ACD771560__GUID-94FC6381-CDB3-4F70-B3F5-66D450F827EC"><!-- --></a><h2 class="sectiontitle">Related APIs</h2>
<p>The Symbian platform also offers the following related services:</p>

<ul>
<li><p><a href="specs/guides/Exif_API_Specification/Exif_API_Specification.html" target="_blank">EXIF
API</a></p>


<p>Allows you to include data, such as location information, in image files.</p>


</li>

<li><p><a href="specs/guides/Landmarks_API_Specification/Landmarks_API_Specification.html" target="_blank">Landmarks
API</a></p>


<p>Allows you to <a href="Chunk1367455936.html">store
location information on your mobile device</a>.</p>


</li>

<li><p><a href="GUID-34A82EC4-E795-4884-A1F0-616BFB38F7C3.html">Bluetooth</a></p>


<p>Allows you to use Bluetooth functions when creating connections between
your mobile device and a Bluetooth enabled GPS receiver.</p>


</li>

<li><p><a href="GUID-F6B5F777-D12F-5913-AECE-047DF8C72F1F.html" title="This document demonstrates how a client application uses the Location Acquisition API to get a position.">How
to Get Location Information</a></p>


<p>Allows you to use the Location Acquisition API to obtain the position
of the mobile device from the LBS subsystem.</p>


</li>

</ul>

</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-1E158DE6-33F5-4B45-8923-28117EBAB68A.html" title="This section provides concept material that relates to the Location Based Services module.">Location Based Services Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>