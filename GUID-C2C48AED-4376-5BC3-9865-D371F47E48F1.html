<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Replacing and Hiding Plug-ins in Composite ROMs"/>
<meta name="DC.Relation" scheme="URI" content="GUID-85AE95DD-D8C0-5F38-9A98-2F92328162E7.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-85AE95DD-D8C0-5F38-9A98-2F92328162E7.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Replacing and Hiding Plug-ins in Composite ROMs</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2383473 id2383529 id2383664 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html">Plug-in Framework</a> &gt; <a href="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html">Plug-in Framework Tutorials</a> &gt; <a href="GUID-85AE95DD-D8C0-5F38-9A98-2F92328162E7.html">Using ECom and plug-ins in phone ROMs</a> &gt; </div>
<h1 class="topictitle1">Replacing
and Hiding Plug-ins in Composite ROMs</h1>
<div>
<p>From v9.3, the Symbian platform supports building a composite
NAND ROM, which allows several ROM images to be mapped to a single ROM (e.g. <span class="filepath">Z:</span>)
drive. This provides an easy method of customising ROMs, as new ROM images
can be added without requiring rebuilding and reflashing of the ROM images
already present on a device. </p>

<p>This page describes how to use this technique to: </p>

<ul>
<li id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-12E33FF0-F793-5758-9733-596312143945"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-12E33FF0-F793-5758-9733-596312143945"><!-- --></a><p>hide an existing ROM
ECom plug-in, effectively removing it from the ROM drive. </p>
 </li>

<li id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-DFD60BE8-F68F-5F7B-A4A6-6EDE402C8A93"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-DFD60BE8-F68F-5F7B-A4A6-6EDE402C8A93"><!-- --></a><p>update or customise
an existing ROM ECom plug-in </p>
 </li>

</ul>

<p>When Static Plug-in Information (SPI) is used (see <a href="GUID-D8ECC83A-4B48-5F5C-9334-5B79CDA95054.html">How
to improve load time with SPI files</a>), each ROM section that contains
ECom plug-ins will have an SPI file, and ECom will read each file. </p>

<p>Note: this functionality depends on the rule that the ordering of images
defined using <samp class="codeph">rom_image</samp> matches the ordering of the mounting
drives configured in the <span class="filepath">estart</span> component. For more information
on how drives are mounted for composite ROMs, see <a href="GUID-E55EE9B5-AC5B-5C67-A23C-DDB3F40D174A.html">Mounting
multiple ROM images as a single ROM drive</a>. </p>

<div class="section" id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-109BCF28-6858-46F6-9B2B-45E0E4BA0CA9"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-109BCF28-6858-46F6-9B2B-45E0E4BA0CA9"><!-- --></a><h2 class="sectiontitle">Hiding an ECom plug-in</h2> <p>To hide an ECom plug-in,
use the <samp class="codeph">HIDE_ECOM_PLUGIN</samp> keyword in the obey (<span class="filepath">.iby</span>)
file. Its first argument is the DLL name, and the second argument is the registration
file name. </p>
 <p>The following example shows ROM image 2 hiding <span class="filepath">plugin1</span> from
ROM image 1: </p>
 <pre class="codeblock" id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-761B0B0C-1801-5B2D-AF22-B49A977A46FB"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-761B0B0C-1801-5B2D-AF22-B49A977A46FB"><!-- --></a>//romimage1.iby
ECOM_PLUGIN(plugin1.dll,plugin1.rsc)
ECOM_PLUGIN(plugin2.dll,plugin2.rsc)
</pre>
 <pre class="codeblock" id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-E5464F52-5D15-5BA6-A1E2-799D2E149804"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-E5464F52-5D15-5BA6-A1E2-799D2E149804"><!-- --></a>//romimage2.iby
ROM_IMAGE[2] HIDE_ECOM_PLUGIN(plugin1.dll,plugin1.rsc) //hide ECom plugin 1 from image 1</pre>
 </div>

<div class="section" id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-59143412-6DAC-4128-850A-C2268C804835"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-59143412-6DAC-4128-850A-C2268C804835"><!-- --></a><h2 class="sectiontitle">Replacing an ECom plug-in</h2> <p>To replace a plug-in,
simply re-define the plug-in, using the <samp class="codeph">ECOM_PLUGIN</samp> macro
in the Obey file. </p>
 <p>The following example shows ROM image 2 replacing <span class="filepath">plugin1</span> from
ROM image 1: </p>
 <pre class="codeblock" id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-0EEDEC68-7011-55BA-9496-D2127942F5B9"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-0EEDEC68-7011-55BA-9496-D2127942F5B9"><!-- --></a>//romimage1.iby
ECOM_PLUGIN(plugin1.dll,plugin1.rsc)
ECOM_PLUGIN(plugin2.dll,plugin2.rsc)
â€¦
</pre>
 <pre class="codeblock" id="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-11E2606D-B54D-59A0-BA8F-0831B2D12752"><a name="GUID-C2C48AED-4376-5BC3-9865-D371F47E48F1__GUID-11E2606D-B54D-59A0-BA8F-0831B2D12752"><!-- --></a>//romimage2.iby
ROM_IMAGE[2] ECOM_PLUGIN(plugin1.dll,plugin1.rsc) //replace ECOM plugin 1 in image 1</pre>
<p>For
reference information on the relevant obey file keywords, and their related
macros, see: </p>
<ul>
<li><p>__ECOM_PLUGIN, which also discusses the macro ECOM_PLUGIN. </p>
</li>

<li><p>_HIDE__ECOM_PLUGIN, which also discusses the macro HIDE_ECOM_PLUGIN. </p>
</li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-85AE95DD-D8C0-5F38-9A98-2F92328162E7.html">Using ECom and plug-ins in phone ROMs</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>