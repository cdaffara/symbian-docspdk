<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MAknsRlEffect"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D1505F68-57BF-3DBF-806C-D54EF3467ED1"/>

<title>MAknsRlEffect</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-D1505F68-57BF-3DBF-806C-D54EF3467ED1"><a name="GUID-D1505F68-57BF-3DBF-806C-D54EF3467ED1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2537891 id2677760 id2677869 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MAknsRlEffect Class Reference</h1>
	<table class="signature"><tr><td>class MAknsRlEffect</td></tr></table><div class="section"><div>
			<p>Interface to skin effect plugin implementation.</p>

			<div class="p">States of an effect plugin are:<ul><li><p>Dead: Effect plugin has not been created. Destructing the plugin returns the plugin to this state.</p>
</li>
<li><p>Created: Effect plugin has been created (by calling its default constructor). No dynamic data can be allocated at this state. Call to <tt>Release</tt> returns the plugin to this state.</p>
</li>
<li><p>Initialized: Effect plugin has been successfully initialized (by calling <tt>InitializeL</tt>). Any dynamic data (common to the entire lifetime of the plugin) has been constructed. Call to <tt>Deactivate</tt> returns the plugin to this state.</p>
</li>
<li><p>Activated: Effect plugin has been successfully activated for rendering (by calling <tt>ActivateL</tt>). This is the only state where parameter setup or rendering can take place.</p>
</li>
</ul>
</div>

			<p>A plugin instance is owned by the effect pool. A plugin instance is activated by the effect renderer to perform one rendering operation.</p>

			<p>The effect renderer maintains a set of layers to store graphical content during the rendering of a single skin item. The effect renderer provides the active plugin with an effect context that is used to access these layers.</p>

			<div class="p">The plugin may assume the following restrictions:<ul><li><p>No calls (except construction) are made to a dead plugin.</p>
</li>
<li><p>No calls (except initialization or destruction) are made to a created plugin.</p>
</li>
<li><p>Parameter setup or rendering operation is never requested from a plugin that has not been activated.</p>
</li>
<li><p>Capabilities can be queried only from an initialized or activated plugin.</p>
</li>
<li><p>After a rendering operation has been requested, no further parameter setup or capability queries are made.</p>
</li>
</ul>
</div>

			<div class="p">
				<dl class="since">
					
						<dt class="dlterm">Since</dt>

						<dd>2.8 </dd>

					
				</dl>

			</div>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-B8CA3B90-2F42-392E-84DC-91F8C9CF6E16">ActivateL</a>(<a href="GUID-3F796DED-91A6-3A12-830D-0330E704EF17.html">MAknsRlEffectContext</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-5B2D044F-01CC-3437-AB56-EDEB60056B07">Deactivate</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-DB7FBDC3-66C1-3752-9E94-B2669015F7CD">GetCapabilities</a>(<a href="GUID-1520910A-CEDE-300A-80AA-7580572FD677.html">TAknsRlEffectCaps</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-7384A753-499F-3234-8DC3-394088BF8365">InitializeL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-A9D563CC-EAD2-32E9-B84D-D48C49AD4702">Release</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-5EA8AAC3-34A1-3D91-B62C-1EF4ADF1EC79">Render</a>(const <a href="GUID-37D74E4D-E851-3BBB-A9DF-D1EA1FE20E44.html">TAknsRlRenderOpParam</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-4858590C-BD8B-3C26-92D8-8A9D5D3745AE">SetParametersL</a>(<a href="GUID-506AE70C-9447-382D-9CAB-CBB0A00C9F2E.html">MAknsRlParameterIterator</a> &amp;)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-B8CA3B90-2F42-392E-84DC-91F8C9CF6E16"><a name="GUID-B8CA3B90-2F42-392E-84DC-91F8C9CF6E16"><!-- --></a>
		<h2 class="topictitle2">ActivateL(MAknsRlEffectContext *)</h2>
		<table class="signature"><tr><td>void</td><td>ActivateL</td><td>(</td><td><a href="GUID-3F796DED-91A6-3A12-830D-0330E704EF17.html">MAknsRlEffectContext</a> *</td><td>aContext</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Activates the effect plugin to perform a single rendering operation.</p>

				<p>This method is called once by the effect renderer before a rendering operation is requested.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>Exceptions:</strong>
							</dt>

							<dd>If effect plugin activation fails (i.e., this method leaves with an error code), the effect renderer may try to re-activate the effect later or instruct the effect pool to release it permanently (by calling <tt>Release</tt>).</dd>

						
					</dl>

					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>2.8 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-3F796DED-91A6-3A12-830D-0330E704EF17.html">MAknsRlEffectContext</a> * aContext</td><td>Effect context. The context is guaranteed to be valid (and non-null) until Deactivate is called. No ownership is transferred. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5B2D044F-01CC-3437-AB56-EDEB60056B07"><a name="GUID-5B2D044F-01CC-3437-AB56-EDEB60056B07"><!-- --></a>
		<h2 class="topictitle2">Deactivate()</h2>
		<table class="signature"><tr><td>void</td><td>Deactivate</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Deactivates the effect plugin after a rendering operation.</p>

				<p>This method is called once by the effect renderer after a rendering operation has completed, or the operation is aborted.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>2.8 </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-DB7FBDC3-66C1-3752-9E94-B2669015F7CD"><a name="GUID-DB7FBDC3-66C1-3752-9E94-B2669015F7CD"><!-- --></a>
		<h2 class="topictitle2">GetCapabilities(TAknsRlEffectCaps &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetCapabilities</td><td>(</td><td><a href="GUID-1520910A-CEDE-300A-80AA-7580572FD677.html">TAknsRlEffectCaps</a> &amp;</td><td>aCaps</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Retrieves the capabilities of the effect plugin.</p>

				<p>The capabilities returned by this method must reflect the currently set parameters (if any). If <tt>SetParametersL</tt> is called after querying the capabilities, the effect renderer may call this method again to fetch the updated capabilities.</p>

				<p>If this method is called for an effect instance that has been initialized but not activated, the capabilities must reflect the support for any (valid and supported) parameters. If the plugin can not determine the capabilities without knowing the parameters, it must set all the layer support fields to <tt>KAknsRlLayerNone</tt>.</p>

				<p>If the returned capabilities indicate that no output layer is supported (only <tt>KAknsRlLayerNone</tt> is returned in output layer field), the rendering operation will not be started at all, unless additional parameters are supplied.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>2.8 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-1520910A-CEDE-300A-80AA-7580572FD677.html">TAknsRlEffectCaps</a> &amp; aCaps</td><td>Capabilities structure that the plugin must fill during the call. The initial values of the structure are undefined. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7384A753-499F-3234-8DC3-394088BF8365"><a name="GUID-7384A753-499F-3234-8DC3-394088BF8365"><!-- --></a>
		<h2 class="topictitle2">InitializeL()</h2>
		<table class="signature"><tr><td>void</td><td>InitializeL</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Initializes the effect plugin instance.</p>

				<p>This method is called once for each effect by the effect pool before calls to any other methods are made.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>Exceptions:</strong>
							</dt>

							<dd>If effect plugin initialization fails (i.e., this method leaves with an error code), the effect is considered to be non-existent.</dd>

						
					</dl>

					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>2.8 </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-A9D563CC-EAD2-32E9-B84D-D48C49AD4702"><a name="GUID-A9D563CC-EAD2-32E9-B84D-D48C49AD4702"><!-- --></a>
		<h2 class="topictitle2">Release()</h2>
		<table class="signature"><tr><td>void</td><td>Release</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Releases the effect plugin instance.</p>

				<p>This method is called once for each effect by the effect pool. No calls to any methods can be done after this method has been called.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>2.8 </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-5EA8AAC3-34A1-3D91-B62C-1EF4ADF1EC79"><a name="GUID-5EA8AAC3-34A1-3D91-B62C-1EF4ADF1EC79"><!-- --></a>
		<h2 class="topictitle2">Render(const TAknsRlRenderOpParam &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Render</td><td>(</td><td>const <a href="GUID-37D74E4D-E851-3BBB-A9DF-D1EA1FE20E44.html">TAknsRlRenderOpParam</a> &amp;</td><td>aParam</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Renders the effect.</p>

				<p>The plugin implementation can perform rendering in one or more steps. Although the plugin has access to all the layers (and both RGB and alpha channels) during rendering, it should only use the content of the input layers (and channels) specified in <tt>aParam</tt>. Similarly, it should only alter the content of the specified output layer (and channels), although the context initialization for previously unused layers should be followed.</p>

				<p>The same layer index can be specified as both the input and the output layer (if at least one input layer is supported by the plugin). The plugin must implement the effect so that any combination of layer indices is correctly rendered.</p>

				<p>The plugin may assume that rendering operation is never called with parameters inconsistent with the plugin capabilities (as the capabilities would have been returned if <tt>GetCapabilities</tt> was called just before starting the rendering operation).</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>2.8 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-37D74E4D-E851-3BBB-A9DF-D1EA1FE20E44.html">TAknsRlRenderOpParam</a> &amp; aParam</td><td>Rendering operation parameters. The structure is guaranteed to be valid for the duration of the call. If KAknsRlRenderIncomplete is returned, the same structure is given for subsequent calls. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4858590C-BD8B-3C26-92D8-8A9D5D3745AE"><a name="GUID-4858590C-BD8B-3C26-92D8-8A9D5D3745AE"><!-- --></a>
		<h2 class="topictitle2">SetParametersL(MAknsRlParameterIterator &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>SetParametersL</td><td>(</td><td><a href="GUID-506AE70C-9447-382D-9CAB-CBB0A00C9F2E.html">MAknsRlParameterIterator</a> &amp;</td><td>aParameters</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Sets the parameters for an active effect plugin.</p>

				<p>The effect may call this method zero or more times for any active plugin before starting the rendering operation</p>

				<p>If any parameter appears more than once in the given iterator (or in iterators given in more than one call to this method), the latest parameter value must be used. Already set parameters can not be removed, but their values can be updated.</p>

				<p>Any parameters not supported by this plugin at all (i.e., the name of the parameter is not recognized) must be ignored silently. If parameter type or value is not supported, the plugin may leave with <tt>KErrArgument</tt>.</p>

				<p>If a particular combination of parameters is not supported (and further calls to this method can not change the situation), the plugin may leave with <tt>KErrArgument</tt>. Otherwise, the invalid combination should be checked in <tt>Render</tt>.</p>

				<p>
					<tt>SetParametersL</tt> should also leave if the parameter values can not be stored, e.g., because of an OOM condition.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>Exceptions:</strong>
							</dt>

							<dd>If parameter setup fails (i.e., this method leaves with an error code), the effect renderer will abort the rendering operation and deactivate the plugin.</dd>

						
					</dl>

					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>2.8 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-506AE70C-9447-382D-9CAB-CBB0A00C9F2E.html">MAknsRlParameterIterator</a> &amp; aParameters</td><td>Iterator to the parameters. The iterator (and all the returned values) is guaranteed to be valid during the call to this method. No ownership is transferred, unless specified otherwise in iterator API. </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>