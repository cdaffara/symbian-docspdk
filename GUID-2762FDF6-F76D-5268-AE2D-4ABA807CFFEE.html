<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Heap descriptors"/>
<meta name="abstract" content="Describes heap descriptors."/>
<meta name="description" content="Describes heap descriptors."/>
<meta name="DC.Relation" scheme="URI" content="GUID-4C4B6098-38B4-5BD0-8E58-712511EBE074.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DBF88873-21B1-5493-8EBF-C9071D314A09.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-11EEFB3D-0414-5BEB-9D78-56A4B9154008.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4C4B6098-38B4-5BD0-8E58-712511EBE074.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Heap descriptors</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE"><a name="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2392072 id2392081 id2392600 id2392686 id2392741 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">User Library and File Server</a> &gt; <a href="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" title="The User Library allows the applications and services that run on a phone to access the functionality provided by the Symbian platform Kernel.">User Library</a> &gt; <a href="GUID-DBF88873-21B1-5493-8EBF-C9071D314A09.html" title="Links to documents that describe buffers and strings.">Buffers And Strings</a> &gt; <a href="GUID-11EEFB3D-0414-5BEB-9D78-56A4B9154008.html" title="This is a list of documents that describe how to use descriptors.">Using Descriptors</a> &gt; <a href="GUID-4C4B6098-38B4-5BD0-8E58-712511EBE074.html" title="These documents describe the descriptor types">Descriptor Types</a> &gt; </div>
<h1 class="topictitle1">Heap
descriptors</h1>
<div><p>Describes heap descriptors.</p>

<p>A heap descriptor provides a fixed length buffer, allocated on the heap,
to contain and access data. The data is part of the descriptor object. </p>

<p>The data contained in a heap descriptor can be accessed, but not changed,
through this descriptor. The data can, however, be completely replaced using
the assignment operators. </p>

<p>A heap descriptor also has the important property that it can be made larger
or smaller, changing the size of the descriptor's buffer. This is achieved
by reallocating the descriptor. Unlike the behaviour of dynamic buffers, reallocation
is not done automatically. </p>

<p>Data is accessed through functions provided by the base class. </p>

<p>A heap descriptor is supplied in two variants: </p>

<ul>
<li id="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE__GUID-7FE093CF-5C0A-58F4-8C5E-63465F1B1B64"><a name="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE__GUID-7FE093CF-5C0A-58F4-8C5E-63465F1B1B64"><!-- --></a><p>the 16 bit variant,
a <samp class="codeph">HBufC16</samp>, to contain Unicode strings. </p>
 </li>

<li id="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE__GUID-2F6606E5-E985-58A2-86DE-DCC69C137F50"><a name="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE__GUID-2F6606E5-E985-58A2-86DE-DCC69C137F50"><!-- --></a><p>the 8 bit variant, a <samp class="codeph">HBufC8</samp>,
to contain non-Unicode strings and binary data. </p>
 </li>

</ul>

<p>There is also a build independent type, <samp class="codeph">HBufC</samp>. This is
the type which is most commonly used in program code; the appropriate variant
is selected at build time. </p>

<p>An explicit 8 bit variant is chosen for binary data. An explicit 16 bit
variant is rarely used. </p>

<p>The base class, <samp class="codeph">TDesC</samp>, contains a data member which holds
the length of the data. The following drawing shows the layout of a <samp class="codeph">HBufC</samp> object
initialised with the string of five characters representing the English word
"Hello". The descriptor object is allocated on the heap. </p>

<p>Although it is not possible to change the data in the descriptor directly
through the descriptor member functions, it <em>is</em> possible to do this
indirectly by using the <samp class="codeph">Des()</samp> member function of <samp class="codeph">HBufC</samp> to
first create a modifiable <a href="GUID-2DDAAD1C-D9EB-5741-B6AE-2383646E0EDB.html" title="Describes non-modifiable pointer descriptors and modifiable pointer descriptors.">pointer
descriptor</a>, a <samp class="codeph">TPtr</samp> type, and then to use <em>this</em> descriptor's
member functions. For this reason, heap descriptors are best suited for data
that rarely changes. For data that changes frequently, it is much better to
use the <a href="GUID-5107ABD8-6408-5501-8073-ACAF3719247B.html" title="Describes descriptor behaviour and resizable buffer descriptors.">resizable buffer
descriptor</a>. </p>

<div class="fignone" id="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE__GUID-975888DA-9685-504E-B089-F5F632729921"><a name="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE__GUID-975888DA-9685-504E-B089-F5F632729921"><!-- --></a>
<img src="GUID-10C32642-CF1C-5C60-A81B-9D65F03A45C4_d0e326329_href.png"/>
<p>Example of a Heap descriptor</p>

</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-4C4B6098-38B4-5BD0-8E58-712511EBE074.html" title="These documents describe the descriptor types">Descriptor Types</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>