<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Handling SDP Attributes"/>
<meta name="DC.Relation" scheme="URI" content="GUID-756D831F-F302-594C-8116-144358DD8442.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DD13AA8E-BDAD-57EC-81EC-49C8D6D30A86.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-071A1E59-FE77-5D4D-B4D1-E6ECDF68BB03.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-EC7A9299-4272-5C1E-8A10-8267E154D56A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-756D831F-F302-594C-8116-144358DD8442.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Handling SDP Attributes</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2535271 id2535280 id2535294 id2535308 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-DD13AA8E-BDAD-57EC-81EC-49C8D6D30A86.html" title="The Short Link Services module enables licensees to implement Bluetooth, USB, Infrared and OBEX on Symbian platform devices.">Short Link Services Guide</a> &gt; <a href="GUID-071A1E59-FE77-5D4D-B4D1-E6ECDF68BB03.html" title="The Bluetooth collection contains the SDP, GAVDP and Notifiers Support components.">Bluetooth Collection</a> &gt; <a href="GUID-EC7A9299-4272-5C1E-8A10-8267E154D56A.html" title="The Bluetooth Service Discovery Protocol (SDP) component enables you to register services to the SDP database and query the database for available services.">Bluetooth SDP</a> &gt; <a href="GUID-756D831F-F302-594C-8116-144358DD8442.html">Using Bluetooth Service Discovery Database</a> &gt; </div>
<h1 class="topictitle1">Handling SDP Attributes</h1>
<div><p>SDP Database service records are made up of a number of attributes. The attributes identify information about the service such as the class of service, that is the general category to which the service belongs, the date on which the service record was first created, the service's UUID and more. See the SDP specification, link provided elsewhere, for more information. The only required attribute is the UUID for the service. </p>
 <div class="section"><h2 class="sectiontitle">How to create and manipulate attributes</h2> <p>Symbian have identified a special pattern for creating and manipulating SDP attributes. </p>
 <p><strong>Attribute types</strong> </p>
 <p>Attributes in service records can be one of fixed number of types. The API encapsulates each attribute type in a class, each of which is derived from <a href="GUID-5528763A-0A50-3029-BEAB-CEC3BA08ABF1.html"><span class="apiname">CSdpAttrValue</span></a>. The type is easily deducible from the name: e.g. <samp class="codeph">CSdpAttrValueUint</samp> encapsulates an unsigned integer type attribute. </p>
 <ul><li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-E92A60EB-5028-5CDC-83FB-20C626CECB82"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-E92A60EB-5028-5CDC-83FB-20C626CECB82"><!-- --></a><p> <a href="GUID-B1D56FE2-29E4-3EB3-B638-04336A84F80B.html"><span class="apiname">CSdpAttrValueBoolean</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-991D696E-BA93-5D17-B0F0-529ABDB21B9A"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-991D696E-BA93-5D17-B0F0-529ABDB21B9A"><!-- --></a><p> <a href="GUID-74C4154F-9C20-3C23-86EB-D4B602E79DC1.html"><span class="apiname">CSdpAttrValueDEA</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-57357160-CD33-54A9-8019-2E33ABCAB25A"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-57357160-CD33-54A9-8019-2E33ABCAB25A"><!-- --></a><p> <a href="GUID-7AF08589-F6E5-36A1-AD2C-84D3CB877451.html"><span class="apiname">CSdpAttrValueDES</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-144544D2-3C0B-54BD-90E4-5C89FB97E3E1"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-144544D2-3C0B-54BD-90E4-5C89FB97E3E1"><!-- --></a><p> <a href="GUID-31EE0888-4D8D-3668-8658-62A1ACFA9E4C.html"><span class="apiname">CSdpAttrValueInt</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-78B376DB-7BEF-501F-8E9D-FB2EF279732A"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-78B376DB-7BEF-501F-8E9D-FB2EF279732A"><!-- --></a><p> <a href="GUID-63EDF468-719A-3EDF-A7F3-53F837AC762B.html"><span class="apiname">CSdpAttrValueNil</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-7F074756-D3B1-5E95-BB5A-7038145F0687"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-7F074756-D3B1-5E95-BB5A-7038145F0687"><!-- --></a><p> <a href="GUID-3E049232-901E-3C1A-BA7B-8D1F8B90B85C.html"><span class="apiname">CSdpAttrValueString</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-D0121510-803F-5CEC-ACBB-EB4CFF8165C9"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-D0121510-803F-5CEC-ACBB-EB4CFF8165C9"><!-- --></a><p> <a href="GUID-127DA8BE-A9F2-3536-97EA-A4BCCD51A0E3.html"><span class="apiname">CSdpAttrValueUint</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-704CA520-1BDC-556F-AB9F-9C12DC036233"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-704CA520-1BDC-556F-AB9F-9C12DC036233"><!-- --></a><p> <a href="GUID-B55A8C55-D7DB-3A96-935A-D09161DE848E.html"><span class="apiname">CSdpAttrValueURL</span></a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-88B13916-67BC-57AE-BF75-12A294CEC6B3"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-88B13916-67BC-57AE-BF75-12A294CEC6B3"><!-- --></a><p> <a href="GUID-CE08D370-E599-37F4-B0CC-D889C1E04B30.html"><span class="apiname">CSdpAttrValueUUID</span></a>  </p>
 </li>
 </ul>
 <p><strong>Complex Attributes</strong> </p>
 <p>Complex attribute values are stored as lists of other elements; nested lists are allowed. </p>
 <p>The list classes are: </p>
 <ul><li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-A0900A5B-3B74-581E-9E01-494F622B2F59"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-A0900A5B-3B74-581E-9E01-494F622B2F59"><!-- --></a><p> <samp class="codeph">CSdpAttrValueDEA</samp>: a Data element alternative, a data element whose data field is a sequence of data elements from which one data element is to be selected. </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-24633CF0-8C72-5107-A8E5-02D830F08706"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-24633CF0-8C72-5107-A8E5-02D830F08706"><!-- --></a><p> <samp class="codeph">CSdpAttrValueDES</samp>: a Data element sequence, a data element whose data field is a sequence of data elements. </p>
 </li>
 </ul>
 <p>Both of these implement the <a href="GUID-3DC9CB25-E55D-38E6-8940-B3320EF7E9DD.html"><span class="apiname">MSdpElementBuilder</span></a> interface, which supplies functions of the form <samp class="codeph">Build</samp> <var class="varname">type</var> <samp class="codeph">L()</samp> to add elements of the specified <var class="varname">type</var> to the list. </p>
 <p><strong> Creating a Protocol List Attribute</strong> </p>
 <p>The following example builds a ProtocolDescriptorList attribute (attribute ID 0x0004), which is a list containing two nested lists. </p>
 <a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-8AA434EC-40A2-549A-BD8F-3E343C51225E"><!-- --></a><ol id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-8AA434EC-40A2-549A-BD8F-3E343C51225E"><li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-936D92B9-B8E8-58BD-AB3C-A698253EC71C"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-936D92B9-B8E8-58BD-AB3C-A698253EC71C"><!-- --></a><p>Create the list. (NULL indicates that the list is not itself in another list) </p>
 <pre class="codeblock" id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-057DB9B7-CB3E-5381-9EB7-BDC2B73085F9"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-057DB9B7-CB3E-5381-9EB7-BDC2B73085F9"><!-- --></a>CSdpAttrValueDES* attrValProt = CSdpAttrValueDES::NewDESL(NULL);
CleanupStack::PushL(attrValProt);</pre>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-7B850D69-6F08-59A3-9220-09D4E48242A6"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-7B850D69-6F08-59A3-9220-09D4E48242A6"><!-- --></a><p>Build the first nested list. Notice the pattern used to push the new attribute value onto the service record. </p>
 <pre class="codeblock" id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-EC6E75C7-39AD-5D30-AD3F-B5BEF8161571"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-EC6E75C7-39AD-5D30-AD3F-B5BEF8161571"><!-- --></a>attrValProt
    -&gt;StartListL()
        -&gt;BuildDESL()
        -&gt;StartListL()
            -&gt;BuildUUIDL(TUUID(TUint16(0x0100))) // L2CAP
        -&gt;EndListL()</pre>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-F3A52C4E-F82A-5EC4-B004-8F23515E23B1"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-F3A52C4E-F82A-5EC4-B004-8F23515E23B1"><!-- --></a><p>Build the second nested list. </p>
 <pre class="codeblock" id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-55F49BC1-7082-576C-B0BB-1B8CB5A02B63"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-55F49BC1-7082-576C-B0BB-1B8CB5A02B63"><!-- --></a>  -&gt;BuildDESL()
        -&gt;StartListL()
            -&gt;BuildUUIDL(TUUID(TUint16(0x0003))) // RFCOMM
            -&gt;BuildUintL(TServAttrInt&lt;TUint8&gt;&gt;(1)) // DLCI = 1
        -&gt;EndListL()
    -&gt;EndListL();</pre>
 <p>Notice that all the code from the start of 2 above to the end of 3 is essentially a single long line of code. This is an example of the SDP pattern discussed earlier. </p>
 </li>
 </ol>
 <p> <strong> Note: </strong>  </p>
 <ul><li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-3EA609A2-BB81-52F1-936B-B4A0FC74C6F7"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-3EA609A2-BB81-52F1-936B-B4A0FC74C6F7"><!-- --></a><p> <samp class="codeph">MSdpElementBuilder</samp> functions are called cumulatively as part of a single statement. </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-87B95637-9AFA-52E6-9AC3-34F7D6EBC5F8"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-87B95637-9AFA-52E6-9AC3-34F7D6EBC5F8"><!-- --></a><p>The start of a list is indicated by a call to <a href="GUID-3DC9CB25-E55D-38E6-8940-B3320EF7E9DD.html#GUID-3DC9CB25-E55D-38E6-8940-B3320EF7E9DD__GUID-08A8B787-304E-34BC-9110-FAE4B2873FB8"><span class="apiname">MSdpElementBuilder::StartListL()</span></a> and ended by <a href="GUID-3DC9CB25-E55D-38E6-8940-B3320EF7E9DD.html#GUID-3DC9CB25-E55D-38E6-8940-B3320EF7E9DD__GUID-F00D7635-1B0D-3A13-8574-D6DE91870C11"><span class="apiname">MSdpElementBuilder::EndListL()</span></a>. </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">Where next?</h2> <p>The complete set of Service Discovery Database tutorials are shown below: </p>
 <a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-360A4ECF-05FD-50D5-89CE-3C0A9216B9C5"><!-- --></a><ol id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-360A4ECF-05FD-50D5-89CE-3C0A9216B9C5"><li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-BBC0B062-F5D3-5595-9675-20E4A27DD121"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-BBC0B062-F5D3-5595-9675-20E4A27DD121"><!-- --></a><p> <a href="GUID-B75BD3DE-9C2E-5429-B55B-891462B92795.html" title="Bluetooth services are registered to the service discovery database.">Connecting to the service discovery database</a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-A4CE3FF9-053C-58CF-8863-67DB7664E405"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-A4CE3FF9-053C-58CF-8863-67DB7664E405"><!-- --></a><p> <strong>Handling SDP attributes</strong> - This document </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-2802DB1F-5983-5C75-A942-2E5E794ACC70"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-2802DB1F-5983-5C75-A942-2E5E794ACC70"><!-- --></a><p> <a href="GUID-2373A158-C18A-51B5-BE9A-6B8F7FC63A35.html">Registering Services</a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-D11ADFBE-6FF1-5FED-846D-7B9D4F33652B"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-D11ADFBE-6FF1-5FED-846D-7B9D4F33652B"><!-- --></a><p> <a href="GUID-33210C48-3198-51BC-9970-8B29F711A8E2.html">Setting service record attributes</a>  </p>
 </li>
 <li id="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-30808463-3A6F-5D6A-969A-CAE442AD744B"><a name="GUID-E2A2FA2A-5D9A-56FE-B7E5-69CCBC656BB9__GUID-30808463-3A6F-5D6A-969A-CAE442AD744B"><!-- --></a><p> <a href="GUID-ED342E6B-A4A3-576B-8934-7E7C049837F0.html">SDP Service records and attributes</a>  </p>
 </li>
 </ol>
 <p>Also refer to the <a href="GUID-E5893C4A-024A-53A7-805F-68989382DC3F.html">Bluetooth Service Discovery Database overview</a> and the <a href="GUID-8451102A-8E68-5C86-9E40-D53183E32261.html" title="The Bluetooth Service Discovery Protocol (SDP) component enables you to register services to the SDP database and query the database for available services.">Bluetooth SDP Overview</a> for additional background information. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-756D831F-F302-594C-8116-144358DD8442.html">Using Bluetooth Service Discovery Database</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>