<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CMdaAudioInputStream"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8"/>

<title>CMdaAudioInputStream</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8"><a name="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2865498 id2548409 id2548414 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CMdaAudioInputStream Class Reference</h1>
	<table class="signature"><tr><td>class CMdaAudioInputStream : public CBase</td></tr></table><div class="section"><div>
			<p>The interface to an audio stream player passing raw audio data from the audio hardware to specified buffers.</p>

			<p>This class enables MMF clients to:</p>

			<p>Stream raw audio data from the audio hardware to specified buffers.</p>

			<p>Specify the priority of the audio stream in relation to other clients that may request to use the same audio hardware.</p>

			<p>Set the sample rate and the number of channels after successfully opening the stream. It is not possible to change these values once streaming has started.</p>

			<p>Change the gain and balance before or while streaming is in progress. Gain and balance settings take effect immediately.</p>

			<p>The API supports callbacks from the server to notify the client:</p>

			<p>MaiscOpenComplete() will be called when the audio streaming object is open and ready to stream data back to the user as a result of a previous call to <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-7F336751-8A4F-3CFD-93AB-67089B3D383A">Open()</a>.</p>

			<p>MaiscBufferCopied() will be called multiple times while the FIFO (queued via <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-CC9050E2-8CD5-3714-8141-AFBA6FEF1CCB">ReadL()</a>) is emptied. Note: Each buffer will be flagged with KErrAbort if received after <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> on is called. MaiscRecordComplete is called once all remaining buffers have been read.</p>

			<p>MaiscRecordComplete() is called after <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> has been called. aError - KErrAbort if MaiscRecordComplete called as a result of a call to <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a>.</p>

			<p>Users of object <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8">CMdaAudioInputStream</a> should ensure that implementation of the callback methods MaiscOpenComplete,MaiscBufferCopied and MaiscRecordComplete in class <a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html#GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0">MMdaAudioInputStreamCallback</a> do not delete the object,otherwise a Kern-Exec 3 would occur during callback. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMdaAudioInputStream<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-25B188EC-2C96-30DC-9EF8-E084F9F16719">~CMdaAudioInputStream</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-40B47655-F8B6-348E-8319-68737E1ACAAC">BitRateL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-ECDEE99C-97CF-3E82-B623-3979C9FC46B3">CustomInterface</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td><a href="#GUID-399E51DD-8A42-3362-8465-0042415EF812">DataType</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-1AD72B54-DD46-3DB9-A8B2-B202D633A5FE">Gain</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-491F5066-EC4A-3848-B496-1986858750A1">GetBalanceL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E72167A7-6FBA-3FC0-9D3E-D5DD3C651A04">GetBytes</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E582272E-B7B0-3518-B2B8-B68FE3DC24E2">GetSupportedBitRatesL</a>(<a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9DA37352-0DED-3385-9FF1-9B42B76C71AB">MaxGain</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td><a href="#GUID-1F367F31-3362-3697-92F2-FE95D98B934A">NewL</a>(<a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td><a href="#GUID-BEBE64F8-AA1C-3D6A-AB40-F070DD4B8D6E">NewL</a>(<a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7F336751-8A4F-3CFD-93AB-67089B3D383A">Open</a>(<a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C const <a href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td><a href="#GUID-3BC7D5C5-47FD-3409-BA5B-B4E7AA67E61C">Position</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-CC9050E2-8CD5-3714-8141-AFBA6FEF1CCB">ReadL</a>(<a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E">RequestStop</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-84777B75-3C88-3EDB-9256-21FE0D0D418C">SetAudioPropertiesL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-11BA5AF9-A5B6-3DB7-BBAF-892BABE9F28E">SetBalanceL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E9D2DAED-3843-3D1C-BFC8-CF7979558F94">SetBitRateL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DB408216-06B3-36B8-9A02-BA1BB136D946">SetDataTypeL</a>(<a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5C954D41-3175-30D1-B86B-728CF1FCD93D">SetGain</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3FD34F3E-7293-3B68-B73F-2A0AA6FB14A4">SetPriority</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3EBCFFE7-862E-378A-B63D-99D8147B1F07">SetSingleBufferMode</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-6E6D5DFA-6C7F-3B43-97A4-78C47C5FC063">CMdaAudioInputStream</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-661D95A2-66BC-3E06-8078-D0FAF81ACB57.html">CMMFMdaAudioInputStream</a> *</td><td><a href="#GUID-ECAC9B0D-9FE1-3270-87C6-A2D45DBAE800">iProperties</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-6E6D5DFA-6C7F-3B43-97A4-78C47C5FC063"><a name="GUID-6E6D5DFA-6C7F-3B43-97A4-78C47C5FC063"><!-- --></a>
		<h2 class="topictitle2">CMdaAudioInputStream()</h2>
		<table class="signature"><tr><td>CMdaAudioInputStream</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-25B188EC-2C96-30DC-9EF8-E084F9F16719"><a name="GUID-25B188EC-2C96-30DC-9EF8-E084F9F16719"><!-- --></a>
		<h2 class="topictitle2">~CMdaAudioInputStream()</h2>
		<table class="signature"><tr><td>~CMdaAudioInputStream</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Destructor.</p>

				<p>Frees all resources owned by the object prior to its destruction. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-40B47655-F8B6-348E-8319-68737E1ACAAC"><a name="GUID-40B47655-F8B6-348E-8319-68737E1ACAAC"><!-- --></a>
		<h2 class="topictitle2">BitRateL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>BitRateL</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<div class="p">Returns the current bit rate. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNotSupported If the sound device does not support returning the current bit rate </dd>
</dl>
</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-ECDEE99C-97CF-3E82-B623-3979C9FC46B3"><a name="GUID-ECDEE99C-97CF-3E82-B623-3979C9FC46B3"><!-- --></a>
		<h2 class="topictitle2">CustomInterface(TUid)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>CustomInterface</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aInterfaceId</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Retrieves a custom interface to the underlying device.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aInterfaceId</td><td>The interface UID, defined with the custom interface. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-399E51DD-8A42-3362-8465-0042415EF812"><a name="GUID-399E51DD-8A42-3362-8465-0042415EF812"><!-- --></a>
		<h2 class="topictitle2">DataType()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td>DataType</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the current data type.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-1AD72B54-DD46-3DB9-A8B2-B202D633A5FE"><a name="GUID-1AD72B54-DD46-3DB9-A8B2-B202D633A5FE"><!-- --></a>
		<h2 class="topictitle2">Gain()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Gain</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the current gain setting.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-491F5066-EC4A-3848-B496-1986858750A1"><a name="GUID-491F5066-EC4A-3848-B496-1986858750A1"><!-- --></a>
		<h2 class="topictitle2">GetBalanceL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBalanceL</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the current audio balance.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-E72167A7-6FBA-3FC0-9D3E-D5DD3C651A04"><a name="GUID-E72167A7-6FBA-3FC0-9D3E-D5DD3C651A04"><!-- --></a>
		<h2 class="topictitle2">GetBytes()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBytes</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns the current number of bytes rendered by audio hardware.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-E582272E-B7B0-3518-B2B8-B68FE3DC24E2"><a name="GUID-E582272E-B7B0-3518-B2B8-B68FE3DC24E2"><!-- --></a>
		<h2 class="topictitle2">GetSupportedBitRatesL(RArray&lt; TInt &gt; &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>GetSupportedBitRatesL</td><td>(</td><td><a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aSupportedBitRates</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns the bit rates supported by the sound device</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported If the sound device does not support setting the bit rate The supported bit rates, in bits per second, shall be appended to this array. Note that the array shall be reset by this method. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aSupportedBitRates</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9DA37352-0DED-3385-9FF1-9B42B76C71AB"><a name="GUID-9DA37352-0DED-3385-9FF1-9B42B76C71AB"><!-- --></a>
		<h2 class="topictitle2">MaxGain()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>MaxGain</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns the maximum gain level.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-1F367F31-3362-3697-92F2-FE95D98B934A"><a name="GUID-1F367F31-3362-3697-92F2-FE95D98B934A"><!-- --></a>
		<h2 class="topictitle2">NewL(MMdaAudioInputStreamCallback &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;</td><td>aCallBack</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Instantiates a new audio input stream using default priority preferences.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>UserEnvironment For recording - the requesting client process must have a UserEnvironment capability.</dd>

						
					</dl>
Static NewL</div>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp; aCallBack</td><td>A callback to notify the client when the input stream has been initialised and is ready for use, when data has been copied to a specified descriptor and when input streaming is stopped. The caller must create a callback class that implements this interface. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BEBE64F8-AA1C-3D6A-AB40-F070DD4B8D6E"><a name="GUID-BEBE64F8-AA1C-3D6A-AB40-F070DD4B8D6E"><!-- --></a>
		<h2 class="topictitle2">NewL(MMdaAudioInputStreamCallback &amp;, TInt, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;</td><td>aCallBack,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPriority,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPref</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Instantiates a new audio input stream.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>UserEnvironment For recording - the requesting client process must have a UserEnvironment capability.</dd>

						
					</dl>
Note: The Priority Value and Priority Preference are used primarily when deciding what to do when several audio clients attempt to play or record simultaneously. In addition to the Priority Value and Preference, the adaptation may consider other parameters such as the SecureId and Capabilities of the client process. Whatever, the decision as to what to do in such situations is up to the audio adaptation, and may vary between different phones. Portable applications are advised not to assume any specific behaviour.</div>

				<p>Static NewL</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp; aCallBack</td><td>A callback to notify the client when the input stream has been initialised and is ready for use. The caller must create a callback class which implements this interface.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPriority</td><td>The Priority Value - this client's relative priority. This is a value between EMdaPriorityMin and EMdaPriorityMax and represents a relative priority. A higher value indicates a more important request.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPref</td><td>The Priority Preference - an additional audio policy parameter. The suggested default is EMdaPriorityPreferenceNone. Further values are given by TMdaPriorityPreference, and additional values may be supported by given phones and/or platforms, but should not be depended upon by portable code. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7F336751-8A4F-3CFD-93AB-67089B3D383A"><a name="GUID-7F336751-8A4F-3CFD-93AB-67089B3D383A"><!-- --></a>
		<h2 class="topictitle2">Open(TMdaPackage *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Open</td><td>(</td><td><a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *</td><td>aSettings</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Opens an input audio stream package.</p>

				<p>The MMdaAudioInputStreamCallback::MaisOpenComplete() callback function is called when the stream has been opened and is ready to record data. If the open was unsuccessful, this is indicated by the aError parameter of the callback.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> * aSettings</td><td>A pointer to an TMdaPackage object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3BC7D5C5-47FD-3409-BA5B-B4E7AA67E61C"><a name="GUID-3BC7D5C5-47FD-3409-BA5B-B4E7AA67E61C"><!-- --></a>
		<h2 class="topictitle2">Position()</h2>
		<table class="signature"><tr><td>IMPORT_C const <a href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td>Position</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns the current position within the data stream in microseconds since the start of streaming.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-CC9050E2-8CD5-3714-8141-AFBA6FEF1CCB"><a name="GUID-CC9050E2-8CD5-3714-8141-AFBA6FEF1CCB"><!-- --></a>
		<h2 class="topictitle2">ReadL(TDes8 &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ReadL</td><td>(</td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td>aData</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Records streaming raw audio data.</p>

				<p>If this is the first <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-CC9050E2-8CD5-3714-8141-AFBA6FEF1CCB">ReadL()</a> after a successful <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-7F336751-8A4F-3CFD-93AB-67089B3D383A">Open()</a> this function starts the audio recording process.</p>

				<p>The MMdaAudioInputStreamCallback::MaisBufferCopied() callback function is called when the buffer has been successfully filled. A pointer to the newly filled buffer is returned in the callback.</p>

				<p>Note: The MMdaAudioInputStreamCallback::MaisBufferCopied() callback function is also called when a <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> is issued, with a pointer to the remaining recorded audio data and the aError parameter of the callback set to indicate recording has finished.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp; aData</td><td>A reference to a buffer to be written into.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E"><a name="GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E"><!-- --></a>
		<h2 class="topictitle2">RequestStop()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RequestStop</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Requests a Stop of the recording process.</p>

				<p>The device is requested to Stop and does so after all unprocessed buffers are processed and passed back to the input stream. The device is actually Stopped when the final empty buffer indicating buffer process completion is received.</p>

				<p>
					<a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">CMdaAudioInputStream::Stop()</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-84777B75-3C88-3EDB-9256-21FE0D0D418C"><a name="GUID-84777B75-3C88-3EDB-9256-21FE0D0D418C"><!-- --></a>
		<h2 class="topictitle2">SetAudioPropertiesL(TInt, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetAudioPropertiesL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSampleRate,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aChannels</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Sets the sample rate and number of audio channels.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSampleRate</td><td>The new sample rate. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aChannels</td><td>The new number of channels. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-11BA5AF9-A5B6-3DB7-BBAF-892BABE9F28E"><a name="GUID-11BA5AF9-A5B6-3DB7-BBAF-892BABE9F28E"><!-- --></a>
		<h2 class="topictitle2">SetBalanceL(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetBalanceL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aBalance = 
							<a href="GUID-7AC16202-6050-3315-9A07-5D87C286941E.html">KMMFBalanceCenter</a>
						</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets the current audio balance.</p>

				<p>The balance can be any value between KMMFBalanceMaxLeft and KMMFBalanceMaxRight, the default value being KMMFBalanceCenter.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aBalance = 
							<a href="GUID-7AC16202-6050-3315-9A07-5D87C286941E.html">KMMFBalanceCenter</a>
						</td><td>A specified balance value.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E9D2DAED-3843-3D1C-BFC8-CF7979558F94"><a name="GUID-E9D2DAED-3843-3D1C-BFC8-CF7979558F94"><!-- --></a>
		<h2 class="topictitle2">SetBitRateL(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetBitRateL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aBitRate</td><td>)</td><td/></tr></table><div class="section"><div>
				<div class="p">Sets the bit rate to a new value. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNotSupported If the sound device does not support returning the current bit rate or the bit rate set is not supported </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aBitRate</td><td>The new bit rate, in bits per second.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-DB408216-06B3-36B8-9A02-BA1BB136D946"><a name="GUID-DB408216-06B3-36B8-9A02-BA1BB136D946"><!-- --></a>
		<h2 class="topictitle2">SetDataTypeL(TFourCC)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetDataTypeL</td><td>(</td><td><a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td>aAudioType</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets the data type. If the data type is not explicitly set it will assumed to be pcm16. If it is set then the hardware must support the data type being set otherwise the function leaves with KErrNotSupported.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported Leaves with this for any unsuported data type. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a> aAudioType</td><td>The fourCC code used to request the data type of the recorded data. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5C954D41-3175-30D1-B86B-728CF1FCD93D"><a name="GUID-5C954D41-3175-30D1-B86B-728CF1FCD93D"><!-- --></a>
		<h2 class="topictitle2">SetGain(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetGain</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aNewGain</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets the gain for the audio device to a specified value.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aNewGain</td><td>The gain setting. This can be any value from zero to the value returned by a call to MaxGain(). A value which is less than zero is set to zero. A value which is greater than MaxGain() is set to MaxGain().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3FD34F3E-7293-3B68-B73F-2A0AA6FB14A4"><a name="GUID-3FD34F3E-7293-3B68-B73F-2A0AA6FB14A4"><!-- --></a>
		<h2 class="topictitle2">SetPriority(TInt, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetPriority</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPriority,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPref</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Sets the audio priority values.</p>

				<p>This function cannot be used while the stream object is open. It is intended for use before an <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-7F336751-8A4F-3CFD-93AB-67089B3D383A">Open()</a> is issued, or between a previous <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> and a new <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-7F336751-8A4F-3CFD-93AB-67089B3D383A">Open()</a>.</p>

				<p>
					<a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-1F367F31-3362-3697-92F2-FE95D98B934A">CMdaAudioInputStream::NewL()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPriority</td><td>The Priority Value.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPref</td><td>The Priority Preference. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3EBCFFE7-862E-378A-B63D-99D8147B1F07"><a name="GUID-3EBCFFE7-862E-378A-B63D-99D8147B1F07"><!-- --></a>
		<h2 class="topictitle2">SetSingleBufferMode(TBool)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetSingleBufferMode</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aSingleMode</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Indicates that the client wishes to use a single buffer to collect the data. This buffer is passed via the ReadL api.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aSingleMode</td><td>ETrue to indicate setting of single buffer mode and the use of a single buffer, EFalse to indicate use of multiple buffers.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2"><a name="GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2"><!-- --></a>
		<h2 class="topictitle2">Stop()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Stop</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Stops the recording process.</p>

				<p>The MMdaAudioInputStreamCallback::MaisRecordComplete() callback function is called when recording has been halted. Just prior to issuing this callback, the FIFO buffers are read and the remaining audio data passed back by a final MMdaAudioInputStreamCallback::MaisBufferCopied() callback with its aError parameter set to KErrAbort.</p>

				<p>Any remaining FIFO buffers are also passed back, with their aError parameter set to KErrAbort.</p>

				<p>Stop is immediate and best used for premature stops, for example within destructors. If it is critical to receive all data buffers upto the point that Recording has Stopped, we recommend using RequestStop instead. Otherwise some trailing buffers may be lost from the recording process.</p>

				<p>If a Stop is issued after a RequestStop, Stop will take precedent.</p>

				<p>
					<a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E">CMdaAudioInputStream::RequestStop()</a> </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-ECAC9B0D-9FE1-3270-87C6-A2D45DBAE800"><a name="GUID-ECAC9B0D-9FE1-3270-87C6-A2D45DBAE800"><!-- --></a>
		<h2 class="topictitle2">
					CMMFMdaAudioInputStream * iProperties</h2>
		<table class="signature"><tr><td>
					<a href="GUID-661D95A2-66BC-3E06-8078-D0FAF81ACB57.html">CMMFMdaAudioInputStream</a> *</td><td>iProperties</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>