<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Font and Text Services Collection Overview"/>
<meta name="abstract" content="A font is a set of characters of matching size (height) and appearance. In order to be displayed each character must ultimately be drawn as a series of pixels (a bitmap). Symbian can store fonts in bitmap or vector form. A vector font (for example, an OpenType font) must be converted to bitmaps (or rasterized) before it can be drawn. Symbian caches and shares bitmaps for performance and memory efficiency."/>
<meta name="description" content="A font is a set of characters of matching size (height) and appearance. In order to be displayed each character must ultimately be drawn as a series of pixels (a bitmap). Symbian can store fonts in bitmap or vector form. A vector font (for example, an OpenType font) must be converted to bitmaps (or rasterized) before it can be drawn. Symbian caches and shares bitmaps for performance and memory efficiency."/>
<meta name="DC.Relation" scheme="URI" content="GUID-762A665F-43D0-53ED-B698-0CBD3AC46391.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-762A665F-43D0-53ED-B698-0CBD3AC46391.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-71DADA82-3ABC-52D2-8360-33FAEB2E5DE9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-416A3756-B5D5-5BCD-830E-2371C5F6B502.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Font and Text Services Collection Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2535736 id2535744 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html">Text and Localization Guide</a> &gt; <a href="GUID-762A665F-43D0-53ED-B698-0CBD3AC46391.html" title="The Font and Text Services Collection contains the Font Store and related plug-ins and the Text Rendering component. Application developers can select fonts from the Font Store. Device creators can create and add fonts.">Font and Text Services Collection</a> &gt; </div>
<h1 class="topictitle1">Font
and Text Services Collection Overview</h1>
<div><p>A font is a set of characters of matching size (height) and appearance.
In order to be displayed each character must ultimately be drawn as a series
of pixels (a bitmap). Symbian can store fonts in bitmap or vector form. A
vector font (for example, an OpenType font) must be converted to bitmaps (or
rasterized) before it can be drawn. Symbian caches and shares bitmaps for
performance and memory efficiency. </p>

<ul>
<li id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-DB17AE5F-54E9-5288-89DB-7A38473D9C94"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-DB17AE5F-54E9-5288-89DB-7A38473D9C94"><!-- --></a><p> <strong>Application developers</strong> can
use Font and Text Services for selecting fonts for displaying text according
to various criteria (size and typeface). </p>
 </li>

<li id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-ECFA8635-D278-5A1F-A8E8-8BADB73FE092"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-ECFA8635-D278-5A1F-A8E8-8BADB73FE092"><!-- --></a><p> <strong> Device creators</strong> can
add fonts and font rasterizers. Fonts can be included in the ROM or installed
on user drives. </p>
 </li>

</ul>

<div class="section" id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-9F33DD34-F5E5-5EA0-8559-7A933D230129"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-9F33DD34-F5E5-5EA0-8559-7A933D230129"><!-- --></a><h2 class="sectiontitle">Concepts and
terms</h2> <dl>

<dt class="dlterm">Points, twips and pixels</dt>

<dd><p>Points (1/72th inch) and twips (a twentieth of a point) are absolute
measurements of distance and specify device-independent size. Pixel sizes
are only relevant for a specific graphics device. Each graphics device (screen
or printer) must provide a mechanism for converting between pixels and twips. </p>
 </dd>



<dt class="dlterm">Font</dt>

<dd><p>A named set of characters of matching size (height) and <strong>font style</strong> (normal,
bold, italic, underline). <strong>Times Roman 14 point bold</strong> is an example of
a font. </p>
 </dd>



<dt class="dlterm">Typeface</dt>

<dd><p>A group of fonts with similar appearance. The typeface does not include
the size or font style. <strong>Times</strong> is an example of a typeface. Typefaces
are sometimes referred to as <strong>font families</strong>. </p>
 <p>Typefaces are grouped
generically as mono-spaced, variable width, serif, sans-serif and symbol.
This allows the grouping of typefaces that have similar characteristics, so
that an alternative font can be selected when an exact match is not found.
This means that applications can display text relatively accurately when a
specific font is not available. </p>
 </dd>



<dt class="dlterm">OpenType font </dt>

<dd><p>A font that is stored as vector data, which can be rasterized to any
pixel size. OpenType fonts are sometimes simply called <strong>open fonts</strong>.
An open font can only be used with a corresponding font rasterizer. The <a href="GUID-A03FB1BF-F67B-519D-A904-74CA3F8375D9.html" title="The Font and Bitmap Server collection contains only one component—the Font and Bitmap Server. As its name suggests, the Font and Bitmap Server manages fonts and bitmaps.">Font and Bitmap Server</a> caches
rasterized fonts into bitmap form. </p>
 <p>OpenType is an open source vector
font format, which is similar to TrueType. Like TrueType fonts, OpenType fonts
can contain font hinting information. However the font rasterizer's use of
the font hinting information in OpenType fonts is restricted by a software
patent. </p>
 </dd>



<dt class="dlterm">Character</dt>

<dd><p>A single element (such as a letter, number, ligature, symbol or punctuation
mark) of written language. Each character has a unique number (its <a href="http://www.unicode.org/standard/WhatIsUnicode.html" target="_blank">Unicode</a> code point). </p>
 </dd>



<dt class="dlterm">Glyph</dt>

<dd><p>A graphical representation of a character in a specific font. The mapping
between a character and a glyph is not always direct. For example, a character
may be represented by different glyphs, depending on the context. </p>
 </dd>



<dt class="dlterm">Font metrics</dt>

<dd><p>Measurements (such as maximum height) that are common to all of the
characters in a font. </p>
 </dd>



<dt class="dlterm">Character metrics</dt>

<dd><p>Measurements (such as character width) that apply to an individual
character within a font. </p>
 </dd>



<dt class="dlterm">Bitmap font</dt>

<dd><p>A font stored as bitmap glyphs. The size of a font is described in
pixels. However, the actual size is dependent on the pixel size of the graphics
device. </p>
 </dd>



<dt class="dlterm">Rasterizing</dt>

<dd><p>The process of converting drawing instructions into bitmap data. Fonts
provided in vector form (OpenType fonts) must be rasterized into fixed size
fonts before they can be used. </p>
 </dd>



<dt class="dlterm">Linked font</dt>

<dd><p>A virtual font or typeface created from characters from other fonts.
The component fonts must be open fonts or other linked fonts. Linked fonts
are typically used where a preferred font does not contain all of the characters
in the character set. One of the typefaces in a linked font must be designated
as the principal typeface from which any unspecified default metrics or characters
are used. </p>
 </dd>



<dt class="dlterm">Contextual shaping</dt>

<dd><p>In some scripts some characters are drawn differently depending on
the adjacent characters. This means that different glyphs are used to represent
a particular character in different contexts. Contextual shaping is the selection
of the appropriate glyph from several glyphs that represent a particular character
depending on the context. </p>
 <p>In Latin scripts, contextual shaping is
normally used only when simulating handwriting. For example, the glyph used
for the letter <strong>p</strong> might depend on whether the letter is at the start,
middle or end of a word, as shown in the following diagram. For example, when
it is in the middle of the word, it might have a "tail" on both sides to join
it to the letters that appear before and after. </p>
 <div class="fignone" id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-30A9DA99-E1C5-5EE5-AEB3-0BCD6DB0A692"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-30A9DA99-E1C5-5EE5-AEB3-0BCD6DB0A692"><!-- --></a><span class="figcap">Figure 1.                    Figure 1: Handwriting simulation might use different
glyphs for                   the letter p depending on its position in a word
                 </span>

<img src="GUID-8F19C257-9A41-5D38-BC8A-285D0EB16E1B_d0e654859_href.png"/>
</div>
 <p>Contextual shaping is an essential feature of some scripts, including
Arabic and many Indian and East Asian scripts, such as Devanagari, Kannada,
Telugu, Tamil, Bengali, Malayalam and Gurmukhi. For this reason, support for
contextual shaping is sometimes referred to as <strong>Brahmic support</strong>. </p>
 </dd>



<dt class="dlterm">Text shaper</dt>

<dd><p>A plug-in that performs the contextual shaping for scripts that require
this feature. Text shapers are font and language specific. </p>
 </dd>



<dt class="dlterm">System font</dt>

<dd><p>A default font that is used when no font is specified. </p>
 </dd>


</dl>
 </div>

<div class="section"><h2 class="sectiontitle">Architectural relationships</h2> <p>The Font and Text Services
components are closely integrated with the Font and Bitmap Server, GDI, BitGDI
and Window Server components in the <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics
package</a>. Font size is only meaningful in the context of the current
graphics device and its pixel size. Open fonts must be rasterized in the context
of the current graphics device. The diagram below shows how BitGDI implements
Graphics Devices and Contexts. </p>
 <div class="fignone" id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-36165480-E5BC-50F3-B205-5668EA7F0306"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-36165480-E5BC-50F3-B205-5668EA7F0306"><!-- --></a><span class="figcap">Figure 2.               Figure 2: The Graphics Device and Context Architecture.
           </span>. <span class="figdesc"><p>Note that the names of the BitGDI classes begin with <samp class="codeph">CFbs</samp>. </p>
 </span>


<img src="GUID-9D6D07D3-A93C-5290-AC08-15750AD34802_d0e654917_href.png"/>
</div>
 <p>Applications access font services through the <a href="GUID-71DADA82-3ABC-52D2-8360-33FAEB2E5DE9.html" title="The Font and Bitmap Server (FBServ) provides a memory efficient way of using bitmaps and fonts. It stores a single instance of each bitmap in either a shared heap or in eXecute In Place (XIP) ROM and provides clients with read and (when appropriate) write access.">Font
and Bitmap Server (FBSERV)</a> which caches font bitmaps in a shared heap.
The Font and Bitmap Server ensures that there is only ever a single instance
of a particular glyph bitmap in memory. However, eXecute In Place (XIP) ROM-based
bitmaps (including fonts) are used in place and are not copied into the heap. </p>
 <p>Use
of the Font and Bitmap Server is transparent to clients of the Window Server.
The Window Server client session (<a href="GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html"><span class="apiname">RWsSession</span></a>) automatically
creates an <a href="GUID-E5B29AC0-4953-385F-84C5-13EE6CB77D46.html"><span class="apiname">RFbsSession</span></a> and stores it in thread local storage
(TLS). The Font and Bitmap Server provides two client-side classes for fonts: <a href="GUID-DE966D8B-6E00-39B6-B136-6CF29EA384D3.html"><span class="apiname">CFbsFont</span></a> and <a href="GUID-5E287BF6-08C1-36A2-9085-F6B61CC52550.html"><span class="apiname">CFbsTypefaceStore</span></a>. These find and use the session in TLS automatically. Clients of the Window
Server are therefore automatically clients of the Font and Bitmap Server and
need perform no explicit session management. </p>
 <p>Classes representing
fonts, such as <a href="GUID-DE966D8B-6E00-39B6-B136-6CF29EA384D3.html"><span class="apiname">CFbsFont</span></a> (on the client side) and <a href="GUID-25D4B920-6158-3014-8E7D-4E1C5267C5EF.html"><span class="apiname">CBitmapFont</span></a> (on
the server side), are derived from the abstract class <a href="GUID-2A12FE3B-47F2-3016-8161-A971CA506491.html"><span class="apiname">CFont</span></a>. </p>
 <p>The <a href="GUID-B798C19D-4030-564A-A208-D84738259D72.html" title="The Font Store is encapsulated by the Font and Bitmap Server. It represents all of the fonts stored as files in the file system. Font files may be of the native Symbian bitmap format or they may require rasterising into bitmaps. Font rasterisers are ECOM plug-ins to the Font Store.">Font Store</a> lives in
the <a href="GUID-71DADA82-3ABC-52D2-8360-33FAEB2E5DE9.html" title="The Font and Bitmap Server (FBServ) provides a memory efficient way of using bitmaps and fonts. It stores a single instance of each bitmap in either a shared heap or in eXecute In Place (XIP) ROM and provides clients with read and (when appropriate) write access.">Font and Bitmap
Server</a> and contains all of the fonts on the device and the font rasterizers
required to render them. The Font Store loads font files when the phone starts
up. It scans all of the drives on the device so that new fonts can be installed
from user drives. Font files can be loaded by the Font Store while the phone
is running. However, font rasterizers can only be installed by restarting
the phone. If a new font requires a font rasterizer to be installed, the phone
must be restarted before the font can be used. </p>
 <p>Open font rasterizers
are implemented as ECOM plug-ins. An open font file (represented by <a href="GUID-FC62EDD7-A3F7-3611-A899-CA5F17BB2EEE.html"><span class="apiname">COpenFontFile</span></a>)
can contain one or more open fonts in proprietary vector format. A corresponding
font rasterizer plug-in (<a href="GUID-CA16238D-478A-302A-9671-97B62B0E738A.html"><span class="apiname">COpenFontRasterizer</span></a>) must convert
the vector data into bitmaps that the Font and Bitmap Server can cache and
access using the <a href="GUID-25D4B920-6158-3014-8E7D-4E1C5267C5EF.html"><span class="apiname">CBitmapFont</span></a> and <a href="GUID-039375D3-AFD9-3E31-9C1C-ACEDC10E27CE.html"><span class="apiname">COpenFont</span></a> APIs.
Applications use rasterized open fonts by using <a href="GUID-DE966D8B-6E00-39B6-B136-6CF29EA384D3.html"><span class="apiname">CFbsFont</span></a> in
exactly the same way as native bitmap fonts. The open font framework means
that Symbian can support any font in any format. There is a performance impact
associated with open fonts, however, as they must be rasterized. </p>
 <p>Text
shapers (<a href="GUID-FF3DFCCC-DCFE-3DD9-B497-B96C46B4FDD1.html"><span class="apiname">CShaper</span></a>) are used for contextual scripts, which
require their glyphs to be modified according to the adjacent characters.
Text shapers are font and language specific. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Components</h2> <p>The Font and Text Services collection
is made up of the following components: </p>
 <ul>
<li id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-0C4363B1-4340-5638-8A59-ECDF2AFFA088"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-0C4363B1-4340-5638-8A59-ECDF2AFFA088"><!-- --></a><p><a href="GUID-B798C19D-4030-564A-A208-D84738259D72.html" title="The Font Store is encapsulated by the Font and Bitmap Server. It represents all of the fonts stored as files in the file system. Font files may be of the native Symbian bitmap format or they may require rasterising into bitmaps. Font rasterisers are ECOM plug-ins to the Font Store.">Font
Store</a>. This manages font matching, ownership and rasterizing. </p>
 </li>

<li id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-AAE1BCA4-B9B4-5AD1-AC79-3308F231FCE7"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-AAE1BCA4-B9B4-5AD1-AC79-3308F231FCE7"><!-- --></a><p> <a href="GUID-75C5A614-CEC1-5832-ACEA-E3C31B8A0DE8.html" title="The FreeType Font Rasterizer is a plug-in to the Font Store. It interprets open font files and generates native Symbian bitmap font characters. It is an optional replaceable component, which means that it may be used or replaced by device creators.">FreeType
Font Rasterizer</a>. This open source plug-in rasterizes OpenType fonts.
More information can be found at <a href="http://www.freetype.org/" target="_blank">www.freetype.org</a>.
This rasterizer is normally loaded by default. </p>
 </li>

<li id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-7EB97752-0F44-5625-8474-FDCF64654AE6"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-7EB97752-0F44-5625-8474-FDCF64654AE6"><!-- --></a><p><a href="GUID-DB453F9B-55B6-50C7-984D-7154F1E84AE6.html" title="The ICU Layout Engine component is a plug-in to the Font Store that wraps the ICU (International Components for Unicode) layout engine. This performs contextual shaping for specific scripts that require this feature.">ICU
Layout Engine Component</a>. A plug-in that performs contextual shaping
for specific scripts that require this feature. When a function, such as <a href="GUID-4A501086-7EFF-376D-8901-6D9B2EB4EFF2.html#GUID-4A501086-7EFF-376D-8901-6D9B2EB4EFF2__GUID-176B0A61-867E-35A6-AE53-0BABA48741D9"><span class="apiname">CFbsBitGc::DrawText()</span></a> draws
text in one of these scripts, internally a text shaper is used to convert
the string of characters into the appropriate series of glyphs. </p>
 </li>

<li id="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-DED869DB-C45B-51A6-B594-BA1321BC272B"><a name="GUID-90644B52-69D7-595C-95E3-D6F7A30C060D__GUID-DED869DB-C45B-51A6-B594-BA1321BC272B"><!-- --></a><p><a href="GUID-F4C53728-B54B-5680-82FC-9A365B45F4B5.html" title="The Reference Fonts component contains a number of Symbian native bitmap fonts and OpenType fonts.">Reference
Fonts</a>. This provides a collection of reference font files including
bitmap and OpenType fonts. By default the Symbian platform supports the DejaVu
OpenType typeface (which includes variable-width, monospaced, serif and sans
serif fonts) and legacy Calculator and Agenda symbols (which are bitmap fonts). </p>
 </li>

</ul>
 <p> <em>Note</em>: The <a href="GUID-771AC6EC-348D-5535-9D91-5A0232BB9576.html"> iType
Font Rasterizer</a> is an OpenType font rasterizer from MonoType Imaging®.
This provides additional features compared to the FreeType font rasterizer,
such as four color blending, which is required for outline and shadow fonts.
This component is not provided by the Symbian Foundation because it belongs
to Monotype. However, the Symbian platform has test cases for the four color
blending that the iType Font Rasterizer provides. These test cases can be
used by device creators who obtain this font rasterizer from MonoType. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-762A665F-43D0-53ED-B698-0CBD3AC46391.html" title="The Font and Text Services Collection contains the Font Store and related plug-ins and the Text Rendering component. Application developers can select fonts from the Font Store. Device creators can create and add fonts.">Font and Text Services Collection</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-71DADA82-3ABC-52D2-8360-33FAEB2E5DE9.html" title="The Font and Bitmap Server (FBServ) provides a memory efficient way of using bitmaps and fonts. It stores a single instance of each bitmap in either a shared heap or in eXecute In Place (XIP) ROM and provides clients with read and (when appropriate) write access.">Font and
Bitmap Server Component Overview </a></div>
<div><a href="GUID-416A3756-B5D5-5BCD-830E-2371C5F6B502.html" title="The Font Store contains all of the fonts and typefaces on a phone. It is encapsulated by the Font and Bitmap server which provides a client-side class that applications use to find which fonts are available and to find fonts to match their requirements."> Font Store
Component Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>