<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="How to use wrapping"/>
<meta name="DC.Relation" scheme="URI" content="GUID-136540F0-108A-5794-A0FE-D95260F4E59B.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4F901F56-7F0E-4869-85CA-6109ED0AF5B7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4CBFA2E3-0EFC-5E10-A960-57A8FF9A6025.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-136540F0-108A-5794-A0FE-D95260F4E59B.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>How to use wrapping</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96"><a name="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2535736 id2436594 id2436736 id2436786 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html">Text and Localization Guide</a> &gt; <a href="GUID-4F901F56-7F0E-4869-85CA-6109ED0AF5B7.html" title="This section describes about Text Handling and Text Formatting.">Text Layout</a> &gt; <a href="GUID-4CBFA2E3-0EFC-5E10-A960-57A8FF9A6025.html">Using Text Views (FORM)</a> &gt; <a href="GUID-136540F0-108A-5794-A0FE-D95260F4E59B.html">How to use text views</a> &gt; </div>
<h1 class="topictitle1">How to use wrapping</h1>
<div><p>After any operation which resizes the <span class="keyword">text
        area</span>, the wrapping width may need to be changed. The code in this section resets the view rectangle, and then resets the wrapping width accordingly.</p>
 <ul><li id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-0027B472-465C-537F-8F40-641997F362A1"><a name="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-0027B472-465C-537F-8F40-641997F362A1"><!-- --></a><p>Resize the view rectangle (an instance of class <a href="GUID-101762DC-E498-3325-88AB-B0FF17DC62B6.html"><span class="apiname">TRect</span></a>) by shrinking it by forty pixels in both directions.</p>
 </li>
 <li id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-49E7E1FD-C954-5097-B11F-AE0FF9ED9384"><a name="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-49E7E1FD-C954-5097-B11F-AE0FF9ED9384"><!-- --></a><p>Reset the view rectangle using <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html#GUID-CF377A98-F11F-380F-AD10-7F3E261D4421__GUID-3D04D758-B829-34C6-9B22-C51F58D0316C"><span class="apiname">CTextView::SetViewRect()</span></a>.</p>
 </li>
 </ul>
 <pre class="codeblock" id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-1F0FBF4A-BF54-5926-A7B6-564E8136646B"><a name="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-1F0FBF4A-BF54-5926-A7B6-564E8136646B"><!-- --></a>iViewRect.Shrink(40,40);
iTextView-&gt;SetViewRect(iViewRect);
iTextView-&gt;HandleGlobalChangeL(); 
    // update formatting and draw the completely revamped view</pre>
 <p>The following code sets the wrapping width to be the width of the new view rectangle minus the total margin width, so that text wraps at the right hand edge of the view rectangle.</p>
 <ul><li id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-BF3388F7-13D4-5C72-959E-751CDA7D9C10"><a name="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-BF3388F7-13D4-5C72-959E-751CDA7D9C10"><!-- --></a><p>To ensure that text wrapping is set, use <a href="GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html#GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF__GUID-B8C93ECC-1BEA-321F-AF2A-AF534212900F"><span class="apiname">CTextLayout::DisableWrapOverride(EFalse)</span></a>. By default, wrapping is set.</p>
 </li>
 <li id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-B27EE3E1-0716-563B-9063-5A3463412636"><a name="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-B27EE3E1-0716-563B-9063-5A3463412636"><!-- --></a><p>As the wrapping width is a global document characteristic, changes to it may be handled using <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html#GUID-CF377A98-F11F-380F-AD10-7F3E261D4421__GUID-903D1087-42CB-32EB-8379-7B019936AD16"><span class="apiname">CTextView::HandleGlobalChangeL()</span></a>.</p>
 </li>
 </ul>
 <pre class="codeblock" id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-C92925E0-AE52-507E-93AA-7653BE7107B9"><a name="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96__GUID-C92925E0-AE52-507E-93AA-7653BE7107B9"><!-- --></a>// Wrap text to new view rectangle
TInt labelsWidth,lineCursorWidth;
// Get both margin widths
iTextView-&gt;MarginWidths(labelsWidth,lineCursorWidth);
// New wrap width = new view rect width minus total margin width
iLayout-&gt;SetWrapWidth(iViewRect.Width()-(labelsWidth+lineCursorWidth));
iLayout-&gt;DisableWrapOverride(EFalse); // Ensure wrapping on
iTextView-&gt;HandleGlobalChangeL();</pre>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-136540F0-108A-5794-A0FE-D95260F4E59B.html">How to use text views</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>