<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Graphics HAI Test Overview"/>
<meta name="abstract" content="This topic describes the Graphics HAI test suite and explains how to set up the test environment. The tests target device driver acceptance testing."/>
<meta name="description" content="This topic describes the Graphics HAI test suite and explains how to set up the test environment. The tests target device driver acceptance testing."/>
<meta name="DC.Relation" scheme="URI" content="GUID-12D98D9F-EBA2-5375-92D7-0D11FD162F3A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9237136D-3045-5FFE-A39D-FC8CC9666B19.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-12D98D9F-EBA2-5375-92D7-0D11FD162F3A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6C1CE0B7-4DA5-5F33-BCA5-6E74B645DA31.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Graphics HAI Test Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2385174 id2385217 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-9237136D-3045-5FFE-A39D-FC8CC9666B19.html" title="The Graphics API Tests collection contains two test suites.">Graphics API Tests Collection</a> &gt; <a href="GUID-12D98D9F-EBA2-5375-92D7-0D11FD162F3A.html">Screen Driver HAI Tests Component</a> &gt; </div>
<h1 class="topictitle1">Graphics HAI Test Overview</h1>
<div><p>This topic describes the Graphics HAI test suite and explains how to set up the test environment. The tests target device driver acceptance testing. </p>
<div class="section"><h2 class="sectiontitle">Scope</h2> <p><strong>Components under test </strong> </p>
 <p>The test suite tests the <a href="GUID-9E7D563E-9FFB-5FA9-8944-9CBAC281FDD2.html">Screen Driver</a> using the GDI and Colour Palette components. </p>
 <p><strong>Test scope </strong> </p>
 <p>The test suite is used as a validation of the Graphics Device Interface. </p>
 <p><strong>Screen Driver testing </strong> </p>
 <p>The test suite includes test cases for basic functionality, such as changing the display mode, draw mode and orientation. All tests are automated. For details, see <a href="GUID-6C1CE0B7-4DA5-5F33-BCA5-6E74B645DA31.html">Graphics Screen Driver Test Suite</a>. </p>
 </div>
 <div class="section" id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-2C5964D4-ABB4-516F-A17F-FFF30BA6F9E1"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-2C5964D4-ABB4-516F-A17F-FFF30BA6F9E1"><!-- --></a><h2 class="sectiontitle">Test environment</h2> <p><strong>Device under test setup </strong> </p>
 <p>The device under test (hardware reference platform or phone) must contain a Symbian platform ROM. </p>
 <p><strong>PC setup </strong> </p>
 <p>To build and run the test code, the PC must have installed a suitable Symbian Product Developer Kit (PDK) or equivalent, the Symbian Product Developer Toolkit (PDT) and relevant compilers (such as RVCT or GCCE). </p>
 <p>You build and run the Graphics HAI test suite using the TEFLite framework. TEFLite (also known as TEF Lite) is a variant of the Test Execution Framework (TEF). Unlike TEF, TEFLite does not have a dependency on the Window Server. This means that tests can run on a base ROM that simply has the text shell rather than the full Window Server. TEF and its variant TEFLite are included in the PDT. </p>
 <p><strong>Test dependencies </strong> </p>
 <p>There are no dependencies for the test suites. </p>
 <p><strong>Pre-build setup </strong> </p>
 <p>The file <span class="filepath">...\graphics\graphicsapitest\screendriverhaitest\group\device.cfg</span> needs to be set up for the device under test. To do this, remove the comment (double slash) on the <samp class="codeph">#define</samp> for the device on which you want to build the tests. </p>
 </div>
 <div class="section" id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-6D3C3986-814D-58F3-A702-99923486271C"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-6D3C3986-814D-58F3-A702-99923486271C"><!-- --></a><h2 class="sectiontitle">Building and execution</h2> <p><strong>Compiling the test code </strong> </p>
 <p>Screendriver test suites can be built from: </p>
 <p> <span class="filepath">...\graphics\graphicsapitest\screendriverhaitest\group\</span>  </p>
 <p>To compile the test code, perform the following steps: </p>
 <a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-F51A7BE9-FCF7-5BDA-A833-0B47D68CC914"><!-- --></a><ol id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-F51A7BE9-FCF7-5BDA-A833-0B47D68CC914"><li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-552CC891-67AD-5D17-8B6E-B0C83ED86B06"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-552CC891-67AD-5D17-8B6E-B0C83ED86B06"><!-- --></a><p>Set the default device with this command: </p>
 <p><kbd class="userinput">devices -setdefault @device-identifier</kbd> </p>
 <p>where <samp class="codeph">device-identifier</samp> identifies the SDK or PDK. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-17FD930C-5CC3-545E-A9C5-7EE6205FA3A3"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-17FD930C-5CC3-545E-A9C5-7EE6205FA3A3"><!-- --></a><p>Create your batch file and .<span class="filepath">make</span> files using the following command: </p>
 <p><kbd class="userinput">bldmake bldfiles</kbd> </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-8430684F-1D5F-5BBD-BE06-8CA4EB467B15"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-8430684F-1D5F-5BBD-BE06-8CA4EB467B15"><!-- --></a><p>Clean up all files created in a previous build using the following command: </p>
 <p><kbd class="userinput">abld test reallyclean</kbd> </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-7FA0389B-3334-5D69-9D80-489A140864BC"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-7FA0389B-3334-5D69-9D80-489A140864BC"><!-- --></a><p>Build the current project using the following command: </p>
 <p><kbd class="userinput">abld test build armv5 [urel | udeb]</kbd> </p>
 </li>
 </ol>
 <p><strong>Building and executing the tests manually (tests built into ROM) </strong> </p>
 <p>To build ROM image for an S60 SDK: </p>
 <a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-6E38B253-4142-5F18-9741-D58CFDEC107E"><!-- --></a><ol id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-6E38B253-4142-5F18-9741-D58CFDEC107E"><li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-AB32D829-0D99-5D03-A934-619B6AD08FE1"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-AB32D829-0D99-5D03-A934-619B6AD08FE1"><!-- --></a><p>Navigate to the directory <span class="filepath">\epoc32\rom</span>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-75BAAA62-F891-5A06-A6FB-E61467D01FA1"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-75BAAA62-F891-5A06-A6FB-E61467D01FA1"><!-- --></a><p>Make sure <span class="filepath">master.oby</span> includes the following: </p>
 <p> <samp class="codeph">#include &lt;../haitests/t_screendriver.iby&gt;</samp>  </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-8116E17B-655D-587E-B6BE-7BDFFC084DF5"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-8116E17B-655D-587E-B6BE-7BDFFC084DF5"><!-- --></a><p>Run <span class="filepath">BuildS60rom.bat</span>. Make sure to use the <samp class="codeph">s</samp> key until you get the image type set to <samp class="codeph">subcon</samp>. This file creates the image at <span class="filepath">epoc32/rom</span>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-151B44A9-9574-5C61-9BEF-68FB3F988288"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-151B44A9-9574-5C61-9BEF-68FB3F988288"><!-- --></a><p>Ensure that the size of your image is equal to or greater than 60 MB. This is the minimum size of an image that works. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-65A15A4B-1D41-5061-9104-A508756206EF"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-65A15A4B-1D41-5061-9104-A508756206EF"><!-- --></a><p>No errors should be generated to continue flashing the image. Errors are kept in s<span class="filepath">p_rnd_imagecreation.log</span> file at <span class="filepath">epoc32/rom</span>. </p>
 </li>
 </ol>
 <p>Here is the procedure for a NORMAL flashing with Phoenix software: </p>
 <ul><li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-C066D92F-2501-5E7F-96C4-5A9F09F70FF9"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-C066D92F-2501-5E7F-96C4-5A9F09F70FF9"><!-- --></a><p>Flash the MCU SW engineering English ROM image by performing the following steps: </p>
 <a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-EBD86C3F-2D67-581A-B2DC-8619B37A8EA8"><!-- --></a><ol id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-EBD86C3F-2D67-581A-B2DC-8619B37A8EA8"><li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-BE3F5159-43B8-595F-B4BF-66566F4026BE"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-BE3F5159-43B8-595F-B4BF-66566F4026BE"><!-- --></a><p>Select <strong>Connection type –&gt; USB</strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-5EBC97AC-C0AC-5CA2-B78D-B788C7AFBA8E"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-5EBC97AC-C0AC-5CA2-B78D-B788C7AFBA8E"><!-- --></a><p>Select <strong>File –&gt; Scan Product </strong> or press <samp class="codeph">Ctrl+R</samp>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-251C6A60-4A72-5D65-AA0E-DB21F0CBB0C5"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-251C6A60-4A72-5D65-AA0E-DB21F0CBB0C5"><!-- --></a><p>Select<strong> Flashing –&gt; Prommer tool</strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-D96278A6-0E1C-5A99-A40B-534A5262BDF5"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-D96278A6-0E1C-5A99-A40B-534A5262BDF5"><!-- --></a><p>Select <strong>Init</strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-1FAC6012-2CD7-5975-B3E4-0283894DA81E"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-1FAC6012-2CD7-5975-B3E4-0283894DA81E"><!-- --></a><p>Select <strong>Program Phone</strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-2F51D65A-6985-54DA-931E-3731B3E7CC66"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-2F51D65A-6985-54DA-931E-3731B3E7CC66"><!-- --></a><p>Select the correct <samp class="codeph">*.fpsx</samp> file in the <strong>MCU Image file</strong> field. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-2F5EEB5E-2BEB-53DF-94FE-AC7D71AE37A0"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-2F5EEB5E-2BEB-53DF-94FE-AC7D71AE37A0"><!-- --></a><p>Click the <strong>Flash</strong> button. </p>
 </li>
 </ol>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-20B31ED1-CC05-5144-BB01-3A5A7C2261EA"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-20B31ED1-CC05-5144-BB01-3A5A7C2261EA"><!-- --></a><p>Flash the Symbian user area erase file by performing the following steps: </p>
 <a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-548B41FF-4EF9-5C8C-B46B-98B066ECE4B0"><!-- --></a><ol id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-548B41FF-4EF9-5C8C-B46B-98B066ECE4B0"><li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-73895DC1-D34D-5A24-9D37-11FF6594D187"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-73895DC1-D34D-5A24-9D37-11FF6594D187"><!-- --></a><p>Select <strong>File –&gt; Scan Product</strong> or press <samp class="codeph">Ctrl+R</samp>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-3CA3BDA6-7001-5259-A7E8-9CBDA231E580"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-3CA3BDA6-7001-5259-A7E8-9CBDA231E580"><!-- --></a><p>Select <strong>Flashing -&gt; Prommer tool</strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-B64790FE-0107-502A-BF1E-742145327A9C"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-B64790FE-0107-502A-BF1E-742145327A9C"><!-- --></a><p>Select <strong>Init</strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-AB2F48B9-F715-5C70-B632-8E96782D8476"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-AB2F48B9-F715-5C70-B632-8E96782D8476"><!-- --></a><p>Select <strong>Program Phone</strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-1795ED62-4365-5CA4-90F0-ED2556BE0CF7"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-1795ED62-4365-5CA4-90F0-ED2556BE0CF7"><!-- --></a><p>Select the correct <samp class="codeph">*_udaerase.fpsx</samp> file in the <strong>MCU Image file</strong> field. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-55EB6B82-1F4F-58CE-A30D-C1E764C8ABA1"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-55EB6B82-1F4F-58CE-A30D-C1E764C8ABA1"><!-- --></a><p>Click the <strong>Flash</strong> button. </p>
 </li>
 </ol>
 </li>
 </ul>
 <p><strong>Executing the tests on the device </strong> </p>
 <p>To execute the tests on the device: </p>
 <a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-7934DB14-F92B-5234-B067-ACE740FBF152"><!-- --></a><ol id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-7934DB14-F92B-5234-B067-ACE740FBF152"><li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-B9A49F04-3F9F-5135-817E-D3722AA411AC"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-B9A49F04-3F9F-5135-817E-D3722AA411AC"><!-- --></a><p>Open the <strong>eShell</strong> application. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-E2B1A601-06FE-5DAC-80AA-CB4225F121FA"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-E2B1A601-06FE-5DAC-80AA-CB4225F121FA"><!-- --></a><p>Type <samp class="codeph">z:</samp> to go the <samp class="codeph">z</samp> drive. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-A8DF53F3-33EB-5DCE-9F26-0BE40E844427"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-A8DF53F3-33EB-5DCE-9F26-0BE40E844427"><!-- --></a><p>Type <samp class="codeph">cd &lt;test suite name&gt;</samp> to go <samp class="codeph">&lt;test
                suite name&gt;</samp> directory. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-032EC98A-8EF3-5103-A83A-211B7A25F880"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-032EC98A-8EF3-5103-A83A-211B7A25F880"><!-- --></a><p>Type <samp class="codeph">t_&lt;test suite name&gt;.bat</samp> to execute test cases of the test suite name. </p>
 </li>
 </ol>
 <p> <strong>Example</strong>: </p>
 <p><kbd class="userinput">z:</kbd> </p>
 <p><kbd class="userinput"> cd graphics</kbd> </p>
 <p><kbd class="userinput">t_screendriver.bat</kbd> </p>
 <p>The batch files must contain one or more lines like this: </p>
 <p> <samp class="codeph">testexecute \graphics\&lt;script name&gt;.script -tcx
          z:\graphics\t_&lt;test suite name&gt;.tcs</samp>  </p>
 <p>The following code snippet shows the content of the <span class="filepath">t_screendriver.bat</span> file: </p>
 <pre class="codeblock" id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-0354D419-2C05-5C23-9B53-827A92C46718"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-0354D419-2C05-5C23-9B53-827A92C46718"><!-- --></a>testexecute z:\graphics\graphics-screendriver-cfbsdrawdevice-automated.script 
            -tcx z:\graphics\t_screendriver.tcs</pre>
 <p><strong>Building and executing tests using TestDriver </strong> </p>
 <a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-465C2463-D04F-56BB-9539-7790ADE1EBF4"><!-- --></a><ol id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-465C2463-D04F-56BB-9539-7790ADE1EBF4"><li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-22F9AFFE-BC4F-5B6C-911D-B75B5DE5B743"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-22F9AFFE-BC4F-5B6C-911D-B75B5DE5B743"><!-- --></a><p> <strong> Configure the TestDriver </strong>  </p>
 <p>TestDriver can be configured using the batch file <span class="filepath">testdriversetup.bat</span> located in the following location: </p>
 <p> <span class="filepath">...\graphics\graphicsapitest\screendriverhaitest\group\.....</span> </p>
 <p>Run the following command: </p>
 <p><kbd class="userinput">testdriversetup</kbd> </p>
 <p> <span class="filepath">testdriversetup.bat</span> calls <span class="filepath">testdriversetup.pl</span> which applies an appropriate set of configuration parameters to TestDriver. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-350BEB9C-39AA-540F-A788-7254A3CEAEB1"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-350BEB9C-39AA-540F-A788-7254A3CEAEB1"><!-- --></a><p> <strong> Build test code for TestDriver </strong>  </p>
 <p>TestDriver commands may be executed from any location. </p>
 <p>To build the test code, run the following command: </p>
 <p><kbd class="userinput">testdriver build –p &lt;armv5&gt; –b &lt;urel/udeb&gt; –s screendriverhai.[&lt;specific test suite path&gt;] </kbd> </p>
 <p> <em>Note</em>: Refer to the driver file structure for the possible test paths in the test suite. </p>
 <p>To look at the TestDriver file structure, look at the <span class="filepath">screendriverhai.driver</span> file found under <span class="filepath">...\graphics\graphicsapitest\screendriverhaitest\testsuites\graphics\...</span> </p>
 <p>Alternatively, it can be seen in the following location after building the test suite: </p>
 <p> <span class="filepath"> %EPOCROOT%\epoc32\testdriver\...</span>  </p>
 <p>The hierarchical test suite structure facilitates easy build and execution of the complete test suite or part of it. For example, if the path specified is <samp class="codeph">&lt;screendriverhai.screendriver&gt;</samp>, the entire screendriver suite is executed. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-14B553E2-52E9-563D-9A68-11F663478940"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-14B553E2-52E9-563D-9A68-11F663478940"><!-- --></a><p> <strong>Communication between PC and hardware</strong>  </p>
 <p>TestDriver uses the STAT application on the device to communicate with the PC. Therefore, the device under test must have STAT installed. The device should be connected to the PC through USB, serial cable, BT or TCP/IP connection. The ROM image is built on the PC and transferred to the hardware board through the MMC card. TestDriver commands are used to execute the tests on the device. </p>
 <p> <strong>Note</strong>: For more information, see <strong>Symbian Verification Suite » TestDriver V2 » TestDriver requirements » Communicating with the device » Introduction </strong>. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-19AF43DC-C316-5B56-990E-1866BBEB37C9"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-19AF43DC-C316-5B56-990E-1866BBEB37C9"><!-- --></a><p> <strong> Build ROM image </strong>  </p>
 <p> <strong>For an H4HRP device</strong>: </p>
 <p> <samp class="codeph">rom –I=armv5 –v=h4hrp –b=urel –t=td_salt</samp>  </p>
 <p> <strong>Note</strong>: STAT must be installed on the device. </p>
 <p> <strong>For other devices (such as a prototype device)</strong>: </p>
 <p>In <span class="filepath">user_input.oby</span>, remove all references to the base test suite: binaries, DLLs, .<span class="filepath">iby</span>, .<span class="filepath">oby</span>.<span class="filepath">script</span> and .<span class="filepath">ini</span> files, (including any sub components). This excludes the test suite in the image, as TestDriver installs a SIS package for the suite automatically. </p>
 <p> <strong>Note</strong>: STAT must be installed on the device. </p>
 </li>
 <li id="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-F4211FF5-3235-51B0-86D5-89AA186C313E"><a name="GUID-824CE245-C692-5B8C-8C21-18F7CB8E7B11__GUID-F4211FF5-3235-51B0-86D5-89AA186C313E"><!-- --></a><p> <strong> Execute the tests </strong>  </p>
 <p>Run the following command to execute the tests: </p>
 <p><kbd class="userinput">testdriver run </kbd> </p>
 <p> <strong>Note</strong>: All scripts and test data are automatically removed from the system drive of the device under test after the execution. </p>
 </li>
 </ol>
 </div>
 <div class="section"><h2 class="sectiontitle">Test results</h2> <p><strong>Test results log file location </strong> </p>
 <p>After tests complete execution, result logs can be found on the system drive of the device in the <span class="filepath">\logs\testexecute\</span> directory. </p>
 <p>Each test case in the script consists of test blocks (usually just one), which may pass or fail. Each test block executes a number of commands. Each of the commands performs an action on the tested APIs (calling a certain function of tested classes). A test case passes if all its test blocks pass. A test block passes if all its commands and other instructions pass. </p>
 <p>The log displays the percentage of test cases that have passed successfully. Ideally the script should have a 100% pass rate. </p>
 <p><strong>How to interpret test results </strong> </p>
 <p>Each test suite produces its own HTML log file containing the results of the test run. When examining the log file, check the results at the bottom first. This gives a summary of the number of tests in the suite that have passed or failed. In the body of the log, passing tests are highlighted in green and failing tests in red. </p>
 <p>When you identify a failing test, you can find out the reason it failed by examining each test block in the test. Test blocks are listed between the <samp class="codeph">START_TESTCASE</samp> and <samp class="codeph">END_TESTCASE</samp> tags. In a test block that passes, these tags are green and <samp class="codeph">Result = PASS</samp> appears after the <samp class="codeph">END_TEST_BLOCK</samp>. A failing test block is in red or blue (depending on the reason of failure) and the <samp class="codeph">END_TEST_BLOCK</samp> is followed by <samp class="codeph">Result = FAIL</samp> and the reason for the failure (such as <samp class="codeph">ABORT</samp> in case of a timeout, <samp class="codeph">PANIC</samp> followed by a panic string and code). </p>
 <p>If the reason of a failure is not displayed after the <samp class="codeph">END_TEST_BLOCK</samp> it can be seen within instructions contained by the test block and in logs printed in black within the test block. Failed instructions are displayed in red and end with <samp class="codeph">Result = FAIL</samp>. </p>
 <p>When the test suite is run on a real device, some of the tests may fail due to limitations of the device. This is because of the device lacking a hardware feature or software plug-in required to run the test. This can be spotted if the log displays that a test has failed with <samp class="codeph">a -5
          </samp> (<samp class="codeph">KerrNotSupported</samp>) error. This error means that the test has failed because the functionality in this test is not supported on the device used. It is important that you check that this functionality is supported by the device prior to raising any defects. These kinds of tests are excluded in the test suite by using TCS files. For more information, see the TCS file located in <span class="filepath">TestData</span> directory. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-12D98D9F-EBA2-5375-92D7-0D11FD162F3A.html">Screen Driver HAI Tests Component</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-6C1CE0B7-4DA5-5F33-BCA5-6E74B645DA31.html">Screen Driver Test Suite</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>