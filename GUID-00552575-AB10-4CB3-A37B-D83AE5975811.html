<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="HTTP session ID"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F411736E-09FE-4F46-8185-DF013E950069.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-EA9C4CF0-F39B-4FBB-924D-F78320E08F2C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CDF9F944-814E-47EF-A6B5-E75300C228DD.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-00552575-AB10-4CB3-A37B-D83AE5975811"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>HTTP session ID</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-00552575-AB10-4CB3-A37B-D83AE5975811"><a name="GUID-00552575-AB10-4CB3-A37B-D83AE5975811"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387372 id2387380 id2387389 id2387421 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html">High Level Internet Protocols Guide</a> &gt; <a href="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html">Application Layer Protocols</a> &gt; <a href="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html">Using HTTP Client</a> &gt; <a href="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html">Session Properties</a> &gt; </div>
<h1 class="topictitle1">HTTP
session ID</h1>
<div>
<p>HTTP session ID is an optional non-negative integer which is attached to
the session and any sockets it creates. The session ID is set on sockets by
using <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0__GUID-0DD7A667-7043-3D6B-A086-32DD222C199B"><span class="apiname">RSocket::SetOpt()</span></a>. </p>

<p>With this session ID, clients can specify an integer ID for an HTTP session,
which is assigned to subsequent sockets. An ID that is set applies to subsequent
socket connections. </p>

<p>HTTP session ID can be accessed using a Flow hook implementing the <samp class="codeph">SetFlowOption()</samp> method,
which is called whenever <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0__GUID-0DD7A667-7043-3D6B-A086-32DD222C199B"><span class="apiname">RSocket::SetOpt()</span></a> is called. The
Flow hook helps determine if a socket came from a specific session. </p>

<p>The session ID is set when the socket is created and is not changed. To
find the session ID of a socket, the flow object must look for Set Option
commands that request setting session ID. The ID that is set can be saved
in the Flow hook object, and used later when needed. This can be done using
an <samp class="codeph">iSessionId</samp> variable to hold the value, as shown in the
following example: </p>

<pre class="codeblock" id="GUID-00552575-AB10-4CB3-A37B-D83AE5975811__GUID-11827E76-ECD4-52E7-89B0-0152A4CF5A47"><a name="GUID-00552575-AB10-4CB3-A37B-D83AE5975811__GUID-11827E76-ECD4-52E7-89B0-0152A4CF5A47"><!-- --></a>#include &lt;HTTPSocketConstants.h&gt; // option consts defined here.... 
class CMip4Protocol : public CIp6Hook 
{ 
public: 
... 
virtual TInt SetFlowOption(TUint aLevel, TUint aName, const TDesC8 &amp;aOption, CFlowContext &amp;aFlow); 
private: 
...
TInt iSessionId; // session ID is stored here. Should be initialized to KErrNotFound
};</pre>

<p>The HTTP session ID, <samp class="codeph">HTTP::ESessionId</samp>, when set, is accessed
using the sessionâ€™s connection info object. For example: </p>

<pre class="codeblock" id="GUID-00552575-AB10-4CB3-A37B-D83AE5975811__GUID-E46A1152-E4CC-5FFE-8686-68605C6D4909"><a name="GUID-00552575-AB10-4CB3-A37B-D83AE5975811__GUID-E46A1152-E4CC-5FFE-8686-68605C6D4909"><!-- --></a>RHTTPSession session;
...
RHTTPConnectionInfo ConnectionInfo = session.ConnectionInfo();
</pre>

<p>To access the value, <samp class="codeph">RString</samp> must first be extracted from
the string pool. For example: </p>

<pre class="codeblock" id="GUID-00552575-AB10-4CB3-A37B-D83AE5975811__GUID-C833CEEC-A8E8-5687-8F47-C1836FCD0933"><a name="GUID-00552575-AB10-4CB3-A37B-D83AE5975811__GUID-C833CEEC-A8E8-5687-8F47-C1836FCD0933"><!-- --></a>RStringF sessionId = session.StringPool().StringF(HTTP::ESessionId, RHTTPSession::GetTable());
sessionId.Close();</pre>

</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="GUID-F411736E-09FE-4F46-8185-DF013E950069.html">Setting HTTP session ID</a></strong><br/>
</li>
<li class="ulchildlink"><strong><a href="GUID-EA9C4CF0-F39B-4FBB-924D-F78320E08F2C.html">Getting HTTP session ID</a></strong><br/>
</li>
<li class="ulchildlink"><strong><a href="GUID-CDF9F944-814E-47EF-A6B5-E75300C228DD.html">Removing HTTP session ID</a></strong><br/>
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html">Session Properties</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>