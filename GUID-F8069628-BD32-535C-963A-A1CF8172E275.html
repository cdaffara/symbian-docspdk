<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="What are CF Protocols, Binders, and Flows"/>
<meta name="abstract" content="This topic describes the concepts of Communications Framework (CF) Protocols,Binders and Flows in the Communications Framework."/>
<meta name="description" content="This topic describes the concepts of Communications Framework (CF) Protocols,Binders and Flows in the Communications Framework."/>
<meta name="DC.Relation" scheme="URI" content="GUID-8905A627-1D13-5066-ABC4-7E0AF07D96A5.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8905A627-1D13-5066-ABC4-7E0AF07D96A5.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-01029B52-55E0-5598-994F-BB5DE73D37EE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F43A54C0-E82B-5790-8493-1372D214C642.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E3E4E9A1-359E-5475-A355-1DA446FE7170.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-F8069628-BD32-535C-963A-A1CF8172E275"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>What are CF Protocols, Binders, and Flows</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-F8069628-BD32-535C-963A-A1CF8172E275"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2682451 id2682467 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" title="The Communications Framework is the base for all communications, network and telephony services that Symbian platform provides. The Communications Framework manages the communications threads and the flow of information between those threads. The Framework also manages and stores the communications related settings.">Communications Framework Guide</a> &gt; <a href="GUID-8905A627-1D13-5066-ABC4-7E0AF07D96A5.html" title="This section describes the key ideas in the Communications Framework.">Concepts</a> &gt; </div>
<h1 class="topictitle1">What are CF Protocols, Binders, and Flows</h1>
<div><p>This topic describes the concepts of <em>Communications Framework (CF) Protocols</em>,<em>Binders</em> and <em>Flows</em> in the Communications Framework. </p>
<p>In the Communications Architecture each Layer requires the participation of several communications components; namely the Tier Manager, MCPR, CPR, SCPR and the components. The name given to the Data Flow components is a <strong>Communications Framework Protocol</strong> (CF Protocol). </p>
 <div class="fignone" id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-293BE7D5-9C9D-5A17-9C61-5FA19B06490C"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-293BE7D5-9C9D-5A17-9C61-5FA19B06490C"><!-- --></a><span class="figcap">Figure 1. 
          Figure 1 - A CF Protocol in the Layered Comms Stack 
        </span> <img src="GUID-9FB82D95-F110-5D42-B39E-BCFAE574E18F_d0e107914_href.png"/></div>
 <p>A CF Protocol is a collection of components on the Data Plane, most importantly the Flow and the Binder(s). The Flow is a Node and communicates with the SCPR that caused it to be started, using the asynchronous Message Transport mechanism. Each Flow has one or more Binders which connect the Flow to the layer above. </p>
 <div class="section"><h2 class="sectiontitle">CF Protocol components</h2> <div class="fignone" id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-171654F9-312C-547C-A886-E16A9DB21040"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-171654F9-312C-547C-A886-E16A9DB21040"><!-- --></a><span class="figcap">Figure 2. 
             Components of a CF Protocol 
          </span> <img src="GUID-E63899B3-8EA8-5EF7-982E-EC161B3A4794_d0e107927_href.png"/></div>
 <p>A CF Protocol is constructed of two main components: </p>
 <ul><li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-B9E64AE4-CC30-5085-82D1-938C397A4FD3"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-B9E64AE4-CC30-5085-82D1-938C397A4FD3"><!-- --></a><p> <strong>Flow</strong> - a single conversation with a remote peer. There can be multiple Flows in a CF Protocol to handle multiple concurrent conversations through the same instance of the CF Protocol. </p>
 </li>
 <li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-6A394EF2-EFD4-5885-BE40-A62784A85E2B"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-6A394EF2-EFD4-5885-BE40-A62784A85E2B"><!-- --></a><p> <strong>Binder</strong> - A Binder handles the interface between the current Flow and the Layer above. A Binder connects two CF Protocols together so that they can communicate data and sometimes commands. A Flow can have more than one Binder if it needs to connect to more than one Flow in the Layer above. </p>
 <p>A <strong>Protocol Binder</strong> is the binding point for de-multiplexed incoming data but provides no flow control, data will be lost if the layer above is not ready to process it. </p>
 <p>A <strong>Session Binder</strong> handles flow control by contacting the Layer above to say data is available, and waits for the CF Protocol of the Layer above to request the data. </p>
 </li>
 </ul>
 </div>
 <div class="section" id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-832AD765-692C-56BE-92AC-AF8AEFB69413"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-832AD765-692C-56BE-92AC-AF8AEFB69413"><!-- --></a><h2 class="sectiontitle">Flow</h2> <p>A Flow is an instance of a class which represents a single conversation with a remote peer. </p>
 <p>There may be many active Flows in a CF Protocol to represent many concurrent conversations through the same instance of the CF Protocol. </p>
 <p>A Flow is a Stack Node created and controlled by one SCPR. </p>
 <p>Configuration data for the Flow is provisioned directly by the SCPR and usually originates from the MCPR. </p>
 <p>Since a Flow handles message exchange with the corresponding SCPR asynchronously, a Flow is always a state machine. State transitions are mostly triggered by exchange of different message types with the remote peer. State transitions may also be triggered by other mechanisms, such as timeouts, that require active objects within the Flow. A Flow is created by a Factory. </p>
 <p>The Flow can de-multiplex the inbound, though it is up to the specific Flow to have appropriate code to do the de-multiplexing. De-multiplexing could be performed based on address information, port information, protocol specific session, source identifier or other data. De-multiplexing passes data to specific Flows, via individual Protocol Binders, to higher level CF Protocols which can also de-multiplex the data further. If there is no de-multiplexing then the layer above does not have to bind a protocol interface as a data receiver. An example would be an IP Flow, which may contain IPv4 and IPv6 packets and would have separate Protocl Binders for each version. </p>
 <p>Each Flow must serve the following messages: </p>
 <ul><li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-CF546C5F-B597-528B-8A7D-3D9AB804291F"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-CF546C5F-B597-528B-8A7D-3D9AB804291F"><!-- --></a><p> <a href="GUID-413B79AB-EFA4-3C29-842B-F4DFE2C5A87D.html"><span class="apiname">TBindTo</span></a> - tells the Flow which lower Flow to bind to </p>
 </li>
 <li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-31FDA6FA-251D-5E98-A194-E134EF953311"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-31FDA6FA-251D-5E98-A194-E134EF953311"><!-- --></a><p> <a href="GUID-F2EEF015-3165-32D6-B98C-E77B2BDFDCDF.html"><span class="apiname">TProvisionConfig</span></a> - carries a configuration object </p>
 </li>
 <li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-B4D38D5B-5537-5882-A7D0-F5A1AEC9E34C"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-B4D38D5B-5537-5882-A7D0-F5A1AEC9E34C"><!-- --></a><p> <a href="GUID-2257D314-72A9-3A2A-9E79-4BCED7AC1045.html"><span class="apiname">TStartFlow</span></a> - starts the Flow </p>
 </li>
 <li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-3DB58B6B-32E0-5B0A-B8D1-3D6B6CDF41A0"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-3DB58B6B-32E0-5B0A-B8D1-3D6B6CDF41A0"><!-- --></a><p> <a href="GUID-74EDDB44-5E1B-34CF-9678-C7C8811C7D58.html"><span class="apiname">TStopFlow</span></a> - stops the Flow </p>
 </li>
 <li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-1BAC8A9D-94D6-5E96-BEAE-0EC97537EA16"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-1BAC8A9D-94D6-5E96-BEAE-0EC97537EA16"><!-- --></a><p> <a href="GUID-9E005556-76E5-306B-982C-B2C2BC268EB8.html"><span class="apiname">TDestroy</span></a> - instructs the Flow to delete itself </p>
 </li>
 <li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-DF01A012-4D45-5670-A62A-91ADA3303A10"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-DF01A012-4D45-5670-A62A-91ADA3303A10"><!-- --></a><p> <a href="GUID-B61247EA-48AE-301B-8089-0B5E67B5E04C.html"><span class="apiname">TStateChange</span></a> - the Flow should send this whenever it wants to inform the control side of its state change </p>
 </li>
 </ul>
 </div>
 <div class="section" id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-B09A95DB-93A8-5D36-BB95-40DA8766E3A0"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-B09A95DB-93A8-5D36-BB95-40DA8766E3A0"><!-- --></a><h2 class="sectiontitle">Binder</h2> <p>The Binder is split into two parts: </p>
 <ul><li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-261D54B9-E404-5282-A322-A98EC5693DCF"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-261D54B9-E404-5282-A322-A98EC5693DCF"><!-- --></a><p> <em>Binder Control</em> - used by the upper layer to set up the binding with the lower layer. </p>
 </li>
 <li id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-5D596068-F8A6-564C-A084-82FAB47B2035"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-5D596068-F8A6-564C-A084-82FAB47B2035"><!-- --></a><p> <em>Binder</em> - the actual binding between two Layers so that data can be sent and received. Again there are two types of Binder, Protocol Binder and Session Binder. It is common for a particular CF Protocol to only support one kind of Binder, Session or Protocol. </p>
 </li>
 </ul>
 <p>There will be CF Protocols where it will be a good design to have a Protocol Binder for data, and to use a Session Binder for control messages. These will usually be separate Flows. </p>
 <p id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-C16F3524-AFFE-5E0B-82A7-8EC9B12BA660"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-C16F3524-AFFE-5E0B-82A7-8EC9B12BA660"><!-- --></a><strong>Protocol Binder</strong> </p>
 <p>A Protocol Binder is used by the Flow as the link to the next higher CF Protocol for inbound data. </p>
 <p>A Protocol Binder only communicates with the Flow and should never communicate with an SCPR. Any design that would require the Protocol Binder to communicate with the SCPR should be redesigned. </p>
 <p>Protocol Binders are most commonly used for lower-level protocols (nearer the hardware) rather than the higher-level Link layer protocols. </p>
 <p id="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-E6B2C4D3-BE14-53DC-8616-5D3BC2B14686"><a name="GUID-F8069628-BD32-535C-963A-A1CF8172E275__GUID-E6B2C4D3-BE14-53DC-8616-5D3BC2B14686"><!-- --></a><strong>Session Binder</strong> </p>
 <p> A Session Binder offers much richer functionality than a Protocol Binder as it is mostly used by higher level protocols (closer to application space) that are more complex than the lower level ones (closer to hardware). A Session Binder operates independently of the protocol of the next Layer above with which it connects, as opposed to the Protocol Binder which is specific for a particular protocol in the Layer above. A Session Binder may offer functionality that is supported by only some of the protocols using that binder. For example a Session Binder may provide flow control on the data, while a Protocol Binder will pass the data upwards immediately and if the Layer above is not able to accept the data it will be discarded. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-8905A627-1D13-5066-ABC4-7E0AF07D96A5.html" title="This section describes the key ideas in the Communications Framework.">Concepts</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-01029B52-55E0-5598-994F-BB5DE73D37EE.html" title="This topic describes the concept of a Layer in the Communications Framework.">Layers</a></div>
<div><a href="GUID-F43A54C0-E82B-5790-8493-1372D214C642.html" title="This topic describes the concept of a Plane in the Communications Framework.">Planes</a></div>
<div><a href="GUID-E3E4E9A1-359E-5475-A355-1DA446FE7170.html" title="This section describes the concept of Nodes in Symbian platform and in the Communications Framework.">Nodes</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>