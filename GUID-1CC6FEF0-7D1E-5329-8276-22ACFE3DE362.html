<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Subsessions within a session"/>
<meta name="abstract" content="Describes subsessions within a session."/>
<meta name="description" content="Describes subsessions within a session."/>
<meta name="DC.Relation" scheme="URI" content="GUID-6047DB3F-DC92-51DF-9EEB-00E79E890B54.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3786D8E6-17A9-52E4-A8DF-CFCDC3039854.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6047DB3F-DC92-51DF-9EEB-00E79E890B54.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Subsessions within a session</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362"><a name="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2392072 id2392081 id2393224 id2393504 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">User Library and File Server</a> &gt; <a href="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" title="The User Library allows the applications and services that run on a phone to access the functionality provided by the Symbian platform Kernel.">User Library</a> &gt; <a href="GUID-3786D8E6-17A9-52E4-A8DF-CFCDC3039854.html">Inter Process Communication</a> &gt; <a href="GUID-6047DB3F-DC92-51DF-9EEB-00E79E890B54.html">Using Client-Server</a> &gt; </div>
<h1 class="topictitle1">Subsessions
within a session</h1>
<div><p>Describes subsessions within a session.</p>

<p>Once a client has established a session with a server, it can then establish
a number of subsessions with that server. Each subsession represents an independent
channel of communication within the current session. </p>

<p>Subsessions are useful if a single client needs to establish many channels
of communication with the server. This is because subsessions have a much
lower overhead than a full session. The main cost of a subsession is slightly
increased programming complexity on the server side. </p>

<p>The main points are: </p>

<ul>
<li id="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-66581D72-861A-5F70-B3F3-348C31615EA5"><a name="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-66581D72-861A-5F70-B3F3-348C31615EA5"><!-- --></a><p>the client has an <a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html"><span class="apiname">RSubSessionBase</span></a> handle
to the subsession </p>
 </li>

<li id="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-7EEEB011-CB41-5E20-BF91-C6D01B4F71EE"><a name="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-7EEEB011-CB41-5E20-BF91-C6D01B4F71EE"><!-- --></a><p>the server uses a <a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html"><span class="apiname">CObject</span></a> derived
class to represent the subsession. </p>
 </li>

</ul>

<p>As a subsession is always referenced by a handle on the client side, the
corresponding subsession object on the server side must generate a handle. </p>

<p>For ordinary sessions, the generation of handles is done by the server
framework. </p>

<p>For subsessions, server side code must be explicitly written to do this.
The <samp class="codeph">CObject</samp> class and its associated container (<samp class="codeph">CObjectCon</samp>)
and index (<samp class="codeph">CObjectIx</samp>) classes provide the behaviour to achieve
this. </p>

<div class="section" id="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-4F58EC0B-5AC3-4961-B04F-2CE64185ECEF"><a name="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-4F58EC0B-5AC3-4961-B04F-2CE64185ECEF"><!-- --></a><h2 class="sectiontitle">Server side requirements</h2> <p>Each subsession is represented
by an instance of a <samp class="codeph">CObject</samp> derived class. </p>
 <p>Subsession
objects must be held in an object container, an instance of <samp class="codeph">CObjectCon</samp>.
This means that the server 's <samp class="codeph">CServer2</samp> derived class must
construct and maintain a <samp class="codeph">CObjectCon</samp> object. </p>
 <p>Object
containers are constructed by and held in an object container index, an instance
of a <samp class="codeph">CObjectConIx</samp>. This means that the server 's <samp class="codeph">CServer2</samp> derived
class must construct and maintain a <samp class="codeph">CObjectConIx</samp> object. </p>
 <p>A
unique handle number for a subsession object is generated when the subsession
object is added to an object index, an instance of a <samp class="codeph">CObjectIx</samp>.
This means that the server's <samp class="codeph">CServer2</samp> derived class must
construct and maintain a <samp class="codeph">CObjectIx</samp> object. </p>
 <p>The handle
number is a combination of a unique id assigned to the object's container
and a number generated by the object index. </p>
 <div class="fignone" id="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-14035881-8AD5-50B5-A285-5DD2D7E68FDA"><a name="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-14035881-8AD5-50B5-A285-5DD2D7E68FDA"><!-- --></a>
<img src="GUID-A10EAF58-6B9F-55A5-B3E4-3D4B91A93C41_d0e342734_href.png"/>
<p>Subsession within a session</p>

</div>
 </div>

<div class="section" id="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-93D80DDA-8E2E-462F-8A67-0982B456A8A6"><a name="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-93D80DDA-8E2E-462F-8A67-0982B456A8A6"><!-- --></a><h2 class="sectiontitle">Note</h2> <ul>
<li id="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-49B41D98-027F-534F-86D7-3774CAC884F9"><a name="GUID-1CC6FEF0-7D1E-5329-8276-22ACFE3DE362__GUID-49B41D98-027F-534F-86D7-3774CAC884F9"><!-- --></a><p>Depending on the purpose
of the server, more than one object container (a <samp class="codeph">CObjectCon</samp>)
and more than one object index (a <samp class="codeph">CObjectIx</samp>) may be used.
However, the server must have <em>one and only one</em> object container index
(a <samp class="codeph">CObjectConIx</samp>) from which all object containers are generated. </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-6047DB3F-DC92-51DF-9EEB-00E79E890B54.html">Using Client-Server</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>