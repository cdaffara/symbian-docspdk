<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RFormat"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1"/>

<title>RFormat</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1"><a name="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2557087 id2568025 id2568115 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">RFormat Class Reference</h1>
	<table class="signature"><tr><td>class RFormat : public RSubSessionBase</td></tr></table><div class="section"><div>
			<p>Formats a device, one step at a time.</p>

			<p>
				<a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1">RFormat</a> must first be opened on a device before formatting each track using <a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-84B165C7-4D23-3405-97A9-C087845E7AD5">Next()</a>.</p>

			<p>There is also an asynchronous version of <a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-84B165C7-4D23-3405-97A9-C087845E7AD5">Next()</a> which, if encapsulated into a suitable active object, can be used to implement a user-interruptible formatting process. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RFormat<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-047231E4-33D4-3B7A-8454-B4352F737D06">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-84B165C7-4D23-3405-97A9-C087845E7AD5">Next</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B4537565-050C-3750-AF21-136757BD385F">Next</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-169E3B63-BCF3-3B42-9467-AAE945F302D6">Open</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F349CD6A-3D8E-3E51-A078-26333C7B3865">Open</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CloseSubSession(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateAutoCloseSubSession(RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::RSubSessionBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Session()const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SubSessionHandle()const</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-047231E4-33D4-3B7A-8454-B4352F737D06"><a name="GUID-047231E4-33D4-3B7A-8454-B4352F737D06"><!-- --></a>
		<h2 class="topictitle2">Close()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Closes the Format subsession.</p>

				<p>Any open files are closed when the file server session is closed.</p>

				<p>
					<a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-047231E4-33D4-3B7A-8454-B4352F737D06">Close()</a> is guaranteed to return, and provides no indication whether it completed successfully or not. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-84B165C7-4D23-3405-97A9-C087845E7AD5"><a name="GUID-84B165C7-4D23-3405-97A9-C087845E7AD5"><!-- --></a>
		<h2 class="topictitle2">Next(TInt &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Next</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td>aStep</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Executes the next format step.</p>

				<p>This is a synchronous function, which returns when the formatting step is complete.</p>

				<div class="p">
					<a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-169E3B63-BCF3-3B42-9467-AAE945F302D6">RFormat::Open</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DiskAdmin </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp; aStep</td><td>The step number. On return, it is decremented to indicate what stage the formatting has reached. Before the first call to this function, this value is seeded with the number of tracks remaining to be formatted as returned by RFormat::Open(). The function should be called repeatedly until aStep reaches zero. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B4537565-050C-3750-AF21-136757BD385F"><a name="GUID-B4537565-050C-3750-AF21-136757BD385F"><!-- --></a>
		<h2 class="topictitle2">Next(TPckgBuf&lt; TInt &gt; &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Next</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aStep,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Executes the next format step.</p>

				<p>This is an asynchronous function.</p>

				<div class="p">
					<a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-169E3B63-BCF3-3B42-9467-AAE945F302D6">RFormat::Open</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DiskAdmin </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aStep</td><td>The step number. On return, it is decremented to indicate what stage the formatting has reached. Before the first call to this function, this value is seeded with the number of tracks remaining to be formatted as returned by RFormat::Open(). The function should be called repeatedly until aStep reaches zero. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The request status. On request completion, contains a completion code: KErrNone, if successful, otherwise one of the other system-wide error codes. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-169E3B63-BCF3-3B42-9467-AAE945F302D6"><a name="GUID-169E3B63-BCF3-3B42-9467-AAE945F302D6"><!-- --></a>
		<h2 class="topictitle2">Open(RFs &amp;, const TDesC &amp;, TUint, TInt &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aFormatMode,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td>aCount</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Opens a device for formatting.</p>

				<p>The device may be formatted either at high or low density.</p>

				<p>Devices which support read-only media may not be formatted. This includes the ROM on drive Z:. All files on the drive must be closed otherwise an error is returned.</p>

				<div class="p">
					<a href="GUID-A7B23187-9113-3690-8BEE-5DD5CE4E113A.html#GUID-DB2BF23C-875F-3200-A6A5-D999738324FB">TFormatMode</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DiskAdmin </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td>The file server session. Must be connected.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aName</td><td>The drive to be formatted, specified as a drive letter followed by a colon.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aFormatMode</td><td>The format mode. See TFormatMode.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp; aCount</td><td>On successful return, contains the number of tracks which remain to be formatted. This value is passed to the first iteration of Next(), which then decrements the value on this and subsequent calls to Next(). </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F349CD6A-3D8E-3E51-A078-26333C7B3865"><a name="GUID-F349CD6A-3D8E-3E51-A078-26333C7B3865"><!-- --></a>
		<h2 class="topictitle2">Open(RFs &amp;, const TDesC &amp;, TUint, TInt &amp;, const TDesC8 &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aFormatMode,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td>aCount,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>anInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Opens a device for formatting. <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> can specify new format parameters by anInfo.</p>

				<p>The device may be formatted either at high or low density.</p>

				<p>Devices which support read-only media may not be formatted. This includes the ROM on drive Z:. All files on the drive must be closed otherwise an error is returned.</p>

				<div class="p">
					<a href="GUID-A7B23187-9113-3690-8BEE-5DD5CE4E113A.html#GUID-DB2BF23C-875F-3200-A6A5-D999738324FB">TFormatMode</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DiskAdmin </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td>The file server session. Must be connected.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aName</td><td>The drive to be formatted, specified as a drive letter followed by a colon.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aFormatMode</td><td>The format mode. See TFormatMode.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp; aCount</td><td>On successful return, contains the number of tracks which remain to be formatted. This value is passed to the first iteration of Next(), which then decrements the value on this and subsequent calls to Next().  </td></tr><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; anInfo</td><td>Special format information specified by user. </td></tr></table></div>

	</div>

	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>