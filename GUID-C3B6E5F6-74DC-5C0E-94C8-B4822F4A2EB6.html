<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Power API Tutorial"/>
<meta name="abstract" content="This tutorial explains how to use the Power API of the HWRM."/>
<meta name="description" content="This tutorial explains how to use the Power API of the HWRM."/>
<meta name="DC.Relation" scheme="URI" content="GUID-2E3BE23C-B9DC-5B5D-A56A-1DB819EFC9A6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-047E3462-F806-4C54-9DC5-6B78907CA949.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BC627588-E8C7-4DDB-8313-7C57E0CCD93B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7CF7D29B-14A4-432E-BBB2-E3AF283E45E3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FC7F8CFE-F9AD-4442-9289-CCEFEC62DF68.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6A0D353D-A9B0-46EA-8FDC-1FBBD4A20CFB.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F8C8CE42-E7C9-5AFC-86BC-B78F677F1B05.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DC011D9C-6C39-5BB9-A7CC-4447AB97A2D2.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F2289115-B1F0-595D-AA1C-3E01F08911CA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2E3BE23C-B9DC-5B5D-A56A-1DB819EFC9A6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E55DD3C-D699-5062-88C1-C826F06CD48C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Power API Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2519078 id2519154 id2519169 id2519236 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-F8C8CE42-E7C9-5AFC-86BC-B78F677F1B05.html" title="Device Services provides device specific services to control phone resources and establish remote controlled connection with the external devices. It also monitors the phone resources and provides stage shutdown mechanism.">Device Services Guide</a> &gt; <a href="GUID-DC011D9C-6C39-5BB9-A7CC-4447AB97A2D2.html" title="Resource Management collection provides a number of components for high level access to phone resources, including power, light and vibration.">Resource Management</a> &gt; <a href="GUID-F2289115-B1F0-595D-AA1C-3E01F08911CA.html" title="This section describes Hardware Resource Manager (HWRM). HWRM manages aspects of device hardware such as light, power and vibration. It also provides APIs to control these hardware elements, and to get the status of these hardware elements.">Hardware Resource Manager</a> &gt; <a href="GUID-2E3BE23C-B9DC-5B5D-A56A-1DB819EFC9A6.html" title="This section lists the tutorials which explains how to control device lights and vibra, retrieve device battery and status information, and publish certain power-state properties.">Hardware Resource Manager Tutorials</a> &gt; </div>
<h1 class="topictitle1">Power
API Tutorial </h1>
<div><p>This tutorial explains how to use the Power API of the HWRM. </p>

<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>Power API methods can be used by constructing
an instance of <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">CHWRMPower</span></a> and calling
its functions. However, to use its full functionality write a class which
implements one or more of the observer interfaces described in the following
table. Then, construct an instance of <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">CHWRMPower</span></a> and
provide it with pointers to observers. </p>
 
<div class="tablenoborder"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-CC645CB8-B78E-5624-B669-31B5A08F77C2"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-CC645CB8-B78E-5624-B669-31B5A08F77C2" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d1758644e41">Interface</th>

<th class="cellrowborder" valign="top" id="d1758644e44">Notification</th>

<th class="cellrowborder" valign="top" id="d1758644e47">Method to override</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d1758644e41 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">MHWRMBatteryPowerObserver</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e44 "><p>Average battery voltage and current consumption </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e47 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">PowerMeasurement</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1758644e41 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">MHWRMBatteryChargingStatusObserver</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e44 "><p>Charging status </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e47 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">ChargingStatusChange</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1758644e41 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">MHWRMBatteryChargingCurrentObserver</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e44 "><p>Average charging current </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e47 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">AverageChargingCurrentChange</span></a>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1758644e41 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">MHWRMBatteryFullChargingTimeObserver</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e44 "><p>Remaining charging time </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1758644e47 "><p> <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">BatteryFullChargingTimeChange</span></a>  </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p>For example, if the application requires periodic measurements
of average battery voltage and current consumption, it must implement <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">MHWRMBatteryPowerObserver</span></a> and instantiate a <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">CHWRMPower</span></a> object using the <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">CHWRMPower::NewL(NULL,
MHWRMBatteryPowerObserver *)</span></a> method. </p>
 <p> <strong>Note:</strong> The battery
charging observers cannot be passed to <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">CHWRMPower</span></a> using
a <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">NewL()</span></a> function. Call the dedicated
function, <a href="GUID-4A98138C-4C68-3399-80E8-25CB41E43D5C.html"><span class="apiname">CHRMPower::SetBatteryChargingObserver()</span></a>. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Procedure</h2> <a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-8FD35358-CFCD-5010-AFD8-C277463B2970"><!-- --></a><ol id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-8FD35358-CFCD-5010-AFD8-C277463B2970">
<li id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-E7A8616C-DA3A-5CC7-831F-3BA977F7C129-GENID-1-12-1-11-1-1-5-1-4-1-5-1-8-1-3-2-2-1"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-E7A8616C-DA3A-5CC7-831F-3BA977F7C129-GENID-1-12-1-11-1-1-5-1-4-1-5-1-8-1-3-2-2-1"><!-- --></a><p><a href="GUID-047E3462-F806-4C54-9DC5-6B78907CA949.html">Derive
a class from one or more of the above interfaces</a>. </p>
 </li>

<li id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-E7A8616C-DA3A-5CC7-831F-3BA977F7C129-GENID-1-12-1-11-1-1-5-1-4-1-5-1-8-1-3-2-2-2"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-E7A8616C-DA3A-5CC7-831F-3BA977F7C129-GENID-1-12-1-11-1-1-5-1-4-1-5-1-8-1-3-2-2-2"><!-- --></a><p><a href="GUID-047E3462-F806-4C54-9DC5-6B78907CA949.html">Implement
the appropriate observer functions.</a></p>
 </li>

<li id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-6DF35505-CA49-56AB-94E2-4291E2DFF232"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-6DF35505-CA49-56AB-94E2-4291E2DFF232"><!-- --></a><p><a href="GUID-BC627588-E8C7-4DDB-8313-7C57E0CCD93B.html">Create
a power client using <span class="apiname">CHWRMPower::NewL()</span> or <span class="apiname">NewLC()</span>.</a> </p>
<p><a href="GUID-7CF7D29B-14A4-432E-BBB2-E3AF283E45E3.html">You
can retrieve the battery voltage or consumption information.</a></p>
 </li>

<li id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-300E10F0-5414-55CB-8D9C-2B78E3782C34"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-300E10F0-5414-55CB-8D9C-2B78E3782C34"><!-- --></a><p><a href="GUID-6CF00375-0A3E-4B85-9BA3-307BBB4ECFC7.html">Call <span class="apiname">CHRMPower::SetBatteryChargingObserver()</span>, if
necessary.</a></p>
 </li>

<li id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-76E7EFB8-0464-5887-B144-1ACDFDE1D7F6"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-76E7EFB8-0464-5887-B144-1ACDFDE1D7F6"><!-- --></a><p><a href="GUID-FC7F8CFE-F9AD-4442-9289-CCEFEC62DF68.html">Start
receiving notification using the appropriate start function(s).</a> </p>
 </li>

<li id="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-209732A3-E374-54D2-87F7-5C3C45A23E85"><a name="GUID-C3B6E5F6-74DC-5C0E-94C8-B4822F4A2EB6__GUID-209732A3-E374-54D2-87F7-5C3C45A23E85"><!-- --></a><p><a href="GUID-6A0D353D-A9B0-46EA-8FDC-1FBBD4A20CFB.html">Stop
receiving notification using the appropriate stop function(s).</a></p>
 </li>

</ol>
 <p> <strong>Note: </strong> If the notification period exceeds the maximum reporting
period, set when the HWRM server starts, notification is cancelled. </p>
 </div>

</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="GUID-047E3462-F806-4C54-9DC5-6B78907CA949.html">Derive a class and implement the appropriate observer functions</a></strong><br/>
</li>
<li class="ulchildlink"><strong><a href="GUID-BC627588-E8C7-4DDB-8313-7C57E0CCD93B.html">Create a power client power session</a></strong><br/>
</li>
<li class="ulchildlink"><strong><a href="GUID-7CF7D29B-14A4-432E-BBB2-E3AF283E45E3.html">Get battery voltage or consumption information</a></strong><br/>
</li>
<li class="ulchildlink"><strong><a href="GUID-FC7F8CFE-F9AD-4442-9289-CCEFEC62DF68.html">Start receiving notification</a></strong><br/>
</li>
<li class="ulchildlink"><strong><a href="GUID-6A0D353D-A9B0-46EA-8FDC-1FBBD4A20CFB.html">Stop receiving notification</a></strong><br/>
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-2E3BE23C-B9DC-5B5D-A56A-1DB819EFC9A6.html" title="This section lists the tutorials which explains how to control device lights and vibra, retrieve device battery and status information, and publish certain power-state properties.">Hardware Resource Manager Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-1E55DD3C-D699-5062-88C1-C826F06CD48C.html" title="Power API is a library API and provides the ability to request the detailed information of the following:">Power API</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>