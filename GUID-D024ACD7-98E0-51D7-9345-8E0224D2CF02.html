<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Overriding the SMTP Mobility Account Settings"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A602A5BA-6C1F-5D8A-A6E7-50DECA1C64CC.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-4384066E-158A-5F63-A823-7793DAE680BF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8832AED4-6B9F-5B35-8211-0C6661CD6DCA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A602A5BA-6C1F-5D8A-A6E7-50DECA1C64CC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Overriding the SMTP Mobility Account Settings</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2403778 id2403944 id2404085 id2404202 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1A43A45B-80AE-56A0-A94C-64BA75519C67.html">Messaging Application Guide</a> &gt; <a href="GUID-4384066E-158A-5F63-A823-7793DAE680BF.html">Email</a> &gt; <a href="GUID-8832AED4-6B9F-5B35-8211-0C6661CD6DCA.html">Email Tutorials</a> &gt; <a href="GUID-A602A5BA-6C1F-5D8A-A6E7-50DECA1C64CC.html">SMTP Account Override Settings</a> &gt; </div>
<h1 class="topictitle1">Overriding
the SMTP Mobility Account Settings </h1>
<div>
<p>This tutorial explains how to override an SMTP mobility account setting
for per-bearer-type. </p>


<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>The <a href="GUID-72BF08A4-2724-3F42-A685-F97F68133B69.html"><span class="apiname">TSmtpMobilityAccount</span></a> and <a href="GUID-AA86050B-00E4-3EEC-9E41-32C1A4493D30.html"><span class="apiname">CImSmtpMobilitySettings</span></a> class
are used to override the SMTP mobility account settings. The <a href="GUID-72BF08A4-2724-3F42-A685-F97F68133B69.html"><span class="apiname">TSmtpMobilityAccount</span></a> class
encapsulates the name of the mobility account, and associates with a parent
SMTP account; that is, the SMTP account that is to be overridden. This is
associated with an array of IAPs for which this mobility account should be
used. Finally, the settings for the mobility account are stored, and are recoverable
as a <a href="GUID-AA86050B-00E4-3EEC-9E41-32C1A4493D30.html"><span class="apiname">CImSmtpMobilitySettings</span></a> class. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Procedure</h2><p>You can override an SMTP mobility account
setting for per-bearer-type in the following ways:</p>
<p><strong>Method 1</strong></p>
<p>Creating
an SMTP mobility account with settings to be used for specified IAPs, and
associate this with an existing SMTP account. To do this, complete the following
steps:</p>
<ol>
<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-246AF581-C062-4F78-826E-1105329FD457"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-246AF581-C062-4F78-826E-1105329FD457"><!-- --></a><p>Create an instance of theCEmailAccounts class.</p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-9E38C747-0F0F-4E17-9698-81DCC82CED19"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-9E38C747-0F0F-4E17-9698-81DCC82CED19"><!-- --></a><p>Use the <samp class="codeph">CEmailAccounts::GetSmtpAccountL()</samp> function,
to get the ID of the SMTP account for the mobility account used.</p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-1B592D5F-0157-4660-B02C-6581DFB00816"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-1B592D5F-0157-4660-B02C-6581DFB00816"><!-- --></a><p>Create an instance of the<samp class="codeph"> CImSmtpMobilitySettings</samp> class,
and populate according appropriately for the remote server settings.</p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-BB99DFD6-F2FA-4D68-B582-A3A6753CA0B0"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-BB99DFD6-F2FA-4D68-B582-A3A6753CA0B0"><!-- --></a><p>Use the <samp class="codeph">CEmailAccounts::PopulateDefaultSmtpMobilitySettingsL()</samp> function
to populate the remote server settings, for example, server name, login, port,
email address, password, SMTP authentication, and so on. </p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-95725178-F546-4D1A-BDA3-D4CF0A0FB92D"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-95725178-F546-4D1A-BDA3-D4CF0A0FB92D"><!-- --></a><p>Create an instance of the <samp class="codeph">RArrayIAP</samp> class, and populate
it with bearer access point IDs for the mobility account shall be used. </p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-F1287F2F-A405-4460-9134-CAC4CEE115F3"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-F1287F2F-A405-4460-9134-CAC4CEE115F3"><!-- --></a><p>Create a mobility account in the central repository using the following
function:</p>
<pre class="codeblock">CEmailAccounts::(const TDesC&amp;, const RArrayIAP&amp;, const TSmtpAccount&amp;, const CImSmtpMobilitySettings&amp;, TBool)</pre>
</li>

</ol>
<p><strong>Method 2</strong></p>
<p>Creating an SMTP mobility account with settings
linked to an existing SMTP account (account A) to be used for specified IAPs,
and associate this with an SMTP account (account B). To do this, complete
the following steps: </p>
<ol>
<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-B3E70737-086B-4AA4-B54D-26291230ACC3"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-B3E70737-086B-4AA4-B54D-26291230ACC3"><!-- --></a><p>Create an instance of the <samp class="codeph">CEmailAccounts</samp> class. </p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-CDE75329-5DA9-48C0-B136-0D15431B54B7"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-CDE75329-5DA9-48C0-B136-0D15431B54B7"><!-- --></a><p>Using the <samp class="codeph">CEmailAccounts::GetSmtpAccountL()</samp> function,
obtain the ID of the SMTP account to which the SMTP mobility accountâ€™s settings
are to be linked (account A). </p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-1BBABC30-0A59-4F0E-8322-31C421C4865D"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-1BBABC30-0A59-4F0E-8322-31C421C4865D"><!-- --></a><p>Use the <samp class="codeph">CEmailAccounts::GetSmtpAccountL()</samp> function,
to get the ID of the SMTP account for which the SMTP mobility account overrides
the default account settings for specified IAPs (account B).</p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-61F3E224-A98D-4AA1-9808-CE026174D56E"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-61F3E224-A98D-4AA1-9808-CE026174D56E"><!-- --></a><p>Create an instance of the <samp class="codeph">RArrayIAP</samp> class, and populate
with bearer access point IDs for the mobility account. </p>
</li>

<li id="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-20737DE1-E55B-4FD1-9ED7-A4A53B752D0B"><a name="GUID-D024ACD7-98E0-51D7-9345-8E0224D2CF02__GUID-20737DE1-E55B-4FD1-9ED7-A4A53B752D0B"><!-- --></a><p>Create the mobility account in the central repository using the following
function: </p>
<pre class="codeblock">CEmailAccounts::CreateSmtpMobilityAccountL(const TDesC&amp;, const RArrayIAP&amp;, const TSmtpAccount&amp;, const TSmtpAccount&amp; aLinkedSmtpAccount, TBool)</pre>
</li>

</ol>
</div>

<div class="section"><h2 class="sectiontitle">See also</h2> <p> <a href="GUID-24860917-0FE2-5C8F-B436-96928350996E.html">Bearer
Mobility Overview</a>  </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-A602A5BA-6C1F-5D8A-A6E7-50DECA1C64CC.html">SMTP Account Override Settings</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>