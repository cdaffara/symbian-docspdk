<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MImURITranslator"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-8D20A302-652A-307F-AEC1-6696032FA33C"/>

<title>MImURITranslator</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-8D20A302-652A-307F-AEC1-6696032FA33C"><a name="GUID-8D20A302-652A-307F-AEC1-6696032FA33C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2437142 id2415693 id2415698 id2415764 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MImURITranslator Class Reference</h1>
	<table class="signature"><tr><td>class MImURITranslator</td></tr></table><div class="section"><div>
			<p>Translates a URI in an MHTML message into a message body part file name.</p>

			<p>MHTML messages may contain multiple HTML body parts. Each of these body parts is able to reference another body part within the same multipart structure, or a body part within a parent multipart structure [RFC2110]. These references are called URI's.</p>

			<p>When an MHTML message is parsed by the message engine, the HTML body of each part is stored as a binary file. This interface provides a means of finding the file name of the body part that corresponds to a given a URI.</p>

			<p>The URI resolving process has the potential to become time consuming, therefore it is broken into two steps:</p>

			<p>Resolve asynchronously the relative URI into an absolute URI. The message body parts are recursively searched in order to find an absolute base for the relative URI [RFC2110, RFC1808].</p>

			<p>Once a relative URI has been resolved in to an absolute URI, then the message is searched for a body part that corresponds to it [RFC2110].</p>

			<p>If no matching body part can be found, then the absolute URI is returned to the caller in place of the filename. This absolute URI should be used to search for the required data externally, for example by using HTTP.</p>

			<p>
				<a href="GUID-323E701E-EA22-3CC8-AE84-C16880608D44.html#GUID-323E701E-EA22-3CC8-AE84-C16880608D44">CImEmailMessage</a>   </p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-0EFA1B51-3317-389D-8728-C0E30D4B0C7C">FindUniversalResourceIdentifierFileHandleL</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-75B6BA2C-F137-3D4E-8EEE-DC81D621DF9A">FindUniversalResourceIdentifierL</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-9B6B120E-0620-36D4-AD23-C1D41055E8F0">GetUniversalResourceIdentifierFileHandle</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC</a> *</td><td><a href="#GUID-F3F482F8-35AA-3EBC-BE29-D3A42FAE7062">GetUniversalResourceIdentifierL</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> &amp;)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-0EFA1B51-3317-389D-8728-C0E30D4B0C7C"><a name="GUID-0EFA1B51-3317-389D-8728-C0E30D4B0C7C"><!-- --></a>
		<h2 class="topictitle2">FindUniversalResourceIdentifierFileHandleL(TMsvId, const TDesC &amp;, const TDesC &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>FindUniversalResourceIdentifierFileHandleL</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a></td><td>aMessageId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aBase,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aURI,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Starts an asynchronous operation to resolve a specified URI.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> aMessageId</td><td>The ID of the body part containing the URI which is to be resolved. CImEmailMessage::FindFirstHTMLPageFileHandleL() can be used to find the aMessageId parameter for the first HTML page in a message.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aBase</td><td>The base parameter from the HTML part that contains the URI to be resolved. If there is no base parameter in the HTML, then an empty descriptor should be passed in.  </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aURI</td><td>The URI to be resolved.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous status word  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-75B6BA2C-F137-3D4E-8EEE-DC81D621DF9A"><a name="GUID-75B6BA2C-F137-3D4E-8EEE-DC81D621DF9A"><!-- --></a>
		<h2 class="topictitle2">FindUniversalResourceIdentifierL(TMsvId, const TDesC &amp;, const TDesC &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>FindUniversalResourceIdentifierL</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a></td><td>aMessageId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>rBase,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>rURI,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Starts an asynchronous operation to resolve a specified URI.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> aMessageId</td><td>The ID of the body part containing the URI which is to be resolved. CImEmailMessage::FindFirstHTMLPageL() can be used to find the aMessageId parameter for the first HTML page in a message.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; rBase</td><td>The base parameter from the HTML part that contains the URI to be resolved. If there is no base parameter in the HTML, then an empty descriptor should be passed in.  </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; rURI</td><td>The URI to be resolved.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous status word  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9B6B120E-0620-36D4-AD23-C1D41055E8F0"><a name="GUID-9B6B120E-0620-36D4-AD23-C1D41055E8F0"><!-- --></a>
		<h2 class="topictitle2">GetUniversalResourceIdentifierFileHandle(TMsvId &amp;, RFile &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>GetUniversalResourceIdentifierFileHandle</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;</td><td>aLinkedEntryId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aFile</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets the results after a search.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp; aLinkedEntryId</td><td>On return, the message ID of the linked body part, providing one is found. Note that you should keep a record of the returned message ID as it is required for resolving any URI's that may be found in the linked body part. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aFile</td><td>On return, the file handle corresponding to the URI if successful. If not successful, then this is not valid. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F3F482F8-35AA-3EBC-BE29-D3A42FAE7062"><a name="GUID-F3F482F8-35AA-3EBC-BE29-D3A42FAE7062"><!-- --></a>
		<h2 class="topictitle2">GetUniversalResourceIdentifierL(TMsvId &amp;, TBool &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC</a> *</td><td>GetUniversalResourceIdentifierL</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;</td><td>aLinkedEntryId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> &amp;</td><td>aFileFound</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets the results after a search.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp; aLinkedEntryId</td><td>On return, the message ID of the linked body part, providing one is found. Note that you should keep a record of the returned message ID as it is required for resolving any URI's that may be found in the linked body part.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> &amp; aFileFound</td><td>On return, true if a linked body part has been found. It is set to false otherwise.  </td></tr></table></div>

	</div>

	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>