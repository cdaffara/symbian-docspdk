<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CMsvStore"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE"/>

<title>CMsvStore</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE"><a name="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0;
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CMsvStore Class Reference</h1>
	<table class="signature"><tr><td>class CMsvStore : public CBase</td></tr></table><div class="section"><div>
			<p>Provides an interface over the message store that is associated with a message entry. It is similar to the dictionary store in supporting the concept of streams referenced by UID.</p>

			<p>This class is intended for use by MTM implementations. Message client applications access the store through the higher-level functions provided by Client-side and <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Interface MTMs.</p>

			<p>A <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> object is created by a <a href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49">CMsvEntry</a> object and passed to a client process. The client process then becomes responsible for deleting the <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> object. The store can be opened in two modes, read or edit, and only one <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> object can have edit access to a store.</p>

			<p>
				<a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> provides functions for general manipulation of the store, and for accessing the standard body text stream. <a href="GUID-5595F2F5-A0B6-3795-8220-7455AC1C792F.html#GUID-5595F2F5-A0B6-3795-8220-7455AC1C792F">RMsvReadStream</a> and <a href="GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D.html#GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D">RMsvWriteStream</a> must be used to access other streams.   </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMsvStore<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-4368A557-23BD-316C-B986-AC19C35D6862">~CMsvStore</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25.html">MMsvAttachmentManagerSync</a> &amp;</td><td><a href="#GUID-D0744068-57DB-38AA-9AFF-B553C0F436FA">AttachmentManagerExtensionsL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html">MMsvAttachmentManager</a> &amp;</td><td><a href="#GUID-73CE27F3-855B-3F87-AE11-4B4F2B8F8825">AttachmentManagerL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-0B893DB9-0D96-39A6-989E-EB58293EAD63">Commit</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F1D4FE2A-8BB9-3CC2-9C30-DC053848A6B5">CommitL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-10471C7E-4E28-3DB0-A601-BF586BCCFA33">CreateShareProtectedAttachmentL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4BBD989F-3977-3E5D-B4EB-EF64A5C0D44B">DeleteBodyTextL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A2C33150-75A5-3C17-832F-9710913028DF">DeleteL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D">HasBodyTextL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td><a href="#GUID-6A75DDEA-189C-3957-A110-6D4E585FFA73">InitialisePlainBodyTextForReadL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td><a href="#GUID-B5E7A218-7A46-3607-A6B3-D80E505DA02F">InitialisePlainBodyTextForWriteL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-995E1AB7-A882-303D-BC72-95E499198221">IsNullL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-37C73EAA-04A2-340E-9CBA-19065D173072">IsPresentL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3A6E8911-6100-31DD-9C1C-66754B71264B">Remove</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DF99AA0F-82D4-377F-A50F-9F6E9168FFE4">RemoveL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-9AD03EB6-79D0-371F-8C51-1ACB27F0F17B">Restore8BitBodyTextL</a>(<a href="GUID-90A3AE1D-DCB2-3E98-8BE9-C48C15964E7D.html">RFileReadStream</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8D13998D-BD12-3A66-BD75-19C61499B29D">RestoreBodyTextL</a>(<a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9BA3CE81-6261-3E2B-BDEE-16C9C5623371">RestoreBodyTextL</a>(<a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-208A9B5B-50EF-3A99-8775-49456A394569">Revert</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4EFB7F6E-E0F8-3BF2-9357-B485B21B35BB">RevertL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-EB2F949A-56CA-3465-87CA-1222AE5B604F">SizeL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-63D3EE90-0DA5-3847-AE25-1BA649E4EF6A">StoreBodyTextL</a>(const <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-C43180D2-8117-33A2-879A-A50E6226E27D">CMsvStore</a>(<a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;, <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, <a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a>, <a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td><a href="#GUID-4C7CF44B-57C4-32FE-A2D6-72ADA6435584">OpenForReadL</a>(<a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;, <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, <a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;, <a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td><a href="#GUID-CD67808A-0E69-3407-B212-045B2BC3D252">OpenForWriteL</a>(<a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;, <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, <a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;, <a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-F388C8DB-69F5-306E-8CC4-9ABC77F4CDD4">ConstructL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-588F73FC-F165-3CE7-8719-A43B0CFC2F09">Convert8BitToRichTextL</a>(<a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-25AA7EF1-E918-3C1E-909B-52BF8545A46C">GetRichTextFrom16BitL</a>(<a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-ECB8D8D5-A374-3910-986A-2D85A8AD94EA">GetRichTextFrom8BitL</a>(<a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-A3B1D565-B695-3B29-8C53-FB67B08500D9">Lock</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-363B6552-AC5E-38CC-AE4A-1B97A2BCB34F">RestorePlainBodyTextL</a>(<a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">const <a href="GUID-4E5FDC2C-C75D-325E-9E12-5D93EC03095D.html">CMsvCachedStore</a> &amp;</td><td><a href="#GUID-49D4FCF8-5B41-3F1A-83A0-0CBC05637DDA">Store</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-4E5FDC2C-C75D-325E-9E12-5D93EC03095D.html">CMsvCachedStore</a> &amp;</td><td><a href="#GUID-CD4D3708-DBDA-3498-9F1C-C8372CEE7C68">Store</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-55AA030F-B151-3B51-9BF0-1DB0DDBF2870.html">CMsvAttachmentManager</a> *</td><td><a href="#GUID-ECE485D9-DAEC-39A4-A292-B6DBC6D2A248">iAttachmentManager</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-4DD22DB6-6ED7-38DB-BEC3-1034964D9C55.html">CMsvBodyText</a> *</td><td><a href="#GUID-C87DE043-8BD1-320E-BF08-6E512DAD2FC9">iBodyText</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-D75ACE37-631F-3497-90AD-E0F57543F018">iConstructed</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><a href="#GUID-855C2076-6F92-3484-B841-3D4AF269490E">iFs</a></td></tr><tr><td align="right" valign="top">const <a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a></td><td><a href="#GUID-98BF1E19-3B9C-3672-824A-2E2220D7BCC0">iId</a></td></tr><tr class="bg"><td align="right" valign="top">enum CMsvStore::@61</td><td><a href="#GUID-71268C26-1863-35B8-AC28-EECAD598134D">iLockStatus</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td><a href="#GUID-9B5A833E-1657-3336-A340-9C269A8B937F">iObserver</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-4E5FDC2C-C75D-325E-9E12-5D93EC03095D.html">CMsvCachedStore</a> *</td><td><a href="#GUID-AF813D11-DD44-31BB-874B-7561382F54DF">iStore</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;</td><td><a href="#GUID-EFD1E68E-AE7F-33D4-9DEC-59AA8636FA45">iStoreManager</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-C43180D2-8117-33A2-879A-A50E6226E27D"><a name="GUID-C43180D2-8117-33A2-879A-A50E6226E27D"><!-- --></a>
		<h2 class="topictitle2">CMsvStore(MMsvStoreObserver &amp;, RFs &amp;, TMsvId, MMsvStoreManager &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CMsvStore</td><td>(</td><td><a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td>aObserver,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a></td><td>aId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;</td><td>aStoreManager</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp; aObserver</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td> </td></tr><tr><td class="parameter"><a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a> aId</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp; aStoreManager</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4368A557-23BD-316C-B986-AC19C35D6862"><a name="GUID-4368A557-23BD-316C-B986-AC19C35D6862"><!-- --></a>
		<h2 class="topictitle2">~CMsvStore()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CMsvStore</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Destructor.</p>

				<p>If the message store is currently locked, the destructor releases it before deleting the object. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-D0744068-57DB-38AA-9AFF-B553C0F436FA"><a name="GUID-D0744068-57DB-38AA-9AFF-B553C0F436FA"><!-- --></a>
		<h2 class="topictitle2">AttachmentManagerExtensionsL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25.html">MMsvAttachmentManagerSync</a> &amp;</td><td>AttachmentManagerExtensionsL</td><td>(</td><td>)</td><td/></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-73CE27F3-855B-3F87-AE11-4B4F2B8F8825"><a name="GUID-73CE27F3-855B-3F87-AE11-4B4F2B8F8825"><!-- --></a>
		<h2 class="topictitle2">AttachmentManagerL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html">MMsvAttachmentManager</a> &amp;</td><td>AttachmentManagerL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns an interface for the Attachment Manager.</p>

				<p>This methods returns an interface that can be used to provided attachment management functionality for each message entry.</p>

				<p>
					<a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD">MMsvAttachmentManager</a> </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0B893DB9-0D96-39A6-989E-EB58293EAD63"><a name="GUID-0B893DB9-0D96-39A6-989E-EB58293EAD63"><!-- --></a>
		<h2 class="topictitle2">Commit()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Commit</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Commits changes to the message store, returning any error code.</p>

				<p>Committing changes makes these changes permanent, and means that the store cannot be rolled back to a state before the changes were begun.</p>

				<p>You should use this function before deleting a <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a>, if you have made changes to it through <a href="GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D.html#GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D">RMsvWriteStream</a> . Note that <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-63D3EE90-0DA5-3847-AE25-1BA649E4EF6A">StoreBodyTextL()</a> performs a commit itself, so an additional commit is not required after its use.</p>

				<p>The functions is identical to the following one, except that it returns an error code if an error occurs.</p>

				<p>Write access is needed.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-F1D4FE2A-8BB9-3CC2-9C30-DC053848A6B5"><a name="GUID-F1D4FE2A-8BB9-3CC2-9C30-DC053848A6B5"><!-- --></a>
		<h2 class="topictitle2">CommitL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CommitL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Commits changes to the message store, leaving if an error occurs.</p>

				<p>Committing changes makes these changes permanent, and means that the store cannot be rolled back to a state before the changes were begun.</p>

				<p>You should use this function before deleting a <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a>, if you have made changes to it through <a href="GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D.html#GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D">RMsvWriteStream</a> . Note that <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-63D3EE90-0DA5-3847-AE25-1BA649E4EF6A">StoreBodyTextL()</a> performs a commit itself, so an additional commit is not required after its use.</p>

				<p>The functions is identical to the previous one, except that it leaves with the error code if an error occurs.</p>

				<p>Write access is needed.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied Store open for read only </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Standard streaming error codes Unable to commit changes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-F388C8DB-69F5-306E-8CC4-9ABC77F4CDD4"><a name="GUID-F388C8DB-69F5-306E-8CC4-9ABC77F4CDD4"><!-- --></a>
		<h2 class="topictitle2">ConstructL(TBool)</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aReadOnly</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aReadOnly</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-588F73FC-F165-3CE7-8719-A43B0CFC2F09"><a name="GUID-588F73FC-F165-3CE7-8719-A43B0CFC2F09"><!-- --></a>
		<h2 class="topictitle2">Convert8BitToRichTextL(RFile &amp;, CRichText &amp;, TUint, TUint)</h2>
		<table class="signature"><tr><td>void</td><td>Convert8BitToRichTextL</td><td>(</td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aBodyTextFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;</td><td>aRichText,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aCharSet,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aDefaultCharSet</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Converts 8 bit data to Unicode and inserts to the <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html#GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934">CRichText</a> object. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aBodyTextFile</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp; aRichText</td><td>The CRichText object that will be filled on return.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aCharSet</td><td>The charset of the body part.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aDefaultCharSet</td><td>The default charset of the system.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-10471C7E-4E28-3DB0-A601-BF586BCCFA33"><a name="GUID-10471C7E-4E28-3DB0-A601-BF586BCCFA33"><!-- --></a>
		<h2 class="topictitle2">CreateShareProtectedAttachmentL(const TDesC &amp;, RFile &amp;, CMsvAttachment *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CreateShareProtectedAttachmentL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aFileName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aAttachmentFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *</td><td>aAttachmentInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aFileName</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aAttachmentFile</td><td> </td></tr><tr><td class="parameter"><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> * aAttachmentInfo</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4BBD989F-3977-3E5D-B4EB-EF64A5C0D44B"><a name="GUID-4BBD989F-3977-3E5D-B4EB-EF64A5C0D44B"><!-- --></a>
		<h2 class="topictitle2">DeleteBodyTextL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>DeleteBodyTextL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Deletes the stream that contains the body text. Write access is needed for this function.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied Store is not open for writing </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Other Standard streaming leave codes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-A2C33150-75A5-3C17-832F-9710913028DF"><a name="GUID-A2C33150-75A5-3C17-832F-9710913028DF"><!-- --></a>
		<h2 class="topictitle2">DeleteL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>DeleteL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Deletes the message store. After a delete, the behaviour of the object is undefined: it can only be deleted.</p>

				<p>Write access is needed for this function.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied The store is read only </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Other Standard file store error codes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-25AA7EF1-E918-3C1E-909B-52BF8545A46C"><a name="GUID-25AA7EF1-E918-3C1E-909B-52BF8545A46C"><!-- --></a>
		<h2 class="topictitle2">GetRichTextFrom16BitL(RFile &amp;, CRichText &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetRichTextFrom16BitL</td><td>(</td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aBodyTextFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;</td><td>aRichText</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Gets <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html#GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934">CRichText</a> from plain body text file if data stored as 16 bit. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aBodyTextFile</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp; aRichText</td><td>The CRichText object that will be filled on return.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-ECB8D8D5-A374-3910-986A-2D85A8AD94EA"><a name="GUID-ECB8D8D5-A374-3910-986A-2D85A8AD94EA"><!-- --></a>
		<h2 class="topictitle2">GetRichTextFrom8BitL(RFile &amp;, CRichText &amp;, TUint, TUint)</h2>
		<table class="signature"><tr><td>void</td><td>GetRichTextFrom8BitL</td><td>(</td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aBodyTextFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;</td><td>aRichText,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aCharSet,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aDefaultCharSet</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Gets <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html#GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934">CRichText</a> from plain body text file if data stored as 8 bit. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aBodyTextFile</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp; aRichText</td><td>The CRichText object that will be filled on return.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aCharSet</td><td>The charset of the body part.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aDefaultCharSet</td><td>The default charset of the system.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D"><a name="GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D"><!-- --></a>
		<h2 class="topictitle2">HasBodyTextL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>HasBodyTextL</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Checks if the store has a body text stream; IsPresentL(KMsvEntryRichTextBody) will always return EFalse when the store_8bit_flag in imcm.rss is enabled. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-6A75DDEA-189C-3957-A110-6D4E585FFA73"><a name="GUID-6A75DDEA-189C-3957-A110-6D4E585FFA73"><!-- --></a>
		<h2 class="topictitle2">InitialisePlainBodyTextForReadL(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td>InitialisePlainBodyTextForReadL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aChunkLength</td><td>)</td><td/></tr></table><div class="section"><div>
				<div class="p">Intialise and return the <a href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html#GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F">CMsvPlainBodyText</a> object that can be used for reading plain body text. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrAccessDenied If Store is opened in Write mode. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aChunkLength</td><td>The length of the chunk that will be processed while reading.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B5E7A218-7A46-3607-A6B3-D80E505DA02F"><a name="GUID-B5E7A218-7A46-3607-A6B3-D80E505DA02F"><!-- --></a>
		<h2 class="topictitle2">InitialisePlainBodyTextForWriteL(TBool, TUint, TUint)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td>InitialisePlainBodyTextForWriteL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aIs8Bit,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aCharsetId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aDefaultCharsetId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<div class="p">Intialise and return the <a href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html#GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F">CMsvPlainBodyText</a> object that can be used for reading/writing plain body text. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrAccessDenied If Store is opened in Read mode. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aIs8Bit</td><td>TBool indicating whether to store bdy text as 8/16 bit.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aCharsetId</td><td>The charset of the body part.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aDefaultCharsetId</td><td>The default charset of the system.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-995E1AB7-A882-303D-BC72-95E499198221"><a name="GUID-995E1AB7-A882-303D-BC72-95E499198221"><!-- --></a>
		<h2 class="topictitle2">IsNullL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsNullL</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Tests whether the message store contains any streams. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-37C73EAA-04A2-340E-9CBA-19065D173072"><a name="GUID-37C73EAA-04A2-340E-9CBA-19065D173072"><!-- --></a>
		<h2 class="topictitle2">IsPresentL(TUid)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsPresentL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aUid</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Tests whether the message store contains a stream identifier. Do not use to check if there is a body text part stored with the email; use <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D">CMsvStore::HasBodyTextL()</a> instead. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aUid</td><td>Identifier of stream  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A3B1D565-B695-3B29-8C53-FB67B08500D9"><a name="GUID-A3B1D565-B695-3B29-8C53-FB67B08500D9"><!-- --></a>
		<h2 class="topictitle2">Lock()</h2>
		<table class="signature"><tr><td>void</td><td>Lock</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-4C7CF44B-57C4-32FE-A2D6-72ADA6435584"><a name="GUID-4C7CF44B-57C4-32FE-A2D6-72ADA6435584"><!-- --></a>
		<h2 class="topictitle2">OpenForReadL(MMsvStoreObserver &amp;, RFs &amp;, MMsvStoreManager &amp;, TMsvId)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td>OpenForReadL</td><td>(</td><td><a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td>aObserver,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;</td><td>aStoreManager,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a></td><td>aId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp; aObserver</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td> </td></tr><tr><td class="parameter"><a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp; aStoreManager</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a> aId</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-CD67808A-0E69-3407-B212-045B2BC3D252"><a name="GUID-CD67808A-0E69-3407-B212-045B2BC3D252"><!-- --></a>
		<h2 class="topictitle2">OpenForWriteL(MMsvStoreObserver &amp;, RFs &amp;, MMsvStoreManager &amp;, TMsvId)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td>OpenForWriteL</td><td>(</td><td><a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td>aObserver,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;</td><td>aStoreManager,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a></td><td>aId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp; aObserver</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td> </td></tr><tr><td class="parameter"><a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp; aStoreManager</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a> aId</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3A6E8911-6100-31DD-9C1C-66754B71264B"><a name="GUID-3A6E8911-6100-31DD-9C1C-66754B71264B"><!-- --></a>
		<h2 class="topictitle2">Remove(TUid)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Remove</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aUid</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Deletes the identified stream from the store. The function returns, whether or not it completes successfully.</p>

				<p>Write access is needed for this function.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aUid</td><td>The UID of the stream to delete  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-DF99AA0F-82D4-377F-A50F-9F6E9168FFE4"><a name="GUID-DF99AA0F-82D4-377F-A50F-9F6E9168FFE4"><!-- --></a>
		<h2 class="topictitle2">RemoveL(TUid)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RemoveL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aUid</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Deletes the identified stream from the store. It leaves if it cannot complete successfully.</p>

				<p>Write access is needed for this function.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied The store is read only </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Other Standard streaming error codes </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aUid</td><td>The UID of the stream to delete  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9AD03EB6-79D0-371F-8C51-1ACB27F0F17B"><a name="GUID-9AD03EB6-79D0-371F-8C51-1ACB27F0F17B"><!-- --></a>
		<h2 class="topictitle2">Restore8BitBodyTextL(RFileReadStream &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Restore8BitBodyTextL</td><td>(</td><td><a href="GUID-90A3AE1D-DCB2-3E98-8BE9-C48C15964E7D.html">RFileReadStream</a> &amp;</td><td>aInputStream</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Restores 8 bit body text from the Message Store </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-90A3AE1D-DCB2-3E98-8BE9-C48C15964E7D.html">RFileReadStream</a> &amp; aInputStream</td><td>on completion the RFileReadStream contains the message body text stream.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8D13998D-BD12-3A66-BD75-19C61499B29D"><a name="GUID-8D13998D-BD12-3A66-BD75-19C61499B29D"><!-- --></a>
		<h2 class="topictitle2">RestoreBodyTextL(CRichText &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RestoreBodyTextL</td><td>(</td><td><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;</td><td>aRichTextBody</td><td>)</td><td/></tr></table><div class="section"><div>
				<div class="p">Restores body text into the given rich text object - doesnt matter if store is locked or not will leave if the file store doesn't exist, the body text does not exist, and also propagate store leaves Reads the body text stream from the message store into the given rich text object. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNotFound There is no body text stream in the store </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>Other Standard streaming leave codes </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp; aRichTextBody</td><td>On return, the message store's body text is inserted into this object. Any previously existing contents is lost.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9BA3CE81-6261-3E2B-BDEE-16C9C5623371"><a name="GUID-9BA3CE81-6261-3E2B-BDEE-16C9C5623371"><!-- --></a>
		<h2 class="topictitle2">RestoreBodyTextL(CRichText &amp;, TUint)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RestoreBodyTextL</td><td>(</td><td><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;</td><td>aRichTextBody,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aCharsetOverride</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<div class="p">Restores body text into the given rich text object - doesnt matter if store is locked or not. Reads the body text stream from the message store into the given rich text object. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNotFound There is no body text stream in the store </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>Other Standard streaming leave codes </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp; aRichTextBody</td><td>On return, the message store's body text is inserted into this object. Any previously existing contents is lost.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aCharsetOverride</td><td>The charset with which to override the existing charset when data is stored a 8 bit format.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-363B6552-AC5E-38CC-AE4A-1B97A2BCB34F"><a name="GUID-363B6552-AC5E-38CC-AE4A-1B97A2BCB34F"><!-- --></a>
		<h2 class="topictitle2">RestorePlainBodyTextL(CRichText &amp;, TUint)</h2>
		<table class="signature"><tr><td>void</td><td>RestorePlainBodyTextL</td><td>(</td><td><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;</td><td>aRichText,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>aCharsetOverride</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Restores a <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html#GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934">CRichText</a> object from the plain body text file. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp; aRichText</td><td>On completion this contains the plain body text.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> aCharsetOverride</td><td>The new charset with which to override the existing charset when data is stored a 8 bit plain text format.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-208A9B5B-50EF-3A99-8775-49456A394569"><a name="GUID-208A9B5B-50EF-3A99-8775-49456A394569"><!-- --></a>
		<h2 class="topictitle2">Revert()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Revert</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Reverts the store to the previous commit level. This removes all changes that have been made to the store since the last commit.</p>

				<p>The function cannot leave: it returns, whether or not it completes successfully.</p>

				<p>Write access is needed for this function. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-4EFB7F6E-E0F8-3BF2-9357-B485B21B35BB"><a name="GUID-4EFB7F6E-E0F8-3BF2-9357-B485B21B35BB"><!-- --></a>
		<h2 class="topictitle2">RevertL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RevertL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Reverts the store to the previous commit level. This removes all changes that have been made to the store since the last commit.</p>

				<p>The function leaves if it cannot complete successfully.</p>

				<p>Write access is needed for this function.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied The store is read only </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Other Standard streaming error codes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-EB2F949A-56CA-3465-87CA-1222AE5B604F"><a name="GUID-EB2F949A-56CA-3465-87CA-1222AE5B604F"><!-- --></a>
		<h2 class="topictitle2">SizeL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SizeL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Gets the size of the message store.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-49D4FCF8-5B41-3F1A-83A0-0CBC05637DDA"><a name="GUID-49D4FCF8-5B41-3F1A-83A0-0CBC05637DDA"><!-- --></a>
		<h2 class="topictitle2">Store()</h2>
		<table class="signature"><tr><td>const <a href="GUID-4E5FDC2C-C75D-325E-9E12-5D93EC03095D.html">CMsvCachedStore</a> &amp;</td><td>Store</td><td>(</td><td>)</td><td>const [private, inline]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-CD4D3708-DBDA-3498-9F1C-C8372CEE7C68"><a name="GUID-CD4D3708-DBDA-3498-9F1C-C8372CEE7C68"><!-- --></a>
		<h2 class="topictitle2">Store()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-4E5FDC2C-C75D-325E-9E12-5D93EC03095D.html">CMsvCachedStore</a> &amp;</td><td>Store</td><td>(</td><td>)</td><td>[private, inline]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-63D3EE90-0DA5-3847-AE25-1BA649E4EF6A"><a name="GUID-63D3EE90-0DA5-3847-AE25-1BA649E4EF6A"><!-- --></a>
		<h2 class="topictitle2">StoreBodyTextL(const CRichText &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>StoreBodyTextL</td><td>(</td><td>const <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp;</td><td>aRichTextBody</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Stores the body text stream of the message store. Any existing data is overwritten. Write access is needed for this function. A commit must be done following this function for the new data to be retained.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied Store is not open for writing </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Other Standard streaming leave codes </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-39945DA4-B362-3DF6-BF9E-DD079EEA7934.html">CRichText</a> &amp; aRichTextBody</td><td>The body data to be externalised  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-ECE485D9-DAEC-39A4-A292-B6DBC6D2A248"><a name="GUID-ECE485D9-DAEC-39A4-A292-B6DBC6D2A248"><!-- --></a>
		<h2 class="topictitle2">
					CMsvAttachmentManager * iAttachmentManager</h2>
		<table class="signature"><tr><td>
					<a href="GUID-55AA030F-B151-3B51-9BF0-1DB0DDBF2870.html">CMsvAttachmentManager</a> *</td><td>iAttachmentManager</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-C87DE043-8BD1-320E-BF08-6E512DAD2FC9"><a name="GUID-C87DE043-8BD1-320E-BF08-6E512DAD2FC9"><!-- --></a>
		<h2 class="topictitle2">
					CMsvBodyText * iBodyText</h2>
		<table class="signature"><tr><td>
					<a href="GUID-4DD22DB6-6ED7-38DB-BEC3-1034964D9C55.html">CMsvBodyText</a> *</td><td>iBodyText</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D75ACE37-631F-3497-90AD-E0F57543F018"><a name="GUID-D75ACE37-631F-3497-90AD-E0F57543F018"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iConstructed</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iConstructed</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-855C2076-6F92-3484-B841-3D4AF269490E"><a name="GUID-855C2076-6F92-3484-B841-3D4AF269490E"><!-- --></a>
		<h2 class="topictitle2">
					RFs &amp; iFs</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>iFs</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-98BF1E19-3B9C-3672-824A-2E2220D7BCC0"><a name="GUID-98BF1E19-3B9C-3672-824A-2E2220D7BCC0"><!-- --></a>
		<h2 class="topictitle2">const TMsvId iId</h2>
		<table class="signature"><tr><td>const <a href="GUID-EE46F451-70DA-31DE-B49A-79EF77B492FC.html">TMsvId</a></td><td>iId</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-71268C26-1863-35B8-AC28-EECAD598134D"><a name="GUID-71268C26-1863-35B8-AC28-EECAD598134D"><!-- --></a>
		<h2 class="topictitle2">enum CMsvStore::@61 iLockStatus</h2>
		<table class="signature"><tr><td>enum CMsvStore::@61</td><td>iLockStatus</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-9B5A833E-1657-3336-A340-9C269A8B937F"><a name="GUID-9B5A833E-1657-3336-A340-9C269A8B937F"><!-- --></a>
		<h2 class="topictitle2">
					MMsvStoreObserver &amp; iObserver</h2>
		<table class="signature"><tr><td>
					<a href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td>iObserver</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-AF813D11-DD44-31BB-874B-7561382F54DF"><a name="GUID-AF813D11-DD44-31BB-874B-7561382F54DF"><!-- --></a>
		<h2 class="topictitle2">
					CMsvCachedStore * iStore</h2>
		<table class="signature"><tr><td>
					<a href="GUID-4E5FDC2C-C75D-325E-9E12-5D93EC03095D.html">CMsvCachedStore</a> *</td><td>iStore</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-EFD1E68E-AE7F-33D4-9DEC-59AA8636FA45"><a name="GUID-EFD1E68E-AE7F-33D4-9DEC-59AA8636FA45"><!-- --></a>
		<h2 class="topictitle2">
					MMsvStoreManager &amp; iStoreManager</h2>
		<table class="signature"><tr><td>
					<a href="GUID-A47FAC98-FAC8-3919-B6F5-535A7D6AC9D8.html">MMsvStoreManager</a> &amp;</td><td>iStoreManager</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>