<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Completing Composition"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6CED5904-EEE4-5F93-AA8A-37083EC5AFE8.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-97F83011-BE3C-512C-9599-028CBB92BD51.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8DD3B2E3-636A-5FE6-B081-FDB57260E6D8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-418A5D77-E30D-5C4B-B81D-308F5EE7D320.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6CED5904-EEE4-5F93-AA8A-37083EC5AFE8.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Completing Composition</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5"><a name="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2396821 id2396894 id2396908 id2396923 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-97F83011-BE3C-512C-9599-028CBB92BD51.html" title="The Multimedia Plug-ins collection facilitates a plug-in framework to handle the Multimedia audio, video and image data.">Multimedia Plug-ins Collection</a> &gt; <a href="GUID-8DD3B2E3-636A-5FE6-B081-FDB57260E6D8.html">3GP Library Component</a> &gt; <a href="GUID-418A5D77-E30D-5C4B-B81D-308F5EE7D320.html">3GP Library</a> &gt; <a href="GUID-6CED5904-EEE4-5F93-AA8A-37083EC5AFE8.html">Tutorials</a> &gt; </div>
<h1 class="topictitle1">Completing Composition</h1>
<div><p>This tutorial describes how to complete the composing of a 3GP, 3G2 or MP4 file. </p>
 <div class="section"><h2 class="sectiontitle">Purpose</h2> <p>To make sure all data added into the 3GP Composer is committed into the output, you need to complete composition. The purpose of this tutorial is to show you how to complete composition. </p>
 <p><strong>Required background</strong> </p>
 <p>The <a href="GUID-EF71F4BF-2206-5489-BDB9-2F85ED74D6E2.html">3GP Library Overview</a> introduces the 3GP Composer. </p>
 <p><strong>Introduction</strong> </p>
 <p>You must use the <samp class="codeph">C3GPCompose::Complete()</samp> function to commit data to the output file. The output is only guaranteed to be valid, after you call <samp class="codeph">C3GPCompose::Complete()</samp>. </p>
 <p>If you want to use the 3GP Composer again, you can re-initialise it by calling one of the <a href="GUID-C463561F-4BDA-3CBE-9588-AFDB5FD889A2.html"><span class="apiname">C3GPCompose::Open()</span></a> functions. If you do not require the 3GP Composer again, you should destroy the <a href="GUID-C463561F-4BDA-3CBE-9588-AFDB5FD889A2.html"><span class="apiname">C3GPCompose</span></a> instance after you call <samp class="codeph">C3GPCompose::Complete()</samp>. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Using Complete() </h2> <p>The following tasks are covered in this tutorial: </p>
 <ul><li id="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-B18BF8EA-5C8D-5240-914A-96D14096F36D"><a name="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-B18BF8EA-5C8D-5240-914A-96D14096F36D"><!-- --></a><p><a href="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5.html#GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-077C67CD-4323-5D14-A485-C357EB2EBCDB"> Completing composition</a>  </p>
 </li>
 </ul>
 <p id="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-077C67CD-4323-5D14-A485-C357EB2EBCDB"><a name="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-077C67CD-4323-5D14-A485-C357EB2EBCDB"><!-- --></a><strong>Completing composition</strong> </p>
 <p>To complete the composing process: </p>
 <ul><li id="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-85A48EFC-50D1-5157-A21A-9740ABEF1D91"><a name="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-85A48EFC-50D1-5157-A21A-9740ABEF1D91"><!-- --></a><p>Call <a href="GUID-C463561F-4BDA-3CBE-9588-AFDB5FD889A2.html"><span class="apiname">C3GPCompose::Complete()</span></a>: </p>
 <pre class="codeblock" id="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-84DFE149-8EA8-5EC5-A78B-8A87CDE9198F"><a name="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-84DFE149-8EA8-5EC5-A78B-8A87CDE9198F"><!-- --></a>IMPORT_C TInt Complete();</pre>
 <p>If an error occurs when the data is committed into the output file, an error code is returned by the <samp class="codeph">C3GPCompose::Complete()</samp> function. Regardless of the result, the 3GP Composer closes the output file before <samp class="codeph">C3GPCompose::Complete()</samp> returns. </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">Example</h2> <p>The following example shows you how to complete the composing process: </p>
 <pre class="codeblock" id="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-DF36A0C5-D3FD-54C5-85CC-6D87329A821F"><a name="GUID-460089B6-CA35-5DB7-ABC0-A688D6EE77D5__GUID-DF36A0C5-D3FD-54C5-85CC-6D87329A821F"><!-- --></a>CMyApp::WriteFileL(const TDesC&amp; aFile)
    {
    ...
    // set up composer as shown in Setting up a 3GP Composer and Adding Data to a 3GP Composer. 
    ...
    User::LeaveIfError(composer-&gt;Complete());
    ...
    }</pre>
 </div>
 <div class="section"><h2 class="sectiontitle">See also</h2> <p><a href="GUID-28DF11D8-F895-5D4B-8C6D-AEAB3172F3B6.html">Setting up a 3GP Composer</a>  </p>
 <p><a href="GUID-32B58425-81AC-59D6-A17F-21BD06ACB658.html">Adding Data to a 3GP Composer</a>  </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-6CED5904-EEE4-5F93-AA8A-37083EC5AFE8.html">Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>