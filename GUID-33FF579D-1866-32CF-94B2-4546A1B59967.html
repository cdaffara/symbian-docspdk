<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MXIMPProtocolConnection"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-33FF579D-1866-32CF-94B2-4546A1B59967"/>

<title>MXIMPProtocolConnection</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-33FF579D-1866-32CF-94B2-4546A1B59967"><a name="GUID-33FF579D-1866-32CF-94B2-4546A1B59967"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2454385 id2454464 id2454855 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MXIMPProtocolConnection Class Reference</h1>
	<table class="signature"><tr><td>class MXIMPProtocolConnection : public MXIMPBase</td></tr></table><div class="section"><div>
			<p>Interface for presence protocol connection object. Interface must be implemented by a XIMP Framework protocol plug-ins.</p>

			<p>This interface models a connection from XIMP Framework to single remote presence service, over certain presence protocol implementation. XIMP Framework calls methods on this interface based on XIMP Framework client requests.</p>

			<p>XIMP Framework retrieves <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instances through <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F67AD597-FC2E-300B-9032-C77B4DD5141F">MXIMPProtocolPlugin::AcquireConnectionL()</a>. Same <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance may be returned by multiple <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F67AD597-FC2E-300B-9032-C77B4DD5141F">MXIMPProtocolPlugin::AcquireConnectionL()</a> calls. In this case XIMP Framework shares <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance by multiple clients, and <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> lifetime is extended over utilizing client sessions. When last utilizing client session is succesfully closed with <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-D8594BCE-3E17-3051-97E7-DEE287BD7BB9">MXIMPProtocolConnection::CloseSession()</a>, XIMP Framework disposes the <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance with <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F16E8E39-E548-378D-BED9-F801B2B67FE1">MXIMPProtocolPlugin::ReleaseConnection()</a>.</p>

			<div class="p">
				<a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> implementation must provide access following feature specific sub-interfaces:<ul><li><p>MProtocolPresenceWatching</p>
</li>
<li><p>MProtocolPresencePublishing</p>
</li>
<li><p>MProtocolPresentityGroups</p>
</li>
<li><p>MProtocolPresenceAuthorization</p>
</li>
</ul>
</div>

			<p>Each provided sub-interface defines a set of its own presence managements requests, relating to presence watching and subscribing, presence publication, presentity groups and presentity group member management and to presence authorizations. XIMP Framework calls these sub-interfaces to request on spesific presence requests from protocol connection.</p>

			<div class="p">
				<a href="GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B.html#GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B">MXIMPProtocolConnectionHost</a>
				<dl class="since">
					
						<dt class="dlterm">Since</dt>

						<dd>S60 v3.2 </dd>

					
				</dl>

			</div>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">MXIMPProtocolConnection<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-7907753B-1752-3A69-8869-91017E87354F.html">MXIMPBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-D8594BCE-3E17-3051-97E7-DEE287BD7BB9">CloseSession</a>(const <a href="GUID-5BD7D467-2AA1-3093-88C5-5ACF14DB49EA.html">MXIMPContextClientInfo</a> &amp;, <a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a>)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-A567635D-00B0-38B6-99EA-7282500EC55F">GetProtocolInterface</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-7BFCD4AE-07EC-3C50-B5EC-36FDC6C250FE">GetSupportedFeaturesL</a>(<a href="GUID-5C0DD165-5C23-38C0-983E-B856F9F46F12.html">CDesC8Array</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D09C1E20-1551-3740-86DE-CAF20039BD72">OpenSessionL</a>(const <a href="GUID-5BD7D467-2AA1-3093-88C5-5ACF14DB49EA.html">MXIMPContextClientInfo</a> &amp;, <a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-E6232C4E-3786-3DB5-81D4-7D3431AD3552">OpenSessionL</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-A1BCF123-25DE-36C8-9926-909DC62AA2EA">PrimeHost</a>(<a href="GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B.html">MXIMPProtocolConnectionHost</a> &amp;)</td></tr><tr><td align="right" class="code">MProtocolPresenceFeatures &amp;</td><td><a href="#GUID-985AEBBC-5FCF-33F2-A4A7-71D4BC5A2E88">ProtocolPresenceFeatures</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-4A2E0756-84BD-3691-80DC-621B59FA738F">~MXIMPProtocolConnection</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-7907753B-1752-3A69-8869-91017E87354F.html">MXIMPBase::GetInterface(TInt32,TIfGetOps)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-7907753B-1752-3A69-8869-91017E87354F.html">MXIMPBase::GetInterface(TInt32,TIfGetOps)const</a></td></tr><tr><td> </td><td><a href="GUID-7907753B-1752-3A69-8869-91017E87354F.html">MXIMPBase::GetInterfaceId()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-7907753B-1752-3A69-8869-91017E87354F.html">MXIMPBase::~MXIMPBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-7907753B-1752-3A69-8869-91017E87354F.html">MXIMPBase:@26</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-7907753B-1752-3A69-8869-91017E87354F.html">MXIMPBase:TIfGetOps</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-4A2E0756-84BD-3691-80DC-621B59FA738F"><a name="GUID-4A2E0756-84BD-3691-80DC-621B59FA738F"><!-- --></a>
		<h2 class="topictitle2">~MXIMPProtocolConnection()</h2>
		<table class="signature"><tr><td>~MXIMPProtocolConnection</td><td>(</td><td>)</td><td>[protected, inline, virtual]</td></tr></table><div class="section"><div>
				<p>Protected destructor. <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> objects can't be deleted through this interface.</p>

				<p>XIMP Framework disposes <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instances through <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F16E8E39-E548-378D-BED9-F801B2B67FE1">MXIMPProtocolPlugin::ReleaseConnection()</a>. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-D8594BCE-3E17-3051-97E7-DEE287BD7BB9"><a name="GUID-D8594BCE-3E17-3051-97E7-DEE287BD7BB9"><!-- --></a>
		<h2 class="topictitle2">CloseSession(const MXIMPContextClientInfo &amp;, TXIMPRequestId)</h2>
		<table class="signature"><tr><td>void</td><td>CloseSession</td><td>(</td><td>const <a href="GUID-5BD7D467-2AA1-3093-88C5-5ACF14DB49EA.html">MXIMPContextClientInfo</a> &amp;</td><td>aContextClient,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a></td><td>aReqId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Closes the identified client session from the presence connection.</p>

				<p>XIMP Framework calls this method to close the remote presence service session, for here specified client. When last using client session is closed, XIMP Framework consideres the remote presence connection as disconnect, and disposes <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance with <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F16E8E39-E548-378D-BED9-F801B2B67FE1">MXIMPProtocolPlugin::ReleaseConnection()</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-5BD7D467-2AA1-3093-88C5-5ACF14DB49EA.html">MXIMPContextClientInfo</a> &amp; aContextClient</td><td>Client which session to close. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a> aReqId</td><td>Request ID identifying the request. Presence protocol connection implementation must cache here given ID and use it when completing the request later through the MXIMPProtocolConnectionHost::HandleRequestCompleted().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A567635D-00B0-38B6-99EA-7282500EC55F"><a name="GUID-A567635D-00B0-38B6-99EA-7282500EC55F"><!-- --></a>
		<h2 class="topictitle2">GetProtocolInterface(TInt)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>GetProtocolInterface</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aInterfaceId</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets reference to protocol specific interface.</p>

				<p>XIMP Framework calls this method to retrieve a reference to protocol interface implementation.</p>

				<div class="p">Call and interface lifetime convention:<ul><li><p>This method isn't called before protocol has signalled <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-D09C1E20-1551-3740-86DE-CAF20039BD72">MXIMPProtocolConnection::OpenSessionL()</a> succesfully completed.</p>
</li>
</ul>
</div>

				<div class="p">
					<ul>
						<li>
							<p>XIMP Framework may call this method multiple times for for one <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance.</p>

						</li>

					</ul>

				</div>

				<div class="p">
					<ul>
						<li>
							<p>Each call per one <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance, must return reference to same interface instance.</p>

						</li>

					</ul>

				</div>

				<div class="p">
					<ul>
						<li>
							<p>Returned interface instance must remain valid (usable) untill last client session, using originating presence protocol connection is successfully closed with <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-D8594BCE-3E17-3051-97E7-DEE287BD7BB9">MXIMPProtocolConnection::CloseSession()</a>.</p>

						</li>

					</ul>

				</div>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aInterfaceId</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-7BFCD4AE-07EC-3C50-B5EC-36FDC6C250FE"><a name="GUID-7BFCD4AE-07EC-3C50-B5EC-36FDC6C250FE"><!-- --></a>
		<h2 class="topictitle2">GetSupportedFeaturesL(CDesC8Array &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetSupportedFeaturesL</td><td>(</td><td><a href="GUID-5C0DD165-5C23-38C0-983E-B856F9F46F12.html">CDesC8Array</a> &amp;</td><td>aFeatures</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets features that presence protocol connection supports.</p>

				<p>Presence protocol connection should negotiate available features during the connection establish and this method should return the supported features from presence protocol connection internal cache.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5C0DD165-5C23-38C0-983E-B856F9F46F12.html">CDesC8Array</a> &amp; aFeatures</td><td>Return parameter where to append supported presence protocol connection features. Feature IDs are defined in NXIMPFeature namespace.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D09C1E20-1551-3740-86DE-CAF20039BD72"><a name="GUID-D09C1E20-1551-3740-86DE-CAF20039BD72"><!-- --></a>
		<h2 class="topictitle2">OpenSessionL(const MXIMPContextClientInfo &amp;, TXIMPRequestId)</h2>
		<table class="signature"><tr><td>void</td><td>OpenSessionL</td><td>(</td><td>const <a href="GUID-5BD7D467-2AA1-3093-88C5-5ACF14DB49EA.html">MXIMPContextClientInfo</a> &amp;</td><td>aContextClient,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a></td><td>aReqId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Opens a session for the identified client through the presence protocol connection.</p>

				<p>XIMP Framework calls this method to open a session to remote presence service, for here specified client. Remote presence service was identified when the <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance was retrieved through <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F67AD597-FC2E-300B-9032-C77B4DD5141F">MXIMPProtocolPlugin::AcquireConnectionL()</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-5BD7D467-2AA1-3093-88C5-5ACF14DB49EA.html">MXIMPContextClientInfo</a> &amp; aContextClient</td><td>Object describing the presence connection client. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a> aReqId</td><td>Request ID identifying the request. Presence protocol connection implementation must cache here given ID and use it when completing the request later through the MXIMPProtocolConnectionHost::HandleRequestCompleted().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E6232C4E-3786-3DB5-81D4-7D3431AD3552"><a name="GUID-E6232C4E-3786-3DB5-81D4-7D3431AD3552"><!-- --></a>
		<h2 class="topictitle2">OpenSessionL(const TInt &amp;, TXIMPRequestId)</h2>
		<table class="signature"><tr><td>void</td><td>OpenSessionL</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td>aSettingsId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a></td><td>aReqId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Opens a session for the identified client through the presence protocol connection.</p>

				<p>XIMP Framework calls this method to open a session to remote presence service, for here specified client. Remote presence service was identified when the <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance was retrieved through <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F67AD597-FC2E-300B-9032-C77B4DD5141F">MXIMPProtocolPlugin::AcquireConnectionL()</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp; aSettingsId</td><td>SettingsId for the presence connection client. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-9B798876-953E-3948-867F-C70258E8866A.html">TXIMPRequestId</a> aReqId</td><td>Request ID identifying the request. Presence protocol connection implementation must cache here given ID and use it when completing the request later through the MXIMPProtocolConnectionHost::HandleRequestCompleted().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A1BCF123-25DE-36C8-9926-909DC62AA2EA"><a name="GUID-A1BCF123-25DE-36C8-9926-909DC62AA2EA"><!-- --></a>
		<h2 class="topictitle2">PrimeHost(MXIMPProtocolConnectionHost &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>PrimeHost</td><td>(</td><td><a href="GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B.html">MXIMPProtocolConnectionHost</a> &amp;</td><td>aHost</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Primes protocol connection with its callback interface.</p>

				<p>Primes the presence protocol connection instance with its XIMP Framework side callback interface. Here given <a href="GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B.html#GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B">MXIMPProtocolConnectionHost</a> interface is implemented and owned by the XIMP Framework, and presence protocol connection must use it to communicate back to XIMP Framework direction.</p>

				<div class="p">Call and interface lifetime convention:<ul><li><p>This method is called by XIMP Framework before requesting any other requests from protocol connection instance.</p>
</li>
</ul>
</div>

				<div class="p">
					<ul>
						<li>
							<p>This method is called just once for each <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a>, even the same <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance is returned multiple times from <a href="GUID-2EE06D8E-7777-3477-9973-1347B88FA53F.html#GUID-F67AD597-FC2E-300B-9032-C77B4DD5141F">MXIMPProtocolPlugin::AcquireConnectionL()</a>.</p>

						</li>

					</ul>

				</div>

				<div class="p">
					<ul>
						<li>
							<p>Each presence protocol connection instance must use here given specific host interface instance to communicate back to XIMP Framework direction</p>

						</li>

					</ul>

				</div>

				<div class="p">
					<ul>
						<li>
							<p>The presence protocol connection implementation must store the here given host reference internally, so protocol connection implementation can access the host when needed.</p>

						</li>

					</ul>

				</div>

				<div class="p">
					<ul>
						<li>
							<p>Here given <a href="GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B.html#GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B">MXIMPProtocolConnectionHost</a> instance, is guaranteed to remain valid (usable), untill the presence protocol connection has completed the last <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-D8594BCE-3E17-3051-97E7-DEE287BD7BB9">MXIMPProtocolConnection::CloseSession()</a> request.</p>

						</li>

					</ul>

				</div>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E0175B00-2875-338F-8D85-1C4BA6304F5B.html">MXIMPProtocolConnectionHost</a> &amp; aHost</td><td>Reference to host interface, what this MXIMPProtocolConnection instance must use to communicate back to XIMP Framework direction. Object ownership is not trasfered.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-985AEBBC-5FCF-33F2-A4A7-71D4BC5A2E88"><a name="GUID-985AEBBC-5FCF-33F2-A4A7-71D4BC5A2E88"><!-- --></a>
		<h2 class="topictitle2">ProtocolPresenceFeatures()</h2>
		<table class="signature"><tr><td>MProtocolPresenceFeatures &amp;</td><td>ProtocolPresenceFeatures</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets reference to presence watching interface.</p>

				<p>XIMP Framework calls this method to retrieve a reference to protocols MProtocolPresenceWatching interface implementation.</p>

				<div class="p">Call and interface lifetime convention:<ul><li><p>This method isn't called before protocol has signalled <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-D09C1E20-1551-3740-86DE-CAF20039BD72">MXIMPProtocolConnection::OpenSessionL()</a> succesfully completed.</p>
</li>
</ul>
</div>

				<div class="p">
					<ul>
						<li>
							<p>XIMP Framework may call this method multiple times for for one <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance.</p>

						</li>

					</ul>

				</div>

				<div class="p">
					<ul>
						<li>
							<p>Each call per one <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-33FF579D-1866-32CF-94B2-4546A1B59967">MXIMPProtocolConnection</a> instance, must return reference to same interface instance.</p>

						</li>

					</ul>

				</div>

				<div class="p">
					<ul>
						<li>
							<p>Returned interface instance must remain valid (usable) untill last client session, using originating presence protocol connection is successfully closed with <a href="GUID-33FF579D-1866-32CF-94B2-4546A1B59967.html#GUID-D8594BCE-3E17-3051-97E7-DEE287BD7BB9">MXIMPProtocolConnection::CloseSession()</a>.</p>

						</li>

					</ul>

				</div>

				<p/>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>